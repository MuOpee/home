!function(s){function t(t){for(var e,n,i=t[0],o=t[1],r=0,a=[];r<i.length;r++)n=i[r],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&a.push(l[n][0]),l[n]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(s[e]=o[e]);for(d&&d(t);a.length;)a.shift()()}var n={},l={0:0,4:0};function c(t){var e;return(n[t]||(e=n[t]={i:t,l:!1,exports:{}},s[t].call(e.exports,e,e.exports,c),e.l=!0,e)).exports}c.e=function(i){var o,r,t,a,e,n=[],s=l[i];return 0!==s&&(s?n.push(s[2]):(e=new Promise(function(t,e){s=l[i]=[t,e]}),n.push(s[2]=e),(o=document.createElement("script")).charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.src=c.p+""+({}[e=i]||e)+"-"+{6:"2535ebd560008db72fcd"}[e]+".js",r=new Error,t=function(t){o.onerror=o.onload=null,clearTimeout(a);var e,n=l[i];0!==n&&(n&&(e=t&&("load"===t.type?"missing":t.type),t=t&&t.target&&t.target.src,r.message="Loading chunk "+i+" failed.\n("+e+": "+t+")",r.name="ChunkLoadError",r.type=e,r.request=t,n[1](r)),l[i]=void 0)},a=setTimeout(function(){t({type:"timeout",target:o})},12e4),o.onerror=o.onload=t,document.head.appendChild(o))),Promise.all(n)},c.m=s,c.c=n,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/js/",c.oe=function(t){throw console.error(t),t};var e=(i=window.webpackJsonp=window.webpackJsonp||[]).push.bind(i);i.push=t;for(var i=i.slice(),o=0;o<i.length;o++)t(i[o]);var d=e;c(c.s=498)}([function(t,e,n){function f(t,e,n){var i,o,r,a=t&f.F,s=t&f.G,l=t&f.P,c=t&f.B,d=s?h:t&f.S?h[e]||(h[e]={}):(h[e]||{})[y],u=s?m:m[e]||(m[e]={}),p=u[y]||(u[y]={});for(i in n=s?e:n)o=((r=!a&&d&&void 0!==d[i])?d:n)[i],r=c&&r?b(o,h):l&&"function"==typeof o?b(Function.call,o):o,d&&v(d,i,o,t&f.U),u[i]!=o&&g(u,i,r),l&&p[i]!=o&&(p[i]=o)}var h=n(2),m=n(18),g=n(11),v=n(12),b=n(19),y="prototype";h.core=m,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,e,n){var i=n(4);t.exports=function(t){if(i(t))return t;throw TypeError(t+" is not an object!")}},function(t,e){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(49)("wks"),o=n(34),r=n(2).Symbol,a="function"==typeof r;(t.exports=function(t){return i[t]||(i[t]=a&&r[t]||(a?r:o)("Symbol."+t))}).store=i},function(t,e,n){var i=n(21),o=Math.min;t.exports=function(t){return 0<t?o(i(t),9007199254740991):0}},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(1),o=n(101),r=n(24),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(25);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(8),o=n(33);t.exports=n(7)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(2),a=n(11),s=n(14),l=n(34)("src"),i=n(147),o="toString",c=(""+i).split(o);n(18).inspectSource=function(t){return i.call(t)},(t.exports=function(t,e,n,i){var o="function"==typeof n;o&&!s(n,"name")&&a(n,"name",e),t[e]!==n&&(o&&!s(n,l)&&a(n,l,t[e]?""+t[e]:c.join(String(e))),t===r?t[e]=n:i?t[e]?t[e]=n:a(t,e,n):(delete t[e],a(t,e,n)))})(Function.prototype,o,function(){return"function"==typeof this&&this[l]||i.call(this)})},function(t,e,n){function i(t,e,n,i){var t=String(a(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),o+">"+t+"</"+e+">"}var o=n(0),r=n(3),a=n(25),s=/"/g;t.exports=function(e,t){var n={};n[e]=t(i),o(o.P+o.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(50),o=n(25);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(51),o=n(33),r=n(15),a=n(24),s=n(14),l=n(101),c=Object.getOwnPropertyDescriptor;e.f=n(7)?c:function(t,e){if(t=r(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(14),o=n(9),r=n(72)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){t=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},function(t,e,n){var r=n(10);t.exports=function(i,o,t){if(r(i),void 0===o)return i;switch(t){case 1:return function(t){return i.call(o,t)};case 2:return function(t,e){return i.call(o,t,e)};case 3:return function(t,e,n){return i.call(o,t,e,n)}}return function(){return i.apply(o,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:n)(t)}},function(t,e,n){"use strict";var i=n(3);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});f={appName:"Mobirise",version:"5.9.13",dataLocation:"",projectDataLocation:"@DATA_LOCATION@/projectData",tempLocation:"",publicTempLocation:"@TEMP_LOCATION@",docLocation:"",imgLocation:"@DOC_LOCATION@",projectsLocation:"@DATA_LOCATION@/projects",isPro:!0,isDev:!1,debug:0,getArgs:(o=window.location.href,function(t){return t?t(o.split(/\&|\?/)):(i||((i=o.replace(/^.*?(\?|$)/,"").split("&").reduce(function(t,e){return(e=e.split("="))[0]&&(t[e[0]]=decodeURIComponent(e.slice(1).join("="))),t},{})).embedded=function(){try{return window.self!==window.top}catch(t){return!0}}(),i.external="true"===i.external),i)}),templating:function(t){return t},openUrl:function(t){window.open(t,"_blank")},runFileDialog:function(t,e,n,i,o){d()||u(),i&&i("")},runFileDialog2:function(t,e){var n=[];t&&(n.push(e&&e.caption||""),n.push(e&&e.path||""),n.push(e&&e.filter||""),n.push(t),n.push(e&&e.multi),f.runFileDialog.apply(f,n))},initProject:function(t,e){t&&t("",{path:f.dataLocation+"/projects/project-"+f.dateFormat(new Date,"yyyy-MM-dd_hhmmss"),name:e})},saveLocalFile:function(t,e,n){console.warn('call Bridge.saveLocalFile("'+t+'", String['+e.length+"])"),d()||!/^\/projects\/.+project\.mobirise$/.test(t)&&!/^\/recents.list$/.test(t)?n&&n(!1):(f.FILES=f.FILES||{},f.FILES[t]=e,n&&n(!0))},loadLocalFile:function(t,e){e=e||function(){},!d()&&(/^\/projects\/.+project\.mobirise$/.test(t)||0<=t.indexOf(f._recentsFile))?e(f.FILES&&f.FILES[t]||""):f.http(f.path2app(t),{success:function(){e()},error:function(){e("")}})},registerPreviewPath:function(){return f.publicTempLocation+"/"+f.dateFormat(new Date,"yyyyMMdd_hhmmss")},copyLocal:function(t,e,n){n&&n("")},removeLocal:function(t,e){e&&e(!1)},isExistsLocal:function(t,e){f.loadLocalFile(t,function(t){e&&e(!!t)})},dirList:function(t,e,n){e&&e([])},getInfoLocal:function(t,e){e&&e()},moveLocal:function(t,e,n){n&&n(!1)},loadLocalBase64:function(t,e){f.loadLocalFile(t,function(t){e(btoa(t))})},loadLocalBlob:function(t,e){f.loadLocalFile(t,function(t){callback(new Blob([t],{type:"text/plain"}))})},saveLocalBase64:function(t,e,n){n&&n(!1)},md5_base64:function(t,e){console.warn("call md5_base64"),e&&e("")},uploadBuildIn:function(n,i,o){if(!n||!i)return"file";o=h(o,{onStart:function(t){},onFile:function(t){},onUploaded:function(t){},onError:function(t){},onClose:function(t){},onData:function(t,e){return""}});var r=1,a=-1;function s(t){switch(r){case 4:return;case 1:if(t)return void(r=t);break;case 2:if(!t||3==t)return;r=t,t=0;break;case 3:return t?void(r=t):void(r=2);case 5:if(t)return;n=""}var e;a<0?f._uploadBuildIn_init(n,function(t){t?(r=2,o.onError(t)):(o.onStart(i.length),a=0,s())}):a>=i.length||5==r?(r=4,f._uploadBuildIn_done(n,function(t){t&&o.onError(t),o.onClose(n)})):(e=i[a++],o.onFile(e.dest),f._uploadBuildIn_file(e,o.onData,n,function(t){t?(r=2,o.onError(t)):(o.onUploaded(e.dest),s())}))}return setTimeout(s,1),{resume:function(){s(1)},pause:function(){s(3)},exit:function(){s(5)}}},_uploadBuildIn_init:function(t,e){console.log("Emulate Bridge.uploadBuilding()..."),console.log("Upload to url =",t),setTimeout(function(){e&&e("")},1)},_uploadBuildIn_done:function(t,e){console.log("Upload is done! url =",t),setTimeout(function(){e&&e("")},1)},_uploadBuildIn_file:function(t,e,n,i){console.log("Uploading file "+t.dest);for(var o=0;o<t.srcList.length;o++){var r,a=t.srcList[o];a.filter?(r=e(a.src,a.filter),console.log("<<< "+a.src+" <<< data.length="+r.length)):console.log("<<< "+a.src)}setTimeout(function(){i&&i("")},100)},supportedImgExts:["jpg","jpeg","png","gif","bmp","svg","ico"],getScreen:function(t,e,n,i){console.warn("call Bridge.getScreen()"),t&&t()},zip:function(){return new JSZip},saveAs:function(t,e,n){window.saveAs(t,e,n)},setSettings:function(t,e,n){console.warn("call Bridge.setSettings("+t+","+e+")"),n&&n(!1)},getSettings:function(t,e){e&&e("account"==t?'{"email":"8b@gmail.com","token":"1234"}':"")},setSettingsArray:function(i,t){for(var e=0;e<t.length;e++)f.setSettings(i+"/"+e,t[e]);!function e(n){f.getSettings(i+"/"+n,function(t){t&&(f.setSettings(i+"/"+n,""),e(n+1))})}(t.length)},getSettingsArray:function(t,o){!function e(n,i){f.getSettings(t+"/"+n,function(t){t?(i.push(t),e(n+1,i)):o(i)})}(0,[])},encode:function(t,e){e&&e(t)},decode:function(t,e){e&&e(t)},download:function(t,e){e&&e(t)},download2:function(t,e,n){e&&e(t)},osLocale:function(t){t(window.navigator.language.replace("-","_"))},args:{},isValid:function(){return!1},versionCmp:function(t,e){t=(t||"").split("."),e=(e||"").split(".");for(var n=0;n<t.length||n<e.length;n++)if(t[n]=parseInt(t[n])||0,e[n]=parseInt(e[n])||0,t[n]!=e[n])return t[n]-e[n];return 0},base:(s=location.origin+location.pathname).substr(0,s.lastIndexOf("/")+1),path2app:function(t){return/^(\w*\:)?\/\//.test(t)?t:t&&t.startsWith("web/")?t.replace("web/",f.base):"../"+t},url2sys:function(t){return t=decodeURI(t),t=/^file:\/\/\/\w+\:/.test(t)?t.replace(/^file:\/\/\/(\w+\:)/,"$1").replace(/\//g,"\\"):t.replace(/^file:\/\//,"")},sys2url:function(t,e){return t?("/"!=(e=e||f.base)[e.length-1]&&(e+="/"),t=encodeURI(t.replace(/\\/g,"/")),/^(\w*\:)?\//.test(t)?"file://"+t.replace(/^\w+\:\//,"/$&"):e+t):e||""},substUrl:function(t){return t.replace("%name%",f.appName).replace("%ver%",f.version).replace("%os%",f.getPlatform()).replace("%reg%",f.isPro?"pro":"free")},FileManager:function(n,i,e,o){if(!n||!i)return f.uploadBuildIn("");var r=!1,a=f._fmQueue,t=(e=h({start:function(t){},file:function(t){},uploaded:function(t){},error:function(t){console.log("FileManager error:"+t),s()},close:function(t){}},e,!0),this._run=function(){var t={onStart:l,onFile:c,onUploaded:d,onError:u,onClose:p,onData:f.templating.bind(o||{})};if(!(r=f.uploadBuildIn(i,n,t)))for(var e=0;e<f._fileManagerUploaders.length&&!(r=f._fileManagerUploaders[e](i,n,t));e++);});this.pause=function(){r&&r.pause()};var s=this.resume=function(){r&&r.resume()},l=(this.exit=function(){r&&r.exit()},function(t){1&f.debug&&console.log("FileManager:emitStart",t),setTimeout(function(){e.start(t)},1)}),c=function(t){1&f.debug&&console.log("FileManager:emitFile",t),setTimeout(function(){e.file(t)},1)},d=function(t){1&f.debug&&console.log("FileManager:emitUploaded",t),setTimeout(function(){e.uploaded(t)},1)},u=function(t){1&f.debug&&console.log("FileManager:emitError",t),setTimeout(function(){e.error(t)},1)},p=function(t){1&f.debug&&console.log("FileManager:emitClose",t),r=!1,setTimeout(function(){e.close(t)},1),setTimeout(function(){a.shift(),a.length&&a[0]._run()},1)};a.push(this),1==a.length&&t()},_fmQueue:[],fileManagerAddUploader:function(t){f._fileManagerUploaders.push(t)},_fileManagerUploaders:[],parseUrl:function(t){return{url:(t=/^([^:]*)\:(?:\/\/(?:(?:([^\/:]*)(?:\:([^\/]*))?@)?([^\/@:]+)(?:\:(\d+))?))?(\/[^?]*)?(?:\?([^?]*))?$/.exec(t)||[])[0],scheme:t[1],user:t[2],password:t[3],domain:t[4],port:parseInt(t[5]),path:t[6],query:t[7]}},joinUrl:function(t){return((t=t||{}).scheme||"")+":"+(t.domain?"//"+(t.user?t.user+("password"in t?":"+t.password:"")+"@":"")+t.domain+(t.port?":"+t.port:""):"")+(t.path?("/"!=t.path[0]?"/":"")+t.path:"")+(t.query?"?"+t.query:"")},bind:function(t,e){this[t="on"+t.toLowerCase()]||(this[t]=[]),this[t].push(e)},unbind:function(t,e){return t="on"+t.toLowerCase(),e?-1<(e=this[t].indexOf(e))?this[t].splice(e,1):void 0:this[t]=[]},emit:function(t,e){if(this[t="on"+t.toLowerCase()])for(var n=0;n<this[t].length;n++)try{this[t][n](e)}catch(t){}},initPath:"",OnReady:[],setOnReady:function(t){f.OnReady?f.OnReady.push(t):t()},emitOnReady:function(){for(;f.OnReady&&f.OnReady.length;)try{f.OnReady.shift()()}catch(t){console.error(t)}f.OnReady=0},regQuitTask:function(t){r.push(t)},getPlatform:function(){return navigator.userAgent.match(/Mobirise-webview/i)?"android":!/iphone|ipod|ipad/.test(navigator.userAgent.toLowerCase())||navigator.standalone||/safari/.test(navigator.userAgent.toLowerCase())?navigator.platform.match(/Mac/i)?"mac":navigator.platform.match(/Linux/i)?"linux":"win":"ios"},isMobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobirise-webview/i.test(navigator.userAgent.toLowerCase()),_recentsFile:"recents.list",getRecentsList:function(n){f.loadLocalFile(f.dataLocation+"/"+f._recentsFile,function(t){var e;try{e=JSON.parse(t)}catch(t){}n(e||[])})},addRecent:function(i,o){i&&i.path?f.getRecentsList(function(t){t=t||[];for(var e=0;e<t.length;e++)if(t[e].path==i.path){var n=t.splice(e,1)[0]||{};i.name=i.name||n.name,i.screenshot=i.screenshot||n.screenshot;break}t.unshift(i),f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(t),function(t){t||console.error("Error: unable to save recent list"),o&&o(t)})}):o&&o(!1)},moveRecent:function(n,i,o){f.getRecentsList(function(t){for(var e=0;e<t.length;e++)if(t[e].path==n)return t.splice(i,0,t.splice(e,1)[0]),void f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(t),o);o&&o(!1)})},rmRecent:function(i,o){i&&f.getRecentsList(function(t){for(var e=[],n=0;n<t.length;n++)t[n].path!=i&&e.push(t[n]);d()?f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(e),o):(u(),o(!1))})},getRecentSettings:function(n,i){if(!i)return!1;n||i(!1),f.getRecentsList(function(t){for(var e=0;e<t.length;e++)if(t[e].path==n)return i(t[e]);i(!1)})},changeRecentSettings:function(i,o,r){i&&o&&f.getRecentsList(function(t){for(var e=0;e<t.length;e++)if(t[e].path==i)for(var n in o)t[e][n]=o[n];f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(t),r)})},saveAllRecents:function(t,e){f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(t),e)},http:function(t,e){var n,i,o=performance.now();e=h(e||{},{method:"GET",headers:{},data:null,success:function(t){},error:function(t){}});try{n=new XMLHttpRequest}catch(t){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){console.log(t.message),e.error(t.message)}}if(n){n.onreadystatechange=function(){var t;4==n.readyState&&(e.timeout&&clearTimeout(i),t=performance.now()-o,200!=n.status&&n.status&&201!=n.status&&204!=n.status?e.error(n.status,n):e.success(n.responseText,n,t))};try{for(var r in n.open(e.method,t,!0),n.withCredentials=void 0===e.withCredentials||e.withCredentials,e.headers)n.setRequestHeader(r,e.headers[r]);n.send(e.data),e.timeout&&(i=setTimeout(function(){n.abort(),e.error("something went wrong",n)},e.timeout))}catch(t){console.log(t.message),e.error(t.message)}}return n},dateFormat:function(t,e){var n,i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},waitForEach:function t(n,i,o){var e;n.length?(e=n.splice(0,1)[0],i.call(this,e,function(e){t(n,i,function(t){t.splice(0,0,e),o(t)})})):o([])},splitPath:function(t){t=t.split("/");var e={},n=e.fullname=t.splice(t.length-1,1)[0];return e.noExt=n.indexOf(".")<0,e.noExt?(e.ext="",e.name=n):(e.ext=n.substr(n.lastIndexOf(".")+1),e.name=n.substr(0,n.lastIndexOf("."))),e.dir=t.join("/"),e},openImage:function(n,o,i,r,e,a){function s(t){e&&e(a?t||[]:t?t[0]:"")}var l,c;function d(t){"/"!=o.substr(-1)&&(o+="/"),f.waitForEach(t,function(n,i){!function n(i,o,r,a){f.isExistsLocal(i,function(t){var e;t?(e=(t=f.splitPath(i)).name,e=(e=a?e.substr(0,e.lastIndexOf(o+a)):e)+o+(a=(a||0)+1),n(t.dir+"/"+e+(t.noExt?"":"."+t.ext),o,r,a)):r(i)})}(o+f.cleanURI(n.split("/").pop(),"_"),"_",function(e){r?f.moveLocal(n,e,function(t){t||console.error("Error image re-save file "+n+" to "+e),i(e)}):f.copyLocal(n,e,function(t){t||console.error("Error image re-save file "+n+" to "+e),i(t||e)})})},s)}f.transformImage?(c={width:-1,height:-1,keepAspectRatio:!0,shrinkLarge:!(l="lastImageDialogDir"),stretchSmall:!1,quality:100,format:"",multi:!1},f.getSettings(l,function(t){var e="Images (*."+f.supportedImgExts.join(" *.")+")";f.runFileDialog(n,i||t||f.imgLocation,e,function(t){t&&t.length&&(1!=t.length||t[0])?(f.setSettings(l,f.splitPath((t=a?t:[t])[0]).dir),r||(/(jpeg)$/i.test(f.splitPath(t[0]).ext)?r={format:"jpg",quality:60}:/(bmp)$/i.test(f.splitPath(t[0]).ext)&&(r={format:"png"})),r?(r=h(c,r,!0),f.waitForEach(t,function(t,e){var n=h({},r,!0);n.format=n.format||(/jpg|jpeg/i.test(f.splitPath(t).ext)?"jpg":"png"),"png"==n.format&&(n.quality=1),/(tiff|tif)$/i.test(f.splitPath(t).ext)?e(t):f.transformImage(t,n,e)},o?d:s)):(o=o||f.tempLocation+"/open"+f.dateFormat(new Date,"yyyyMMdd_hhmmss"),d(t))):s()},a)})):(u(),s())},saveFileUnique:function(s,l,c){var i="hashes.json";c=c||function(){},f.getLocalJSON(l+"/"+i,function(r){function a(e,t,n){r[t]=e,f.saveLocalFile(l+"/"+i,JSON.stringify(r),function(t){t||console.error("unable to save "+l+"/"+i),n(l+"/"+e)})}r=r||{},f.md5_base64(s,function(i){var e,o,t,n;i?r[i]?(e=l+"/"+r[i],f.isExistsLocal(l+"/"+r[i],function(t){t?c(e):f.copyLocal(s,e,function(t){t||console.error("unable to save "+t),c(t)})})):(o=s.split("/").pop().toLowerCase(),0==s.indexOf(l+"/")?a(o,i,c):(n=/(?:[-_](\d+))?(?:(?:-\d+x\d+)*-(\d+x\d+))?(?:[-_](\d+))?\.([^\.]+)$/.exec(t=o),o={name:t,base:n?t.replace(n[0],""):t,index:n?parseInt(n[1]):0,size:n?n[2]:"",ext:n?n[4]:""},f.dirList(l,function(t){t=t.join("\n").toLowerCase().split("\n");for(var e,n=o.index||0;e=o.base+(n?"-"+n:"")+(o.size?"-"+o.size:"")+"."+o.ext,n++,0<=t.indexOf(e););f.copyLocal(s,l+"/"+e,function(t){t?a(t.split("/").pop(),i,c):(console.error("unable to save "+l+e),c(""))})},{names:[o.base+"*."+o.ext],filter:1,recursive:!1}))):(console.error("unable access to file "+s),c(""))})})},moveFileClean:function(t,e,n){var i=e+"/"+f.cleanURI(t.split("/").pop());f.copyLocal(t,i,function(){n(i)})},cleanURI:function(t,e){return t=decodeURI(t).replace(/\-|[^a-zA-Z0-9\/_.| -]/g,e||"").toLowerCase().replace(/[\/| -]+/g,e||"_"),encodeURI(t)},moveFile:function(t,e,n){return this.moveFileClean(t,e,n)},getLocalJSON:function(n,i,o){f.loadLocalFile(n,function(e){var t;if(e)try{t=JSON.parse(e)}catch(t){e=t.message+(t.line?" at line "+t.line:"")+" in file "+n;return console.error(new Error(e,n)),void(o&&o(null))}i?i(t):console.warn("No callback_data function passed for the getLocalJSON:",n)})}},r=[],f.bind("close",function(){function i(t){0<=t&&(r[t]=0);for(var e=0;e<r.length;e++)if(r[e])return;f.quit()}r.forEach(function(t,e){if(t){try{t(function(){n&&clearTimeout(n),i(e)})}catch(t){console.error(t),i(e)}var n=setTimeout(function(){i(e)},1e3)}}),i(-1)}),d()||(f.isDev=!0,f.isValid=function(){return!0}),a=setInterval(function(){f.isValid()&&(clearInterval(a),l(function(){f.emitOnReady()}))},100);var i,o,f,r,a,s=f;function h(t,e,n){for(var i in t=t||{},e=e||{})!n&&null!=t[i]||(t[i]=e[i]);return t}function l(t){if(f.versionName=f.versionName||f.version,f.version=function(t){t=(t||"").split(".");for(var e=0;e<t.length;e++)t[e]=parseInt(t[e])||0;return t}(f.version).join("."),f.projectDataLocation=c(f.projectDataLocation)||f.dataLocation,f.publicTempLocation=c(f.publicTempLocation)||f.tempLocation,f.imgLocation=c(f.imgLocation)||f.docLocation,f.projectsLocation=c(f.projectsLocation)||f.dataLocation,t=t||function(){},4&f.debug)for(var e in f)"function"==typeof f[e]&&!function(t){var e=f[t];f[t]=function(){return console.log("Bridge."+t,arguments),e.apply(this,arguments)}}(e);h(f.args,f.getArgs()),t()}function c(t){return t.replace("@DATA_LOCATION@",f.dataLocation).replace("@TEMP_LOCATION@",f.tempLocation).replace("@DOC_LOCATION@",f.docLocation)}function u(){(window.bootbox&&bootbox.alert||window.alert)("Unfortunately, this feature is not available in your browser.")}function d(){return"undefined"!=typeof qt||navigator.userAgent.match(/Mobirise/i)||navigator.userAgent.match(/Electron/i)||/ios/.test(f.getPlatform())}e.Bridge=s},function(t,e,n){var o=n(4);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t))||"function"==typeof(n=t.valueOf)&&!o(i=n.call(t))||!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var o=n(0),r=n(18),a=n(3);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],i={};i[t]=e(n),o(o.S+o.F*a(function(){n(1)}),"Object",i)}},function(t,e,n){var y=n(19),w=n(50),x=n(9),_=n(6),i=n(88);t.exports=function(u,t){var p=1==u,f=2==u,h=3==u,m=4==u,g=6==u,v=5==u||g,b=t||i;return function(t,e,n){for(var i,o,r=x(t),a=w(r),s=y(e,n,3),l=_(a.length),c=0,d=p?b(t,l):f?b(t,0):void 0;c<l;c++)if((v||c in a)&&(o=s(i=a[c],c,r),u))if(p)d[c]=o;else if(o)switch(u){case 3:return!0;case 5:return i;case 6:return c;case 2:d.push(i)}else if(m)return!1;return g?-1:h||m?m:d}}},function(I,M,t){"use strict";var f,h,m,g,v,B,N,R,b,e,U,y,H,z,W,i,q,w,V,G,J,Y,x,K,X,Q,n,o,Z,tt,et,nt,it,ot,_,rt,k,at,r,st,lt,ct,S,C,dt,ut,pt,ft,ht,mt,gt,vt,bt,yt,wt,xt,_t,kt,St,Ct,Pt,Tt,P,a,T,j,jt,E,s,A,Et,L,At,Lt,Ot,O,l,u,$t,$,c,Dt,Ft,It,Mt,Bt,Nt,Rt,D,Ut,d,p,F;t(7)?(f=t(30),h=t(2),m=t(3),g=t(0),v=t(64),s=t(96),B=t(19),N=t(40),R=t(33),b=t(11),e=t(42),U=t(21),y=t(6),H=t(129),z=t(36),W=t(24),i=t(14),q=t(46),w=t(4),V=t(9),G=t(85),J=t(37),Y=t(17),x=t(38).f,K=t(87),X=t(34),Q=t(5),n=t(27),c=t(54),o=t(53),d=t(90),Z=t(48),tt=t(59),et=t(39),nt=t(89),it=t(118),ot=t(8),t=t(16),_=ot.f,rt=t.f,k=h.RangeError,at=h.TypeError,r=h.Uint8Array,lt="Shared"+(st="ArrayBuffer"),ct="BYTES_PER_ELEMENT",S="prototype",p=Array[S],C=s.ArrayBuffer,dt=s.DataView,ut=n(0),pt=n(2),ft=n(3),ht=n(4),mt=n(5),gt=n(6),vt=c(!0),bt=c(!1),yt=d.values,wt=d.keys,xt=d.entries,_t=p.lastIndexOf,kt=p.reduce,St=p.reduceRight,Ct=p.join,Pt=p.sort,Tt=p.slice,P=p.toString,a=p.toLocaleString,T=Q("iterator"),j=Q("toStringTag"),jt=X("typed_constructor"),E=X("def_constructor"),s=v.CONSTR,A=v.TYPED,Et=v.VIEW,L="Wrong length!",At=n(1,function(t,e){return u(o(t,t[E]),e)}),Lt=m(function(){return 1===new r(new Uint16Array([1]).buffer)[0]}),Ot=!!r&&!!r[S].set&&m(function(){new r(1).set({})}),O=function(t,e){t=U(t);if(t<0||t%e)throw k("Wrong offset!");return t},l=function(t){if(w(t)&&A in t)return t;throw at(t+" is not a typed array!")},u=function(t,e){if(w(t)&&jt in t)return new t(e);throw at("It is not a typed array constructor!")},$t=function(t,e){return $(o(t,t[E]),e)},$=function(t,e){for(var n=0,i=e.length,o=u(t,i);n<i;)o[n]=e[n++];return o},c=function(t,e,n){_(t,e,{get:function(){return this._d[n]}})},Dt=function(t){var e,n,i,o,r,a,s=V(t),t=arguments.length,l=1<t?arguments[1]:void 0,c=void 0!==l,d=K(s);if(null!=d&&!G(d)){for(a=d.call(s),i=[],e=0;!(r=a.next()).done;e++)i.push(r.value);s=i}for(c&&2<t&&(l=B(l,arguments[2],2)),e=0,n=y(s.length),o=u(this,n);e<n;e++)o[e]=c?l(s[e],e):s[e];return o},Ft=function(){for(var t=0,e=arguments.length,n=u(this,e);t<e;)n[t]=arguments[t++];return n},It=!!r&&m(function(){a.call(new r(1))}),Mt=function(){return a.apply(It?Tt.call(l(this)):l(this),arguments)},Bt={copyWithin:function(t,e){return it.call(l(this),t,e,2<arguments.length?arguments[2]:void 0)},every:function(t){return ht(l(this),t,1<arguments.length?arguments[1]:void 0)},fill:function(t){return nt.apply(l(this),arguments)},filter:function(t){return $t(this,pt(l(this),t,1<arguments.length?arguments[1]:void 0))},find:function(t){return mt(l(this),t,1<arguments.length?arguments[1]:void 0)},findIndex:function(t){return gt(l(this),t,1<arguments.length?arguments[1]:void 0)},forEach:function(t){ut(l(this),t,1<arguments.length?arguments[1]:void 0)},indexOf:function(t){return bt(l(this),t,1<arguments.length?arguments[1]:void 0)},includes:function(t){return vt(l(this),t,1<arguments.length?arguments[1]:void 0)},join:function(t){return Ct.apply(l(this),arguments)},lastIndexOf:function(t){return _t.apply(l(this),arguments)},map:function(t){return At(l(this),t,1<arguments.length?arguments[1]:void 0)},reduce:function(t){return kt.apply(l(this),arguments)},reduceRight:function(t){return St.apply(l(this),arguments)},reverse:function(){for(var t,e=this,n=l(e).length,i=Math.floor(n/2),o=0;o<i;)t=e[o],e[o++]=e[--n],e[n]=t;return e},some:function(t){return ft(l(this),t,1<arguments.length?arguments[1]:void 0)},sort:function(t){return Pt.call(l(this),t)},subarray:function(t,e){var n=l(this),i=n.length,t=z(t,i);return new(o(n,n[E]))(n.buffer,n.byteOffset+t*n.BYTES_PER_ELEMENT,y((void 0===e?i:z(e,i))-t))}},Nt=function(t,e){return $t(this,Tt.call(l(this),t,e))},Rt=function(t){l(this);var e=O(arguments[1],1),n=this.length,i=V(t),o=y(i.length),r=0;if(n<o+e)throw k(L);for(;r<o;)this[e+r]=i[r++]},D={entries:function(){return xt.call(l(this))},keys:function(){return wt.call(l(this))},values:function(){return yt.call(l(this))}},Ut=function(t,e){return w(t)&&t[A]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},d=function(t,e){return Ut(t,e=W(e,!0))?R(2,t[e]):rt(t,e)},p=function(t,e,n){return!(Ut(t,e=W(e,!0))&&w(n)&&i(n,"value"))||i(n,"get")||i(n,"set")||n.configurable||i(n,"writable")&&!n.writable||i(n,"enumerable")&&!n.enumerable?_(t,e,n):(t[e]=n.value,t)},s||(t.f=d,ot.f=p),g(g.S+g.F*!s,"Object",{getOwnPropertyDescriptor:d,defineProperty:p}),m(function(){P.call({})})&&(P=a=function(){return Ct.call(this)}),F=e({},Bt),e(F,D),b(F,T,D.values),e(F,{slice:Nt,set:Rt,constructor:function(){},toString:P,toLocaleString:Mt}),c(F,"buffer","b"),c(F,"byteOffset","o"),c(F,"byteLength","l"),c(F,"length","e"),_(F,j,{get:function(){return this[A]}}),I.exports=function(t,c,e,o){function d(t,i){_(t,i,{get:function(){var t=this,e=i;return(t=t._d).v[n](e*c+t.o,Lt)},set:function(t){var e=this,n=i;e=e._d,o&&(t=(t=Math.round(t))<0?0:255<t?255:255&t),e.v[r](n*c+e.o,t,Lt)},enumerable:!0})}var u=t+((o=!!o)?"Clamped":"")+"Array",n="get"+t,r="set"+t,p=h[u],a=p||{},t=p&&Y(p),i=!p||!v.ABV,s={},l=p&&p[S],i=(i?(p=e(function(t,e,n,i){N(t,p,u,"_d");var o,r,a=0,s=0;if(w(e)){if(!(e instanceof C||(l=q(e))==st||l==lt))return A in e?$(p,e):Dt.call(p,e);var l=e,s=O(n,c),n=e.byteLength;if(void 0===i){if(n%c)throw k(L);if((o=n-s)<0)throw k(L)}else if(n<(o=y(i)*c)+s)throw k(L);r=o/c}else r=H(e),l=new C(o=r*c);for(b(t,"_d",{b:l,o:s,l:o,e:r,v:new dt(l)});a<r;)d(t,a++)}),l=p[S]=J(F),b(l,"constructor",p)):m(function(){p(1)})&&m(function(){new p(-1)})&&tt(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=e(function(t,e,n,i){return N(t,p,u),w(e)?e instanceof C||(t=q(e))==st||t==lt?void 0!==i?new a(e,O(n,c),i):void 0!==n?new a(e,O(n,c)):new a(e):A in e?$(p,e):Dt.call(p,e):new a(H(e))}),ut(t!==Function.prototype?x(a).concat(x(t)):x(a),function(t){t in p||b(p,t,a[t])}),p[S]=l,f)||(l.constructor=p),l[T]),e=!!i&&("values"==i.name||null==i.name),t=D.values;b(p,jt,!0),b(l,A,u),b(l,Et,!0),b(l,E,p),(o?new p(1)[j]==u:j in l)||_(l,j,{get:function(){return u}}),s[u]=p,g(g.G+g.W+g.F*(p!=a),s),g(g.S,u,{BYTES_PER_ELEMENT:c}),g(g.S+g.F*m(function(){a.of.call(p,1)}),u,{from:Dt,of:Ft}),ct in l||b(l,ct,c),g(g.P,u,Bt),et(u),g(g.P+g.F*Ot,u,{set:Rt}),g(g.P+g.F*!e,u,D),f||l.toString==P||(l.toString=P),g(g.P+g.F*m(function(){new p(1).slice()}),u,{slice:Nt}),g(g.P+g.F*(m(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!m(function(){l.toLocaleString.call([1,2])})),u,{toLocaleString:Mt}),Z[u]=e?i:t,f||e||b(l,T,t)}):I.exports=function(){}},function(t,e,n){function o(t,e,n){var i=s.get(t);if(!i){if(!n)return;s.set(t,i=new r)}if(!(t=i.get(e))){if(!n)return;i.set(e,t=new r)}return t}var r=n(124),i=n(0),a=n(49)("metadata"),s=a.store||(a.store=new(n(127)));t.exports={store:s,map:o,has:function(t,e,n){e=o(e,n,!1);return void 0!==e&&e.has(t)},get:function(t,e,n){e=o(e,n,!1);return void 0===e?void 0:e.get(t)},set:function(t,e,n,i){o(n,i,!0).set(t,e)},keys:function(t,e){var t=o(t,e,!1),n=[];return t&&t.forEach(function(t,e){n.push(e)}),n},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},function(t,e){t.exports=!1},function(t,e,n){function i(t){s(t,o,{value:{i:"O"+ ++l,w:{}}})}var o=n(34)("meta"),r=n(4),a=n(14),s=n(8).f,l=0,c=Object.isExtensible||function(){return!0},d=!n(3)(function(){return c(Object.preventExtensions({}))}),u=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,o)){if(!c(t))return"F";if(!e)return"E";i(t)}return t[o].i},getWeak:function(t,e){if(!a(t,o)){if(!c(t))return!0;if(!e)return!1;i(t)}return t[o].w},onFreeze:function(t){return d&&u.NEED&&c(t)&&!a(t,o)&&i(t),t}}},function(t,e,n){var i=n(5)("unscopables"),o=Array.prototype;null==o[i]&&n(11)(o,i,{}),t.exports=function(t){o[i][t]=!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(103),o=n(73);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){var i=n(21),o=Math.max,r=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):r(t,e)}},function(t,e,n){function i(){}var o=n(1),r=n(104),a=n(73),s=n(72)("IE_PROTO"),l="prototype",c=function(){var t=n(70)("iframe"),e=a.length;for(t.style.display="none",n(74).appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;e--;)delete c[l][a[e]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(i[l]=o(t),n=new i,i[l]=null,n[s]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(103),o=n(73).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){"use strict";var i=n(2),o=n(8),r=n(7),a=n(5)("species");t.exports=function(t){t=i[t];r&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var u=n(19),p=n(116),f=n(85),h=n(1),m=n(6),g=n(87),v={},b={};(e=t.exports=function(t,e,n,i,o){var r,a,s,l,o=o?function(){return t}:g(t),c=u(n,i,e?2:1),d=0;if("function"!=typeof o)throw TypeError(t+" is not iterable!");if(f(o)){for(r=m(t.length);d<r;d++)if((l=e?c(h(a=t[d])[0],a[1]):c(t[d]))===v||l===b)return l}else for(s=o.call(t);!(a=s.next()).done;)if((l=p(s,c,a.value,e))===v||l===b)return l}).BREAK=v,e.RETURN=b},function(t,e,n){var o=n(12);t.exports=function(t,e,n){for(var i in e)o(t,i,e[i],n);return t}},function(t,e,n){var i=n(4);t.exports=function(t,e){if(i(t)&&t._t===e)return t;throw TypeError("Incompatible receiver, "+e+" required!")}},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(8).f,o=n(14),r=n(5)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e,n){var i=n(20),o=n(5)("toStringTag"),r="Arguments"==i(function(){return arguments}());t.exports=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Object(t),o))?e:r?i(t):"Object"==(e=i(t))&&"function"==typeof t.callee?"Arguments":e}},function(t,e,n){function i(t,e,n){var i={},o=a(function(){return!!s[t]()||"â€‹Â…"!="â€‹Â…"[t]()}),e=i[t]=o?e(d):s[t];n&&(i[n]=e),r(r.P+r.F*o,"String",i)}var r=n(0),o=n(25),a=n(3),s=n(76),n="["+s+"]",l=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),d=i.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),t=2&e?t.replace(c,""):t};t.exports=i},function(t,e){t.exports={}},function(t,e,n){var i=n(18),o=n(2),r="__core-js_shared__",a=o[r]||(o[r]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(30)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var i=n(1);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(1),o=n(10),r=n(5)("species");t.exports=function(t,e){var t=i(t).constructor;return void 0===t||null==(t=i(t)[r])?e:o(t)}},function(t,e,n){var l=n(15),c=n(6),d=n(36);t.exports=function(s){return function(t,e,n){var i,o=l(t),r=c(o.length),a=d(n,r);if(s&&e!=e){for(;a<r;)if((i=o[a++])!=i)return!0}else for(;a<r;a++)if((s||a in o)&&o[a]===e)return s||a||0;return!s&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(20);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var r=n(21),a=n(25);t.exports=function(o){return function(t,e){var n,t=String(a(t)),e=r(e),i=t.length;return e<0||i<=e?o?"":void 0:(n=t.charCodeAt(e))<55296||56319<n||e+1===i||(i=t.charCodeAt(e+1))<56320||57343<i?o?t.charAt(e):n:o?t.slice(e,e+2):i-56320+(n-55296<<10)+65536}}},function(t,e,n){var i=n(4),o=n(20),r=n(5)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(5)("iterator"),a=!1;try{var i=[7][r]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var i=[7],o=i[r]();o.next=function(){return{done:n=!0}},i[r]=function(){return o},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(46),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){n=n.call(t,e);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";n(120);var i,l=n(12),c=n(11),d=n(3),u=n(25),p=n(5),f=n(91),h=p("species"),m=!d(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),g=(i=(n=/(?:)/).exec,n.exec=function(){return i.apply(this,arguments)},2===(n="ab".split(n)).length&&"a"===n[0]&&"b"===n[1]);t.exports=function(n,t,e){var r,i,o=p(n),a=!d(function(){var t={};return t[o]=function(){return 7},7!=""[n](t)}),s=a?!d(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[h]=function(){return e}),e[o](""),!t}):void 0;a&&s&&("replace"!==n||m)&&("split"!==n||g)||(r=/./[o],e=(s=e(u,o,""[n],function(t,e,n,i,o){return e.exec===f?a&&!o?{done:!0,value:r.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}))[0],i=s[1],l(String.prototype,n,e),c(RegExp.prototype,o,2==t?function(t,e){return i.call(t,this,e)}:function(t){return i.call(t,this)}))}},function(t,e,n){n=n(2).navigator;t.exports=n&&n.userAgent||""},function(t,e,n){"use strict";var v=n(2),b=n(0),y=n(12),w=n(42),x=n(31),_=n(41),k=n(40),S=n(4),C=n(3),P=n(59),T=n(45),j=n(77);t.exports=function(n,t,e,i,o,r){function a(t){var n=m[t];y(m,t,"delete"==t?function(t){return!(r&&!S(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!S(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!S(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})}var s,l,c,d,u,p=v[n],f=p,h=o?"set":"add",m=f&&f.prototype,g={};return"function"==typeof f&&(r||m.forEach&&!C(function(){(new f).entries().next()}))?(l=(s=new f)[h](r?{}:-0,1)!=s,c=C(function(){s.has(1)}),d=P(function(t){new f(t)}),u=!r&&C(function(){for(var t=new f,e=5;e--;)t[h](e,e);return!t.has(-0)}),d||(((f=t(function(t,e){k(t,f,n);t=j(new p,t,f);return null!=e&&_(e,o,t[h],t),t})).prototype=m).constructor=f),(c||u)&&(a("delete"),a("has"),o)&&a("get"),(u||l)&&a(h),r&&m.clear&&delete m.clear):(f=i.getConstructor(t,n,o,h),w(f.prototype,e),x.NEED=!0),T(f,n),g[n]=f,b(b.G+b.W+b.F*(f!=p),g),r||i.setStrong(f,n,o),f}},function(t,e,n){for(var i,o=n(2),r=n(11),n=n(34),a=n("typed_array"),s=n("view"),n=!(!o.ArrayBuffer||!o.DataView),l=n,c=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(i=o[d[c++]])?(r(i.prototype,a,!0),r(i.prototype,s,!0)):l=!1;t.exports={ABV:n,CONSTR:l,TYPED:a,VIEW:s}},function(t,e,n){"use strict";t.exports=n(30)||!n(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(2)[t]})},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var i=n(0),a=n(10),s=n(19),l=n(41);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,o,r=arguments[1];return a(this),(e=void 0!==r)&&a(r),null==t?new this:(n=[],e?(i=0,o=s(r,arguments[2],2),l(t,!1,function(t){n.push(o(t,i++))})):l(t,!1,n.push,n),new this(n))}})}},,function(t,n,i){"use strict";!function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.PREMIUM_URL=n.ONLINE_URL=n.WEB_URL=n.mbrServer=void 0;var e=i(346),e=(e=e)&&e.__esModule?e:{default:e};t=t.env.WEB_URL,e=new e.default("https://my.mobirise.com/api/");n.mbrServer=e,n.WEB_URL=t,n.ONLINE_URL="https://a.mobirise.com/",n.PREMIUM_URL="https://b.8b.com"}.call(this,i(138))},function(t,e,n){var i=n(4),o=n(2).document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,n){var i=n(2),o=n(18),r=n(30),a=n(102),s=n(8).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=!r&&i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var i=n(49)("keys"),o=n(34);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){n=n(2).document;t.exports=n&&n.documentElement},function(t,e,o){function r(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var n=o(4),i=o(1);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=o(19)(Function.call,o(16).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return r(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:r}},function(t,e){t.exports="\t\n\v\f\r Â áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},function(t,e,n){var i=n(4),o=n(75).set;t.exports=function(t,e,n){var e=e.constructor;return e!==n&&"function"==typeof e&&(e=e.prototype)!==n.prototype&&i(e)&&o&&o(t,e),t}},function(t,e,n){"use strict";var o=n(21),r=n(25);t.exports=function(t){var e=String(r(this)),n="",i=o(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;0<i;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){"use strict";function v(){return this}var b=n(30),y=n(0),w=n(12),x=n(11),_=n(48),k=n(82),S=n(45),C=n(17),P=n(5)("iterator"),T=!([].keys&&"next"in[].keys()),j="values";t.exports=function(t,e,n,i,o,r,a){k(n,e,i);function s(t){if(!T&&t in p)return p[t];switch(t){case"keys":case j:return function(){return new n(this,t)}}return function(){return new n(this,t)}}var l,c,i=e+" Iterator",d=o==j,u=!1,p=t.prototype,f=p[P]||p["@@iterator"]||o&&p[o],h=f||s(o),m=o?d?s("entries"):h:void 0,g="Array"==e&&p.entries||f;if(g&&(g=C(g.call(new t)))!==Object.prototype&&g.next&&(S(g,i,!0),b||"function"==typeof g[P]||x(g,P,v)),d&&f&&f.name!==j&&(u=!0,h=function(){return f.call(this)}),b&&!a||!T&&!u&&p[P]||x(p,P,h),_[e]=h,_[i]=v,o)if(l={values:d?h:s(j),keys:r?h:s("keys"),entries:m},a)for(c in l)c in p||w(p,c,l[c]);else y(y.P+y.F*(T||u),e,l);return l}},function(t,e,n){"use strict";var i=n(37),o=n(33),r=n(45),a={};n(11)(a,n(5)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:o(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var i=n(58),o=n(25);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){var i=n(5)("match");t.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[i]=!1,!"/./"[e](n)}catch(t){}}return!0}},function(t,e,n){var i=n(48),o=n(5)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||r[o]===t)}},function(t,e,n){"use strict";var i=n(8),o=n(33);t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var i=n(46),o=n(5)("iterator"),r=n(48);t.exports=n(18).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){var i=n(236);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){"use strict";var a=n(9),s=n(36),l=n(6);t.exports=function(t){for(var e=a(this),n=l(e.length),i=arguments.length,o=s(1<i?arguments[1]:void 0,n),i=2<i?arguments[2]:void 0,r=void 0===i?n:s(i,n);o<r;)e[o++]=t;return e}},function(t,e,n){"use strict";var i=n(32),o=n(119),r=n(48),a=n(15);t.exports=n(81)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i,o,a=n(52),s=RegExp.prototype.exec,l=String.prototype.replace,n=s,c="lastIndex",d=(i=/a/,o=/b*/g,s.call(i,"a"),s.call(o,"a"),0!==i[c]||0!==o[c]),u=void 0!==/()??/.exec("")[1];t.exports=n=d||u?function(t){var e,n,i,o,r=this;return u&&(n=new RegExp("^"+r.source+"$(?!\\s)",a.call(r))),d&&(e=r[c]),i=s.call(r,t),d&&i&&(r[c]=r.global?i.index+i[0].length:e),u&&i&&1<i.length&&l.call(i[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i}:n},function(t,e,n){"use strict";var i=n(57)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){function i(){var t,e=+this;v.hasOwnProperty(e)&&(t=v[e],delete v[e],t())}function o(t){i.call(t.data)}var r,a=n(19),s=n(109),l=n(74),c=n(70),d=n(2),u=d.process,p=d.setImmediate,f=d.clearImmediate,h=d.MessageChannel,m=d.Dispatch,g=0,v={},b="onreadystatechange";p&&f||(p=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},f=function(t){delete v[t]},"process"==n(20)(u)?r=function(t){u.nextTick(a(i,t,1))}:m&&m.now?r=function(t){m.now(a(i,t,1))}:h?(h=(n=new h).port2,n.port1.onmessage=o,r=a(h.postMessage,h,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(r=function(t){d.postMessage(t+"","*")},d.addEventListener("message",o,!1)):r=b in c("script")?function(t){l.appendChild(c("script"))[b]=function(){l.removeChild(this),i.call(t)}}:function(t){setTimeout(a(i,t,1),0)}),t.exports={set:p,clear:f}},function(t,e,n){var s=n(2),l=n(93).set,c=s.MutationObserver||s.WebKitMutationObserver,d=s.process,u=s.Promise,p="process"==n(20)(d);t.exports=function(){function t(){var t,e;for(p&&(t=d.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?o():i=void 0,t}}i=void 0,t&&t.enter()}var n,i,e,o,r,a;return o=p?function(){d.nextTick(t)}:!c||s.navigator&&s.navigator.standalone?u&&u.resolve?(e=u.resolve(void 0),function(){e.then(t)}):function(){l.call(s,t)}:(r=!0,a=document.createTextNode(""),new c(t).observe(a,{characterData:!0}),function(){a.data=r=!r}),function(t){t={fn:t,next:void 0};i&&(i.next=t),n||(n=t,o()),i=t}}},function(t,e,n){"use strict";var o=n(10);function i(t){var n,i;this.promise=new t(function(t,e){if(void 0!==n||void 0!==i)throw TypeError("Bad Promise constructor");n=t,i=e}),this.resolve=o(n),this.reject=o(i)}t.exports.f=function(t){return new i(t)}},function(I,t,e){"use strict";var n=e(2),i=e(7),M=e(30),o=e(64),r=e(11),a=e(42),s=e(3),l=e(40),B=e(21),N=e(6),d=e(129),c=e(38).f,R=e(8).f,U=e(89),e=e(45),u="ArrayBuffer",p="DataView",f="prototype",h="Wrong index!",m=n[u],g=n[p],v=n.Math,b=n.RangeError,y=n.Infinity,w=m,H=v.abs,x=v.pow,z=v.floor,W=v.log,q=v.LN2,n="byteLength",v="byteOffset",_=i?"_b":"buffer",k=i?"_l":n,S=i?"_o":v;function C(t,e,n){var i,o,r,a=new Array(n),s=8*n-e-1,n=(1<<s)-1,l=n>>1,c=23===e?x(2,-24)-x(2,-77):0,d=0,u=t<0||0===t&&1/t<0?1:0;for((t=H(t))!=t||t===y?(o=t!=t?1:0,i=n):(i=z(W(t)/q),t*(r=x(2,-i))<1&&(i--,r*=2),2<=(t+=1<=i+l?c/r:c*x(2,1-l))*r&&(i++,r/=2),n<=i+l?(o=0,i=n):1<=i+l?(o=(t*r-1)*x(2,e),i+=l):(o=t*x(2,l-1)*x(2,e),i=0));8<=e;a[d++]=255&o,o/=256,e-=8);for(i=i<<e|o,s+=e;0<s;a[d++]=255&i,i/=256,s-=8);return a[--d]|=128*u,a}function P(t,e,n){var i,o=8*n-e-1,r=(1<<o)-1,a=r>>1,s=o-7,l=n-1,o=t[l--],c=127&o;for(o>>=7;0<s;c=256*c+t[l],l--,s-=8);for(i=c&(1<<-s)-1,c>>=-s,s+=e;0<s;i=256*i+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===r)return i?NaN:o?-y:y;i+=x(2,e),c-=a}return(o?-1:1)*i*x(2,c-e)}function T(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function j(t){return[255&t]}function E(t){return[255&t,t>>8&255]}function A(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function V(t){return C(t,52,8)}function G(t){return C(t,23,4)}function L(t,e,n){R(t[f],e,{get:function(){return this[n]}})}function O(t,e,n,i){n=d(+n);if(n+e>t[k])throw b(h);var o=t[_]._b,n=n+t[S],t=o.slice(n,n+e);return i?t:t.reverse()}function $(t,e,n,i,o,r){n=d(+n);if(n+e>t[k])throw b(h);for(var a=t[_]._b,s=n+t[S],l=i(+o),c=0;c<e;c++)a[s+c]=l[r?c:e-c-1]}if(o.ABV){if(!s(function(){m(1)})||!s(function(){new m(-1)})||s(function(){return new m,new m(1.5),new m(NaN),m.name!=u})){for(var D,s=(m=function(t){return l(this,m),new w(d(t))})[f]=w[f],F=c(w),J=0;F.length>J;)(D=F[J++])in m||r(m,D,w[D]);M||(s.constructor=m)}var c=new g(new m(2)),Y=g[f].setInt8;c.setInt8(0,2147483648),c.setInt8(1,2147483649),!c.getInt8(0)&&c.getInt8(1)||a(g[f],{setInt8:function(t,e){Y.call(this,t,e<<24>>24)},setUint8:function(t,e){Y.call(this,t,e<<24>>24)}},!0)}else m=function(t){l(this,m,u);t=d(t);this._b=U.call(new Array(t),0),this[k]=t},g=function(t,e,n){l(this,g,p),l(t,m,p);var i=t[k],e=B(e);if(e<0||i<e)throw b("Wrong offset!");if(i<e+(n=void 0===n?i-e:N(n)))throw b("Wrong length!");this[_]=t,this[S]=e,this[k]=n},i&&(L(m,n,"_l"),L(g,"buffer","_b"),L(g,n,"_l"),L(g,v,"_o")),a(g[f],{getInt8:function(t){return O(this,1,t)[0]<<24>>24},getUint8:function(t){return O(this,1,t)[0]},getInt16:function(t){t=O(this,2,t,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(t){t=O(this,2,t,arguments[1]);return t[1]<<8|t[0]},getInt32:function(t){return T(O(this,4,t,arguments[1]))},getUint32:function(t){return T(O(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return P(O(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return P(O(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){$(this,1,t,j,e)},setUint8:function(t,e){$(this,1,t,j,e)},setInt16:function(t,e){$(this,2,t,E,e,arguments[2])},setUint16:function(t,e){$(this,2,t,E,e,arguments[2])},setInt32:function(t,e){$(this,4,t,A,e,arguments[2])},setUint32:function(t,e){$(this,4,t,A,e,arguments[2])},setFloat32:function(t,e){$(this,4,t,G,e,arguments[2])},setFloat64:function(t,e){$(this,8,t,V,e,arguments[2])}});e(m,u),e(g,p),r(g[f],o.VIEW,!0),t[u]=m,t[p]=g},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=u(n(379)),a=u(n(380)),s=u(n(367)),l=u(n(381)),d=n(69);function u(t){return t&&t.__esModule?t:{default:t}}function p(t){return function(){var s=t.apply(this,arguments);return new Promise(function(r,a){return function e(t,n){try{var i=s[t](n),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});r(o)}("next")})}}i(m,[{key:"fetchAccessToken",value:(h=p(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.accessToken&&this.accessToken.expires>Date.now()){t.next=7;break}return t.next=3,d.mbrServer.ajax({url:d.mbrServer.getApiUrl()+"auth",method:"POST",data:{target:"https://ai.mobirise.com"}});case 3:n=t.sent,e=n.expires_in,n=n.access_token,this.accessToken={value:n,expires:Date.now()+1e3*(e-60)};case 7:return t.abrupt("return",this.accessToken.value);case 8:case"end":return t.stop()}},t,this)})),function(){return h.apply(this,arguments)})},{key:"request",value:(f=p(regeneratorRuntime.mark(function t(e){var n,i,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=o.method,a=void 0===r?"GET":r,r=o.headers,s=void 0===r?{}:r,l=o.body;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchAccessToken();case 2:return i=t.sent,t.next=5,fetch((/^https?:/.test(e)?"":this.apiUrl)+e,{method:a,headers:c({Authorization:"Bearer "+i},s),body:l,mode:"cors"});case 5:if(200<=(n=t.sent).status&&n.status<300)return t.abrupt("return",n.json());t.next=8;break;case 8:return t.next=10,n.json();case 10:throw i=t.sent,c(new Error(i.message),{code:i.type});case 12:case"end":return t.stop()}},t,this)})),function(t){return f.apply(this,arguments)})},{key:"generator",get:function(){return this._generator||(this._generator=new s.default)}},{key:"multipleGenerator",get:function(){return this._multipleGenerator||(this._multipleGenerator=new l.default)}}]);var f,h,n=m;function m(t){var e=t.apiUrl,n=t.loader,t=t.storage;if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.apiUrl=e,this.loader=n,this.storage=t}e.default=new n({apiUrl:"https://ai-builder.mobirise.com/api",loader:new r.default({node:window.document.querySelector(".ai-preloader")}),storage:new a.default({key:"mobiriseAi"})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.sleep=function(e){return new Promise(function(t){return setTimeout(t,e)})},e.random=function(t,e){return Math.random()*(e-t)+t},e.forever=function(){return new Promise(function(){})},e.pick=function(n,t){return t.reduce(function(t,e){return e in n&&(t[e]=n[e]),t},{})},e.unescapeHtml=function(t){var e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return t.replace(/\&\w{2,5}\;/g,function(t){return e[t]||t})},e.whenDocumentLoaded=function(t){"loading"===window.document.readyState?window.document.addEventListener("DOMContentLoaded",t):t()},e.isPlainObject=function(t){return t&&!Array.isArray(t)&&"object"===(void 0===t?"undefined":i(t))}},function(t,e,n){t.exports=!n(7)&&!n(3)(function(){return 7!=Object.defineProperty(n(70)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(5)},function(t,e,n){var a=n(14),s=n(15),l=n(54)(!1),c=n(72)("IE_PROTO");t.exports=function(t,e){var n,i=s(t),o=0,r=[];for(n in i)n!=c&&a(i,n)&&r.push(n);for(;e.length>o;)!a(i,n=e[o++])||~l(r,n)||r.push(n);return r}},function(t,e,n){var a=n(8),s=n(1),l=n(35);t.exports=n(7)?Object.defineProperties:function(t,e){s(t);for(var n,i=l(e),o=i.length,r=0;r<o;)a.f(t,n=i[r++],e[n]);return t}},function(t,e,n){var i=n(15),o=n(38).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){if(!a||"[object Window]"!=r.call(t))return o(i(t));try{return o(t)}catch(t){return a.slice()}}},function(t,e,n){"use strict";var p=n(7),f=n(35),h=n(55),m=n(51),g=n(9),v=n(50),o=Object.assign;t.exports=!o||n(3)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=o({},t)[n]||Object.keys(o({},e)).join("")!=i})?function(t,e){for(var n=g(t),i=arguments.length,o=1,r=h.f,a=m.f;o<i;)for(var s,l=v(arguments[o++]),c=r?f(l).concat(r(l)):f(l),d=c.length,u=0;u<d;)s=c[u++],p&&!a.call(l,s)||(n[s]=l[s]);return n}:o},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var i=n(10),o=n(4),d=n(109),u=[].slice,p={};t.exports=Function.bind||function(a){var s=i(this),l=u.call(arguments,1),c=function(){var t=l.concat(u.call(arguments));if(this instanceof c){var e=s,n=t.length,i=t;if(!(n in p)){for(var o=[],r=0;r<n;r++)o[r]="a["+r+"]";p[n]=Function("F,a","return new F("+o.join(",")+")")}return p[n](e,i)}return d(s,t,a)};return o(s.prototype)&&(c.prototype=s.prototype),c}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(2).parseInt,o=n(47).trim,n=n(76),r=/^[-+]?0[xX]/;t.exports=8!==i(n+"08")||22!==i(n+"0x16")?function(t,e){t=o(String(t),3);return i(t,e>>>0||(r.test(t)?16:10))}:i},function(t,e,n){var i=n(2).parseFloat,o=n(47).trim;t.exports=1/i(n(76)+"-0")!=-1/0?function(t){var t=o(String(t),3),e=i(t);return 0===e&&"-"==t.charAt(0)?-0:e}:i},function(t,e,n){var i=n(20);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(4),o=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&o(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var i=n(79),n=Math.pow,o=n(2,-52),r=n(2,-23),a=n(2,127)*(2-r),s=n(2,-126);t.exports=Math.fround||function(t){var e,n=Math.abs(t),t=i(t);return n<s?t*(n/s/r+1/o-1/o)*s*r:a<(e=(e=(1+r/o)*n)-(e-n))||e!=e?t*(1/0):t*e}},function(t,e,n){var o=n(1);t.exports=function(e,t,n,i){try{return i?t(o(n)[0],n[1]):t(n)}catch(t){i=e.return;throw void 0!==i&&o(i.call(e)),t}}},function(t,e,n){var d=n(10),u=n(9),p=n(50),f=n(6);t.exports=function(t,e,n,i,o){d(e);var r=u(t),a=p(r),s=f(r.length),l=o?s-1:0,c=o?-1:1;if(n<2)for(;;){if(l in a){i=a[l],l+=c;break}if(l+=c,o?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=l:l<s;l+=c)l in a&&(i=e(i,a[l],l,r));return i}},function(t,e,n){"use strict";var l=n(9),c=n(36),d=n(6);t.exports=[].copyWithin||function(t,e){var n=l(this),i=d(n.length),o=c(t,i),r=c(e,i),t=2<arguments.length?arguments[2]:void 0,a=Math.min((void 0===t?i:c(t,i))-r,i-o),s=1;for(r<o&&o<r+a&&(s=-1,r+=a-1,o+=a-1);0<a--;)r in n?n[o]=n[r]:delete n[o],o+=s,r+=s;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(91);n(0)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(52)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(1),o=n(4),r=n(95);t.exports=function(t,e){return i(t),o(e)&&e.constructor===t?e:((0,(t=r.f(t)).resolve)(e),t.promise)}},function(t,e,n){"use strict";var i=n(125),o=n(43);t.exports=n(63)("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){t=i.getEntry(o(this,"Map"),t);return t&&t.v},set:function(t,e){return i.def(o(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";function a(t,e){var n,i=h(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n}var s=n(8).f,l=n(37),c=n(42),d=n(19),u=n(40),p=n(41),i=n(81),o=n(119),r=n(39),f=n(7),h=n(31).fastKey,m=n(43),g=f?"_s":"size";t.exports={getConstructor:function(t,o,n,i){var r=t(function(t,e){u(t,r,o,"_i"),t._t=o,t._i=l(null),t._f=void 0,t._l=void 0,t[g]=0,null!=e&&p(e,n,t[i],t)});return c(r.prototype,{clear:function(){for(var t=m(this,o),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var e,n,i=m(this,o),t=a(i,t);return t&&(e=t.n,n=t.p,delete i._i[t.i],t.r=!0,n&&(n.n=e),e&&(e.p=n),i._f==t&&(i._f=e),i._l==t&&(i._l=n),i[g]--),!!t},forEach:function(t){m(this,o);for(var e,n=d(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!a(m(this,o),t)}}),f&&s(r.prototype,"size",{get:function(){return m(this,o)[g]}}),r},def:function(t,e,n){var i,o=a(t,e);return o?o.v=n:(t._l=o={i:i=h(e,!0),k:e,v:n,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:a,setStrong:function(t,n,e){i(t,n,function(t,e){this._t=m(t,n),this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?o(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,o(1))},e?"entries":"values",!e,!0),r(n)}}},function(t,e,n){"use strict";var i=n(125),o=n(43);t.exports=n(63)("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return i.def(o(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";function i(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}}var r,o=n(2),a=n(27)(0),s=n(12),l=n(31),c=n(106),d=n(128),u=n(4),p=n(43),f=n(43),o=!o.ActiveXObject&&"ActiveXObject"in o,h="WeakMap",m=l.getWeak,g=Object.isExtensible,v=d.ufstore,b={get:function(t){var e;if(u(t))return!0===(e=m(t))?v(p(this,h)).get(t):e?e[this._i]:void 0},set:function(t,e){return d.def(p(this,h),t,e)}},y=t.exports=n(63)(h,i,b,d,!0,!0);f&&o&&(c((r=d.getConstructor(i,h)).prototype,b),l.NEED=!0,a(["delete","has","get","set"],function(i){var t=y.prototype,o=t[i];s(t,i,function(t,e){var n;return u(t)&&!g(t)?(this._f||(this._f=new r),n=this._f[i](t,e),"set"==i?this:n):o.call(this,t,e)})}))},function(t,e,n){"use strict";function a(t){return t._l||(t._l=new i)}function i(){this.a=[]}function o(t,e){return m(t.a,function(t){return t[0]===e})}var s=n(42),l=n(31).getWeak,r=n(1),c=n(4),d=n(40),u=n(41),p=n(27),f=n(14),h=n(43),m=p(5),g=p(6),v=0;i.prototype={get:function(t){t=o(this,t);if(t)return t[1]},has:function(t){return!!o(this,t)},set:function(t,e){var n=o(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(e){var t=g(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,n,i,o){var r=t(function(t,e){d(t,r,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=e&&u(e,i,t[o],t)});return s(r.prototype,{delete:function(t){var e;return!!c(t)&&(!0===(e=l(t))?a(h(this,n)).delete(t):e&&f(e,this._i)&&delete e[this._i])},has:function(t){var e;return!!c(t)&&(!0===(e=l(t))?a(h(this,n)).has(t):e&&f(e,this._i))}}),r},def:function(t,e,n){var i=l(r(e),!0);return!0===i?a(t).set(e,n):i[t._i]=n,t},ufstore:a}},function(t,e,n){var i=n(21),o=n(6);t.exports=function(t){if(void 0===t)return 0;var t=i(t),e=o(t);if(t!==e)throw RangeError("Wrong length!");return e}},function(t,e,n){var i=n(38),o=n(55),r=n(1),n=n(2).Reflect;t.exports=n&&n.ownKeys||function(t){var e=i.f(r(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var h=n(56),m=n(4),g=n(6),v=n(19),b=n(5)("isConcatSpreadable");t.exports=function t(e,n,i,o,r,a,s,l){for(var c,d,u=r,p=0,f=!!s&&v(s,l,3);p<o;){if(p in i){if(c=f?f(i[p],p,n):i[p],d=!1,(d=m(c)?void 0!==(d=c[b])?!!d:h(c):d)&&0<a)u=t(e,n,c,g(c.length),u,a-1)-1;else{if(9007199254740991<=u)throw TypeError();e[u]=c}u++}p++}return u}},function(t,e,n){var r=n(6),a=n(78),s=n(25);t.exports=function(t,e,n,i){var t=String(s(t)),o=t.length,n=void 0===n?" ":String(n),e=r(e);return e<=o||""==n?t:(e=e-o,(o=a.call(n,Math.ceil(e/n.length))).length>e&&(o=o.slice(0,e)),i?o+t:t+o)}},function(t,e,n){var l=n(7),c=n(35),d=n(15),u=n(51).f;t.exports=function(s){return function(t){for(var e,n=d(t),i=c(n),o=i.length,r=0,a=[];r<o;)e=i[r++],l&&!u.call(n,e)||a.push(s?[e,n[e]]:n[e]);return a}}},function(t,e,n){var i=n(46),o=n(135);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){var i=n(41);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,i,o){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||o!=o?NaN:t===1/0||t===-1/0?t:(t-e)*(o-i)/(n-e)+i}},function(t,e){t.exports=window.jQuery},function(t,e){var n,i,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var s,l=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?l=s.concat(l):d=-1,l.length)&&p()}function p(){if(!c){for(var t=a(u),e=(c=!0,l.length);e;){for(s=l,l=[];++d<e;)s&&s[d].run();d=-1,e=l.length}s=null,c=!1,!function(e){if(i===clearTimeout)return clearTimeout(e);if((i===r||!i)&&clearTimeout)return(i=clearTimeout)(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function h(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.default={unzip:function(t,e){var n=jQuery.Deferred();return r.Bridge.unzip(t,e,function(t){t?n.resolve():n.reject()}),n},zip:function(t,e){var n=jQuery.Deferred();return r.Bridge.zip(t,e,function(t){t?n.resolve():n.reject()}),n},dirList:function(t,e){var n=jQuery.Deferred();return r.Bridge.dirList(t,function(t){n.resolve(t)},e),n},moveLocal:function(t,e){var n=jQuery.Deferred();return r.Bridge.moveLocal(t,e,function(t){t?n.resolve():n.reject()}),n},copyLocal:function(t,e){var n=jQuery.Deferred();return r.Bridge.copyLocal(t,e,function(t){t?n.resolve(t):n.reject()}),n},removeLocal:function(t){var e=jQuery.Deferred();return r.Bridge.removeLocal(t,function(t){t?e.resolve():e.reject()}),e},loadLocalFile:function(t){var e=jQuery.Deferred();return r.Bridge.loadLocalFile(t,function(t){e.resolve(t)}),e},saveLocalFile:function(t,e){var n=jQuery.Deferred();return r.Bridge.saveLocalFile(t,e,function(t){t?n.resolve():n.reject()}),n},getLocalJSON:function(t){var e=jQuery.Deferred();return r.Bridge.getLocalJSON(t,function(t){e.resolve(t)},function(t){e.reject(t)}),e},getScreen:function(t,e,n){var i=jQuery.Deferred();return r.Bridge.getScreen(function(t){t?i.resolve(t):i.reject()},t,e,n),i},runFileDialog:function(t,e,n,i){var o=jQuery.Deferred();return r.Bridge.runFileDialog(t,e,n,function(t){t?o.resolve(t):o.reject()},i),o},runFileDialog2:function(t){var e=jQuery.Deferred();return r.Bridge.runFileDialog2(function(t){t?e.resolve(t):e.reject()},t),e},isExistsLocal:function(t,e){var n=jQuery.Deferred();return r.Bridge.isExistsLocal(t,function(t){n.resolve(t),e&&e(t)}),n},addRecent:function(t,e){var n=jQuery.Deferred();return r.Bridge.addRecent(t,function(t){t?n.resolve():n.reject(),e&&e(t)}),n},md5_base64:function(t,e){var n=jQuery.Deferred();return r.Bridge.md5_base64(t,function(t){n.resolve(t),e&&e(t)}),n},getSettings:function(t){var e=jQuery.Deferred();return r.Bridge.getSettings(t,function(t){e.resolve(t)}),e},setSettings:function(t,e){var n=jQuery.Deferred();return r.Bridge.setSettings(t,e,function(t){t?n.resolve():n.reject()}),n},getRecentsList:function(){var e=jQuery.Deferred();return r.Bridge.getRecentsList(function(t){e.resolve(t)}),e},osLocale:function(){var e=jQuery.Deferred();return r.Bridge.osLocale(function(t){e.resolve(t)}),e}}},function(t,x,_){"use strict";_.r(x),function(t){_.d(x,"Headers",function(){return p}),_.d(x,"Request",function(){return m}),_.d(x,"Response",function(){return v}),_.d(x,"DOMException",function(){return y}),_.d(x,"fetch",function(){return w});var e,n,l="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==t&&t||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function u(t){return t="string"!=typeof t?String(t):t}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return c.iterable&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function r(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function a(t){var e=new FileReader,n=r(e);return e.readAsArrayBuffer(t),n}function s(t){var e;return t.slice?t.slice(0):((e=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),e.buffer)}function f(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,(this._bodyInit=t)?"string"==typeof t?this._bodyText=t:c.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:c.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():c.arrayBuffer&&c.blob&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=s(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||n(t))?this._bodyArrayBuffer=s(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return o(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(c.blob)return this.blob().then(a);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t,e,n,i=o(this);if(i)return i;if(this._bodyBlob)return i=this._bodyBlob,t=new FileReader,e=r(t),n=(n=/charset=([A-Za-z0-9_-]+)/.exec(i.type))?n[1]:"utf-8",t.readAsText(i,n),e;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}c.arrayBuffer&&(e=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(t){return t&&-1<e.indexOf(Object.prototype.toString.call(t))}),p.prototype.append=function(t,e){t=d(t),e=u(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},p.prototype.delete=function(t){delete this.map[d(t)]},p.prototype.get=function(t){return t=d(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(d(t))},p.prototype.set=function(t,e){this.map[d(t)]=u(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),i(n)},p.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},p.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),i(n)},c.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);var h=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function m(t,e){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(t=e.method||this.method||"GET",n=t.toUpperCase(),-1<h.indexOf(n)?n:t),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in l)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache||((n=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(n,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function g(t){var n=new FormData;return t.trim().split("&").forEach(function(t){var e;t&&(e=(t=t.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),n.append(decodeURIComponent(e),decodeURIComponent(t)))}),n}function v(t,e){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||599<this.status)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=200<=this.status&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},f.call(m.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:200,statusText:""});return t.status=0,t.type="error",t};var b=[301,302,303,307,308],y=(v.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},l.DOMException);try{new y}catch(t){(y=function(t,e){this.message=t,this.name=e;e=Error(t);this.stack=e.stack}).prototype=Object.create(Error.prototype),y.prototype.constructor=y}function w(a,s){return new Promise(function(o,t){var e=new m(a,s);if(e.signal&&e.signal.aborted)return t(new y("Aborted","AbortError"));var n,r=new XMLHttpRequest;function i(){r.abort()}r.onload=function(){var t,n,e={status:r.status,statusText:r.statusText,headers:(t=r.getAllResponseHeaders()||"",n=new p,t.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t}).forEach(function(t){var t=t.split(":"),e=t.shift().trim();if(e){t=t.join(":").trim();try{n.append(e,t)}catch(t){console.warn("Response "+t.message)}}}),n)},i=(e.url="responseURL"in r?r.responseURL:e.headers.get("X-Request-URL"),"response"in r?r.response:r.responseText);setTimeout(function(){o(new v(i,e))},0)},r.onerror=function(){setTimeout(function(){t(new TypeError("Network request failed"))},0)},r.ontimeout=function(){setTimeout(function(){t(new TypeError("Network request failed"))},0)},r.onabort=function(){setTimeout(function(){t(new y("Aborted","AbortError"))},0)},r.open(e.method,function(e){try{return""===e&&l.location.href?l.location.href:e}catch(t){return e}}(e.url),!0),"include"===e.credentials?r.withCredentials=!0:"omit"===e.credentials&&(r.withCredentials=!1),"responseType"in r&&(c.blob?r.responseType="blob":c.arrayBuffer&&(r.responseType="arraybuffer")),s&&"object"==typeof s.headers&&!(s.headers instanceof p||l.Headers&&s.headers instanceof l.Headers)?(n=[],Object.getOwnPropertyNames(s.headers).forEach(function(t){n.push(d(t)),r.setRequestHeader(t,u(s.headers[t]))}),e.headers.forEach(function(t,e){-1===n.indexOf(e)&&r.setRequestHeader(e,t)})):e.headers.forEach(function(t,e){r.setRequestHeader(e,t)}),e.signal&&(e.signal.addEventListener("abort",i),r.onreadystatechange=function(){4===r.readyState&&e.signal.removeEventListener("abort",i)}),r.send(void 0===e._bodyInit?null:e._bodyInit)})}w.polyfill=!0,l.fetch||(l.fetch=w,l.Headers=p,l.Request=m,l.Response=v)}.call(this,_(44))},function(t,e,n){"use strict";!function(t){if(n(145),n(342),n(343),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;function e(t,e,n){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:n})}e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}.call(this,n(44))},function(t,e,n){n(146),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(226),n(227),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(90),n(250),n(120),n(251),n(121),n(252),n(253),n(254),n(255),n(256),n(124),n(126),n(127),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),t.exports=n(18)},function(I,M,t){"use strict";function i(t){var e=j[t]=y(_[C]);return e._k=t,e}function n(t,e){m(t);for(var n,i=z(e=g(e)),o=0,r=i.length;o<r;)F(t,n=i[o++],e[n]);return t}function e(t){var e=tt.call(this,t=v(t,!0));return!(this===A&&l(j,t)&&!l(E,t))&&(!(e||!l(this,t)||!l(j,t)||l(this,P)&&this[P][t])||e)}function o(t,e){var n;if(t=g(t),e=v(e,!0),t!==A||!l(j,e)||l(E,e))return!(n=X(t,e))||!l(j,e)||l(t,P)&&t[P][e]||(n.enumerable=!0),n}function r(t){for(var e,n=Q(g(t)),i=[],o=0;n.length>o;)l(j,e=n[o++])||e==P||e==N||i.push(e);return i}function a(t){for(var e,n=t===A,i=Q(n?E:g(t)),o=[],r=0;i.length>r;)!l(j,e=i[r++])||n&&!l(A,e)||o.push(j[e]);return o}var s=t(2),l=t(14),c=t(7),d=t(0),B=t(12),N=t(31).KEY,u=t(3),p=t(49),f=t(45),R=t(34),h=t(5),U=t(102),H=t(71),z=t(148),W=t(56),m=t(1),q=t(4),V=t(9),g=t(15),v=t(24),b=t(33),y=t(37),G=t(105),J=t(16),w=t(55),Y=t(8),K=t(35),X=J.f,x=Y.f,Q=G.f,_=s.Symbol,k=s.JSON,S=k&&k.stringify,C="prototype",P=h("_hidden"),Z=h("toPrimitive"),tt={}.propertyIsEnumerable,T=p("symbol-registry"),j=p("symbols"),E=p("op-symbols"),A=Object[C],p="function"==typeof _&&!!w.f,L=s.QObject,O=!L||!L[C]||!L[C].findChild,$=c&&u(function(){return 7!=y(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=X(A,e);i&&delete A[e],x(t,e,n),i&&t!==A&&x(A,e,i)}:x,D=p&&"symbol"==typeof _.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof _},F=function(t,e,n){return t===A&&F(E,e,n),m(t),e=v(e,!0),m(n),(l(j,e)?(n.enumerable?(l(t,P)&&t[P][e]&&(t[P][e]=!1),n=y(n,{enumerable:b(0,!1)})):(l(t,P)||x(t,P,b(1,{})),t[P][e]=!0),$):x)(t,e,n)};p||(B((_=function(){if(this instanceof _)throw TypeError("Symbol is not a constructor!");var e=R(0<arguments.length?arguments[0]:void 0),n=function(t){this===A&&n.call(E,t),l(this,P)&&l(this[P],e)&&(this[P][e]=!1),$(this,e,b(1,t))};return c&&O&&$(A,e,{configurable:!0,set:n}),i(e)})[C],"toString",function(){return this._k}),J.f=o,Y.f=F,t(38).f=G.f=r,t(51).f=e,w.f=a,c&&!t(30)&&B(A,"propertyIsEnumerable",e,!0),U.f=function(t){return i(h(t))}),d(d.G+d.W+d.F*!p,{Symbol:_});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var it=K(h.store),ot=0;it.length>ot;)H(it[ot++]);d(d.S+d.F*!p,"Symbol",{for:function(t){return l(T,t+="")?T[t]:T[t]=_(t)},keyFor:function(t){if(!D(t))throw TypeError(t+" is not a symbol!");for(var e in T)if(T[e]===t)return e},useSetter:function(){O=!0},useSimple:function(){O=!1}}),d(d.S+d.F*!p,"Object",{create:function(t,e){return void 0===e?y(t):n(y(t),e)},defineProperty:F,defineProperties:n,getOwnPropertyDescriptor:o,getOwnPropertyNames:r,getOwnPropertySymbols:a});L=u(function(){w.f(1)});d(d.S+d.F*L,"Object",{getOwnPropertySymbols:function(t){return w.f(V(t))}}),k&&d(d.S+d.F*(!p||u(function(){var t=_();return"[null]"!=S([t])||"{}"!=S({a:t})||"{}"!=S(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],o=1;o<arguments.length;)i.push(arguments[o++]);if(n=e=i[1],(q(e)||void 0!==t)&&!D(t))return W(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!D(e))return e}),i[1]=e,S.apply(k,i)}}),_[C][Z]||t(11)(_[C],Z,_[C].valueOf),f(_,"Symbol"),f(Math,"Math",!0),f(s.JSON,"JSON",!0)},function(t,e,n){t.exports=n(49)("native-function-to-string",Function.toString)},function(t,e,n){var s=n(35),l=n(55),c=n(51);t.exports=function(t){var e=s(t),n=l.f;if(n)for(var i,o=n(t),r=c.f,a=0;o.length>a;)r.call(t,i=o[a++])&&e.push(i);return e}},function(t,e,n){var i=n(0);i(i.S,"Object",{create:n(37)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(7),"Object",{defineProperty:n(8).f})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(7),"Object",{defineProperties:n(104)})},function(t,e,n){var i=n(15),o=n(16).f;n(26)("getOwnPropertyDescriptor",function(){return function(t,e){return o(i(t),e)}})},function(t,e,n){var i=n(9),o=n(17);n(26)("getPrototypeOf",function(){return function(t){return o(i(t))}})},function(t,e,n){var i=n(9),o=n(35);n(26)("keys",function(){return function(t){return o(i(t))}})},function(t,e,n){n(26)("getOwnPropertyNames",function(){return n(105).f})},function(t,e,n){var i=n(4),o=n(31).onFreeze;n(26)("freeze",function(e){return function(t){return e&&i(t)?e(o(t)):t}})},function(t,e,n){var i=n(4),o=n(31).onFreeze;n(26)("seal",function(e){return function(t){return e&&i(t)?e(o(t)):t}})},function(t,e,n){var i=n(4),o=n(31).onFreeze;n(26)("preventExtensions",function(e){return function(t){return e&&i(t)?e(o(t)):t}})},function(t,e,n){var i=n(4);n(26)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(t,e,n){var i=n(4);n(26)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(t,e,n){var i=n(4);n(26)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},function(t,e,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(106)})},function(t,e,n){var i=n(0);i(i.S,"Object",{is:n(107)})},function(t,e,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(75).set})},function(t,e,n){"use strict";var i=n(46),o={};o[n(5)("toStringTag")]="z",o+""!="[object z]"&&n(12)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(0);i(i.P,"Function",{bind:n(108)})},function(t,e,n){var i=n(8).f,o=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in o||n(7)&&i(o,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(4),o=n(17),r=n(5)("hasInstance"),a=Function.prototype;r in a||n(8).f(a,r,{value:function(t){if("function"==typeof this&&i(t)){if(!i(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0}return!1}})},function(t,e,n){var i=n(0),n=n(110);i(i.G+i.F*(parseInt!=n),{parseInt:n})},function(t,e,n){var i=n(0),n=n(111);i(i.G+i.F*(parseFloat!=n),{parseFloat:n})},function(t,e,n){"use strict";function i(t){if("string"==typeof(e=c(t,!1))&&2<e.length){var e,n,i,o,t=(e=b?e.trim():f(e,3)).charCodeAt(0);if(43===t||45===t){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(e.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+e}for(var r,a=e.slice(2),s=0,l=a.length;s<l;s++)if((r=a.charCodeAt(s))<48||o<r)return NaN;return parseInt(a,i)}}return+e}var o=n(2),r=n(14),a=n(20),s=n(77),c=n(24),l=n(3),d=n(38).f,u=n(16).f,p=n(8).f,f=n(47).trim,h="Number",m=w=o[h],g=w.prototype,v=a(n(37)(g))==h,b="trim"in String.prototype;if(!w(" 0o1")||!w("0b1")||w("+0x1")){for(var y,w=function(t){var t=arguments.length<1?0:t,e=this;return e instanceof w&&(v?l(function(){g.valueOf.call(e)}):a(e)!=h)?s(new m(i(t)),e,w):i(t)},x=n(7)?d(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;x.length>_;_++)r(m,y=x[_])&&!r(w,y)&&p(w,y,u(m,y));(w.prototype=g).constructor=w,n(12)(o,h,w)}},function(t,e,n){"use strict";function a(t,e){for(var n=-1,i=e;++n<6;)f[n]=(i+=t*f[n])%1e7,i=r(i/1e7)}function s(t){for(var e=6,n=0;0<=--e;)f[e]=r((n+=f[e])/t),n=n%t*1e7}function l(){for(var t,e=6,n="";0<=--e;)""===n&&0!==e&&0===f[e]||(t=String(f[e]),n=""===n?t:n+p.call("0",7-t.length)+t);return n}function c(t,e,n){return 0===e?n:e%2==1?c(t,e-1,n*t):c(t*t,e/2,n)}var i=n(0),d=n(21),u=n(112),p=n(78),o=1..toFixed,r=Math.floor,f=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!";i(i.P+i.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!n(3)(function(){o.call({})})),"Number",{toFixed:function(t){var e,n,i=u(this,h),t=d(t),o="",r="0";if(t<0||20<t)throw RangeError(h);if(i!=i)return"NaN";if(i<=-1e21||1e21<=i)return String(i);if(i<0&&(o="-",i=-i),1e-21<i)if(i=(e=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(i*c(2,69,1))-69)<0?i*c(2,-e,1):i/c(2,e,1),i*=4503599627370496,0<(e=52-e)){for(a(0,i),n=t;7<=n;)a(1e7,0),n-=7;for(a(c(10,n,1),0),n=e-1;23<=n;)s(1<<23),n-=23;s(1<<n),a(1,1),s(2),r=l()}else a(0,i),a(1<<-e,0),r=l()+p.call("0",t);return r=0<t?o+((i=r.length)<=t?"0."+p.call("0",t-i)+r:r.slice(0,i-t)+"."+r.slice(i-t)):o+r}})},function(t,e,n){"use strict";var i=n(0),o=n(3),r=n(112),a=1..toPrecision;i(i.P+i.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(t){var e=r(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){n=n(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(0),o=n(2).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isInteger:n(113)})},function(t,e,n){n=n(0);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(0),o=n(113),r=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return o(t)&&r(t)<=9007199254740991}})},function(t,e,n){n=n(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n=n(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(0),n=n(111);i(i.S+i.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},function(t,e,n){var i=n(0),n=n(110);i(i.S+i.F*(Number.parseInt!=n),"Number",{parseInt:n})},function(t,e,n){var i=n(0),o=n(114),r=Math.sqrt,n=Math.acosh;i(i.S+i.F*!(n&&710==Math.floor(n(Number.MAX_VALUE))&&n(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:o(t-1+r(t-1)*r(t+1))}})},function(t,e,n){var n=n(0),i=Math.asinh;n(n.S+n.F*!(i&&0<1/i(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var n=n(0),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(0),o=n(79);i(i.S,"Math",{cbrt:function(t){return o(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){n=n(0);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var n=n(0),i=Math.exp;n(n.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var i=n(0),n=n(80);i(i.S+i.F*(n!=Math.expm1),"Math",{expm1:n})},function(t,e,n){var i=n(0);i(i.S,"Math",{fround:n(115)})},function(t,e,n){var n=n(0),l=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var n,i,o=0,r=0,a=arguments.length,s=0;r<a;)s<(n=l(arguments[r++]))?(o=o*(i=s/n)*i+1,s=n):o+=0<n?(i=n/s)*i:n;return s===1/0?1/0:s*Math.sqrt(o)}})},function(t,e,n){var i=n(0),o=Math.imul;i(i.S+i.F*n(3)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(t,e){var n=65535,t=+t,e=+e,i=n&t,o=n&e;return 0|i*o+((n&t>>>16)*o+i*(n&e>>>16)<<16>>>0)}})},function(t,e,n){n=n(0);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log1p:n(114)})},function(t,e,n){n=n(0);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{sign:n(79)})},function(t,e,n){var i=n(0),o=n(80),r=Math.exp;i(i.S+i.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(o(t)-o(-t))/2:(r(t-1)-r(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(0),o=n(80),r=Math.exp;i(i.S,"Math",{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(r(t)+r(-t))}})},function(t,e,n){n=n(0);n(n.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(0),r=n(36),a=String.fromCharCode,n=String.fromCodePoint;i(i.S+i.F*(!!n&&1!=n.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,o=0;o<i;){if(e=+arguments[o++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(0),a=n(15),s=n(6);i(i.S,"String",{raw:function(t){for(var e=a(t.raw),n=s(e.length),i=arguments.length,o=[],r=0;r<n;)o.push(String(e[r++])),r<i&&o.push(String(arguments[r]));return o.join("")}})},function(t,e,n){"use strict";n(47)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var i=n(57)(!0);n(81)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(t=i(t,e),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var i=n(0),o=n(57)(!1);i(i.P,"String",{codePointAt:function(t){return o(this,t)}})},function(t,e,n){"use strict";var i=n(0),o=n(6),r=n(83),a="endsWith",s=""[a];i(i.P+i.F*n(84)(a),"String",{endsWith:function(t){var e=r(this,t,a),n=1<arguments.length?arguments[1]:void 0,i=o(e.length),n=void 0===n?i:Math.min(o(n),i),i=String(t);return s?s.call(e,i,n):e.slice(n-i.length,n)===i}})},function(t,e,n){"use strict";var i=n(0),o=n(83),r="includes";i(i.P+i.F*n(84)(r),"String",{includes:function(t){return!!~o(this,t,r).indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){var i=n(0);i(i.P,"String",{repeat:n(78)})},function(t,e,n){"use strict";var i=n(0),o=n(6),r=n(83),a="startsWith",s=""[a];i(i.P+i.F*n(84)(a),"String",{startsWith:function(t){var e=r(this,t,a),n=o(Math.min(1<arguments.length?arguments[1]:void 0,e.length)),t=String(t);return s?s.call(e,t,n):e.slice(n,n+t.length)===t}})},function(t,e,n){"use strict";n(13)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(t,e,n){"use strict";n(13)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(13)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(13)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(13)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(13)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(t,e,n){"use strict";n(13)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(t,e,n){"use strict";n(13)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(13)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(t,e,n){"use strict";n(13)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(13)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(13)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(13)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){n=n(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(0),o=n(9),r=n(24);i(i.P+i.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=o(this),n=r(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(0),n=n(225);i(i.P+i.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(t,e,n){"use strict";function o(t){return 9<t?t:"0"+t}var n=n(3),r=Date.prototype.getTime,i=Date.prototype.toISOString;t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!n(function(){i.call(new Date(NaN))})?function(){var t,e,n,i;if(isFinite(r.call(this)))return e=(t=this).getUTCFullYear(),n=t.getUTCMilliseconds(),(i=e<0?"-":9999<e?"+":"")+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+(99<n?n:"0"+o(n))+"Z";throw RangeError("Invalid time value")}:i},function(t,e,n){var i=Date.prototype,o="Invalid Date",r="toString",a=i[r],s=i.getTime;new Date(NaN)+""!=o&&n(12)(i,r,function(){var t=s.call(this);return t==t?a.call(this):o})},function(t,e,n){var i=n(5)("toPrimitive"),o=Date.prototype;i in o||n(11)(o,i,n(228))},function(t,e,n){"use strict";var i=n(1),o=n(24);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(i(this),"number"!=t)}},function(t,e,n){var i=n(0);i(i.S,"Array",{isArray:n(56)})},function(t,e,n){"use strict";var u=n(19),i=n(0),p=n(9),f=n(116),h=n(85),m=n(6),g=n(86),v=n(87);i(i.S+i.F*!n(59)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,o,r=p(t),t="function"==typeof this?this:Array,a=arguments.length,s=1<a?arguments[1]:void 0,l=void 0!==s,c=0,d=v(r);if(l&&(s=u(s,2<a?arguments[2]:void 0,2)),null==d||t==Array&&h(d))for(n=new t(e=m(r.length));c<e;c++)g(n,c,l?s(r[c],c):r[c]);else for(o=d.call(r),n=new t;!(i=o.next()).done;c++)g(n,c,l?f(o,s,[i.value,c],!0):i.value);return n.length=c,n}})},function(t,e,n){"use strict";var i=n(0),o=n(86);i(i.S+i.F*n(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(0),o=n(15),r=[].join;i(i.P+i.F*(n(50)!=Object||!n(22)(r)),"Array",{join:function(t){return r.call(o(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(0),o=n(74),l=n(20),c=n(36),d=n(6),u=[].slice;i(i.P+i.F*n(3)(function(){o&&u.call(o)}),"Array",{slice:function(t,e){var n=d(this.length),i=l(this);if(e=void 0===e?n:e,"Array"==i)return u.call(this,t,e);for(var o=c(t,n),t=c(e,n),r=d(t-o),a=new Array(r),s=0;s<r;s++)a[s]="String"==i?this.charAt(o+s):this[o+s];return a}})},function(t,e,n){"use strict";var i=n(0),o=n(10),r=n(9),a=n(3),s=[].sort,l=[1,2,3];i(i.P+i.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(22)(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),o(t))}})},function(t,e,n){"use strict";var i=n(0),o=n(27)(0),n=n(22)([].forEach,!0);i(i.P+i.F*!n,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var i=n(4),o=n(56),r=n(5)("species");t.exports=function(t){var e;return void 0===(e=o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),i(e))&&null===(e=e[r])?void 0:e)?Array:e}},function(t,e,n){"use strict";var i=n(0),o=n(27)(1);i(i.P+i.F*!n(22)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),o=n(27)(2);i(i.P+i.F*!n(22)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),o=n(27)(3);i(i.P+i.F*!n(22)([].some,!0),"Array",{some:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),o=n(27)(4);i(i.P+i.F*!n(22)([].every,!0),"Array",{every:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),o=n(117);i(i.P+i.F*!n(22)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(0),o=n(117);i(i.P+i.F*!n(22)([].reduceRight,!0),"Array",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(0),o=n(54)(!1),r=[].indexOf,a=!!r&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(22)(r)),"Array",{indexOf:function(t){return a?r.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),o=n(15),r=n(21),a=n(6),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(22)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=o(this),n=a(e.length),i=n-1;for((i=1<arguments.length?Math.min(i,r(arguments[1])):i)<0&&(i=n+i);0<=i;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){var i=n(0);i(i.P,"Array",{copyWithin:n(118)}),n(32)("copyWithin")},function(t,e,n){var i=n(0);i(i.P,"Array",{fill:n(89)}),n(32)("fill")},function(t,e,n){"use strict";var i=n(0),o=n(27)(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),i(i.P+i.F*r,"Array",{find:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),n(32)("find")},function(t,e,n){"use strict";var i=n(0),o=n(27)(6),r="findIndex",a=!0;r in[]&&Array(1)[r](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),n(32)(r)},function(t,e,n){n(39)("Array")},function(t,e,n){var i=n(2),r=n(77),o=n(8).f,a=n(38).f,s=n(58),l=n(52),c=h=i.RegExp,d=h.prototype,u=/a/g,p=/a/g,f=new h(u)!==u;if(n(7)&&(!f||n(3)(function(){return p[n(5)("match")]=!1,h(u)!=u||h(p)==p||"/a/i"!=h(u,"i")}))){for(var h=function(t,e){var n=this instanceof h,i=s(t),o=void 0===e;return!n&&i&&t.constructor===h&&o?t:r(f?new c(i&&!o?t.source:t,e):c((i=t instanceof h)?t.source:t,i&&o?l.call(t):e),n?this:d,h)},m=a(c),g=0;m.length>g;)!function(e){e in h||o(h,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(m[g++]);(d.constructor=h).prototype=d,n(12)(i,"RegExp",h)}n(39)("RegExp")},function(t,e,n){"use strict";n(121);function i(t){n(12)(RegExp.prototype,s,t,!0)}var o=n(1),r=n(52),a=n(7),s="toString",l=/./[s];n(3)(function(){return"/a/b"!=l.call({source:"a",flags:"b"})})?i(function(){var t=o(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?r.call(t):void 0)}):l.name!=s&&i(function(){return l.call(this)})},function(t,e,n){"use strict";var d=n(1),u=n(6),p=n(92),f=n(60);n(61)("match",1,function(i,o,l,c){return[function(t){var e=i(this),n=null==t?void 0:t[o];return void 0!==n?n.call(t,e):new RegExp(t)[o](String(e))},function(t){var e=c(l,t,this);if(e.done)return e.value;var n=d(t),i=String(this);if(!n.global)return f(n,i);for(var o=n.unicode,r=[],a=n.lastIndex=0;null!==(s=f(n,i));){var s=String(s[0]);""===(r[a]=s)&&(n.lastIndex=p(i,u(n.lastIndex),o)),a++}return 0===a?null:r}]})},function(t,e,n){"use strict";var _=n(1),k=n(9),S=n(6),C=n(21),P=n(92),T=n(60),j=Math.max,E=Math.min,A=Math.floor,L=/\$([$&`']|\d\d?|<[^>]*>)/g,O=/\$([$&`']|\d\d?)/g;n(61)("replace",2,function(o,r,w,x){return[function(t,e){var n=o(this),i=null==t?void 0:t[r];return void 0!==i?i.call(t,n,e):w.call(String(n),t,e)},function(t,e){var n=x(w,t,this,e);if(n.done)return n.value;for(var i,o=_(t),r=String(this),a="function"==typeof e,s=(a||(e=String(e)),o.global),l=(s&&(i=o.unicode,o.lastIndex=0),[]);null!==(f=T(o,r))&&(l.push(f),s);)""===String(f[0])&&(o.lastIndex=P(r,S(o.lastIndex),i));for(var c,d="",u=0,p=0;p<l.length;p++){for(var f=l[p],h=String(f[0]),m=j(E(C(f.index),r.length),0),g=[],v=1;v<f.length;v++)g.push(void 0===(c=f[v])?c:String(c));var b=f.groups,y=a?(y=[h].concat(g,m,r),void 0!==b&&y.push(b),String(e.apply(void 0,y))):function(r,a,s,l,c,t){var d=s+r.length,u=l.length,e=O;void 0!==c&&(c=k(c),e=L);return w.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return r;case"`":return a.slice(0,s);case"'":return a.slice(d);case"<":n=c[e.slice(1,-1)];break;default:var i,o=+e;if(0==o)return t;if(u<o)return 0!==(i=A(o/10))&&i<=u?void 0===l[i-1]?e.charAt(1):l[i-1]+e.charAt(1):t;n=l[o-1]}return void 0===n?"":n})}(h,r,m,g,b,e);u<=m&&(d+=r.slice(u,m)+y,u=m+h.length)}return d+r.slice(u)}]})},function(t,e,n){"use strict";var s=n(1),l=n(107),c=n(60);n(61)("search",1,function(i,o,r,a){return[function(t){var e=i(this),n=null==t?void 0:t[o];return void 0!==n?n.call(t,e):new RegExp(t)[o](String(e))},function(t){var e,n=a(r,t,this);return n.done?n.value:(n=s(t),t=String(this),e=n.lastIndex,l(e,0)||(n.lastIndex=0),t=c(n,t),l(n.lastIndex,e)||(n.lastIndex=e),null===t?-1:t.index)}]})},function(t,e,n){"use strict";var u=n(58),v=n(1),b=n(53),y=n(92),w=n(6),x=n(60),p=n(91),i=n(3),_=Math.min,f=[].push,a="split",k="length",S="lastIndex",C=4294967295,P=!i(function(){RegExp(C,"y")});n(61)("split",2,function(o,r,h,m){var g="c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[k]||2!="ab"[a](/(?:ab)*/)[k]||4!="."[a](/(.?)(.?)/)[k]||1<"."[a](/()()/)[k]||""[a](/.?/)[k]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!u(t))return h.call(n,t,e);for(var i,o,r,a=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,c=void 0===e?C:e>>>0,d=new RegExp(t.source,s+"g");(i=p.call(d,n))&&!(l<(o=d[S])&&(a.push(n.slice(l,i.index)),1<i[k]&&i.index<n[k]&&f.apply(a,i.slice(1)),r=i[0][k],l=o,c<=a[k]));)d[S]===i.index&&d[S]++;return l===n[k]?!r&&d.test("")||a.push(""):a.push(n.slice(l)),c<a[k]?a.slice(0,c):a}:"0"[a](void 0,0)[k]?function(t,e){return void 0===t&&0===e?[]:h.call(this,t,e)}:h;return[function(t,e){var n=o(this),i=null==t?void 0:t[r];return void 0!==i?i.call(t,n,e):g.call(String(n),t,e)},function(t,e){var n=m(g,t,this,e,g!==h);if(n.done)return n.value;var n=v(t),i=String(this),t=b(n,RegExp),o=n.unicode,r=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(P?"y":"g"),a=new t(P?n:"^(?:"+n.source+")",r),s=void 0===e?C:e>>>0;if(0==s)return[];if(0===i.length)return null===x(a,i)?[i]:[];for(var l=0,c=0,d=[];c<i.length;){a.lastIndex=P?c:0;var u,p=x(a,P?i:i.slice(c));if(null===p||(u=_(w(a.lastIndex+(P?0:c)),i.length))===l)c=y(i,c,o);else{if(d.push(i.slice(l,c)),d.length===s)return d;for(var f=1;f<=p.length-1;f++)if(d.push(p[f]),d.length===s)return d;c=l=u}}return d.push(i.slice(l)),d}]})},function(F,I,n){"use strict";function i(){}var e,o,r,a,s=n(30),p=n(2),l=n(19),t=n(46),c=n(0),d=n(4),u=n(10),f=n(40),h=n(41),m=n(53),g=n(93).set,v=n(94)(),b=n(95),y=n(122),w=n(62),x=n(123),_="Promise",k=p.TypeError,S=p.process,C=S&&S.versions,P=C&&C.v8||"",T=p[_],j="process"==t(S),E=o=b.f,C=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(i,i)};return(j||"function"==typeof PromiseRejectionEvent)&&t.then(i)instanceof e&&0!==P.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),A=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},L=function(u,n){var i;u._n||(u._n=!0,i=u._c,v(function(){for(var o,c=u._v,d=1==u._s,t=0,e=function(t){var e,n,i,o,r=d?t.ok:t.fail,a=t.resolve,s=t.reject,l=t.domain;try{r?(d||(2==u._h&&(o=u,g.call(p,function(){var t;j?S.emit("rejectionHandled",o):(t=p.onrejectionhandled)&&t({promise:o,reason:o._v})})),u._h=1),!0===r?e=c:(l&&l.enter(),e=r(c),l&&(l.exit(),i=!0)),e===t.promise?s(k("Promise-chain cycle")):(n=A(e))?n.call(e,a,s):a(e)):s(c)}catch(t){l&&!i&&l.exit(),s(t)}};i.length>t;)e(i[t++]);u._c=[],u._n=!1,n&&!u._h&&(o=u,g.call(p,function(){var t,e,n=o._v,i=O(o);if(i&&(t=y(function(){j?S.emit("unhandledRejection",n,o):(e=p.onunhandledrejection)?e({promise:o,reason:n}):(e=p.console)&&e.error&&e.error("Unhandled promise rejection",n)}),o._h=j||O(o)?2:1),o._a=void 0,i&&t.e)throw t.v}))}))},O=function(t){return 1!==t._h&&0===(t._a||t._c).length},$=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},D=function(t){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw k("Promise can't be resolved itself");(n=A(t))?v(function(){var e={_w:i,_d:!1};try{n.call(t,l(D,e,1),l($,e,1))}catch(t){$.call(e,t)}}):(i._v=t,i._s=1,L(i,!1))}catch(t){$.call({_w:i,_d:!1},t)}}};C||(T=function(t){f(this,T,_,"_h"),u(t),e.call(this);try{t(l(D,this,1),l($,this,1))}catch(t){$.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(42)(T.prototype,{then:function(t,e){var n=E(m(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=j?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new e;this.promise=t,this.resolve=l(D,t,1),this.reject=l($,t,1)},b.f=E=function(t){return t===T||t===a?new r:o(t)}),c(c.G+c.W+c.F*!C,{Promise:T}),n(45)(T,_),n(39)(_),a=n(18)[_],c(c.S+c.F*!C,_,{reject:function(t){var e=E(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(s||!C),_,{resolve:function(t){return x(s&&this===a?T:this,t)}}),c(c.S+c.F*!(C&&n(59)(function(t){T.all(t).catch(i)})),_,{all:function(t){var a=this,e=E(a),s=e.resolve,l=e.reject,n=y(function(){var i=[],o=0,r=1;h(t,!1,function(t){var e=o++,n=!1;i.push(void 0),r++,a.resolve(t).then(function(t){n||(n=!0,i[e]=t,--r)||s(i)},l)}),--r||s(i)});return n.e&&l(n.v),e.promise},race:function(t){var e=this,n=E(e),i=n.reject,o=y(function(){h(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return o.e&&i(o.v),n.promise}})},function(t,e,n){"use strict";var i=n(128),o=n(43);n(63)("WeakSet",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return i.def(o(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(0),o=n(64),r=n(96),l=n(1),c=n(36),d=n(6),a=n(4),s=n(2).ArrayBuffer,u=n(53),p=r.ArrayBuffer,f=r.DataView,h=o.ABV&&s.isView,m=p.prototype.slice,g=o.VIEW,r="ArrayBuffer";i(i.G+i.W+i.F*(s!==p),{ArrayBuffer:p}),i(i.S+i.F*!o.CONSTR,r,{isView:function(t){return h&&h(t)||a(t)&&g in t}}),i(i.P+i.U+i.F*n(3)(function(){return!new p(2).slice(1,void 0).byteLength}),r,{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(l(this),t);for(var n=l(this).byteLength,i=c(t,n),o=c(void 0===e?n:e,n),t=new(u(this,p))(d(o-i)),r=new f(this),a=new f(t),s=0;i<o;)a.setUint8(s++,r.getUint8(i++));return t}}),n(39)(r)},function(t,e,n){var i=n(0);i(i.G+i.W+i.F*!n(64).ABV,{DataView:n(96).DataView})},function(t,e,n){n(28)("Int8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(28)("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(28)("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}},!0)},function(t,e,n){n(28)("Int16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(28)("Uint16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(28)("Int32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(28)("Uint32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(28)("Float32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(28)("Float64",8,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){var i=n(0),o=n(10),r=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){t=o(t),n=r(n);return a?a(t,e,n):s.call(t,e,n)}})},function(t,e,n){var i=n(0),o=n(37),r=n(10),a=n(1),s=n(4),l=n(3),c=n(108),d=(n(2).Reflect||{}).construct,u=l(function(){function t(){}return!(d(function(){},[],t)instanceof t)}),p=!l(function(){d(function(){})});i(i.S+i.F*(u||p),"Reflect",{construct:function(t,e){r(t),a(e);var n=arguments.length<3?t:r(arguments[2]);if(p&&!u)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}i=n.prototype,n=o(s(i)?i:Object.prototype),i=Function.apply.call(t,n,e);return s(i)?i:n}})},function(t,e,n){var i=n(8),o=n(0),r=n(1),a=n(24);o(o.S+o.F*n(3)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){r(t),e=a(e,!0),r(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),o=n(16).f,r=n(1);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=o(r(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";function i(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)}var o=n(0),r=n(1);n(82)(i,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),o(o.S,"Reflect",{enumerate:function(t){return new i(t)}})},function(t,e,n){var r=n(16),a=n(17),s=n(14),i=n(0),l=n(4),c=n(1);i(i.S,"Reflect",{get:function t(e,n){var i,o=arguments.length<3?e:arguments[2];return c(e)===o?e[n]:(i=r.f(e,n))?s(i,"value")?i.value:void 0!==i.get?i.get.call(o):void 0:l(i=a(e))?t(i,n,o):void 0}})},function(t,e,n){var i=n(16),o=n(0),r=n(1);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(r(t),e)}})},function(t,e,n){var i=n(0),o=n(17),r=n(1);i(i.S,"Reflect",{getPrototypeOf:function(t){return o(r(t))}})},function(t,e,n){n=n(0);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(0),o=n(1),r=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return o(t),!r||r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(130)})},function(t,e,n){var i=n(0),o=n(1),r=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){o(t);try{return r&&r(t),!0}catch(t){return!1}}})},function(t,e,n){var s=n(8),l=n(16),c=n(17),d=n(14),i=n(0),u=n(33),p=n(1),f=n(4);i(i.S,"Reflect",{set:function t(e,n,i){var o,r=arguments.length<4?e:arguments[3],a=l.f(p(e),n);if(!a){if(f(o=c(e)))return t(o,n,i,r);a=u(0)}if(d(a,"value")){if(!1===a.writable||!f(r))return!1;if(o=l.f(r,n)){if(o.get||o.set||!1===o.writable)return!1;o.value=i,s.f(r,n,o)}else s.f(r,n,u(0,i));return!0}return void 0!==a.set&&(a.set.call(r,i),!0)}})},function(t,e,n){var i=n(0),o=n(75);o&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){o.check(t,e);try{return o.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var i=n(0),o=n(54)(!0);i(i.P,"Array",{includes:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),n(32)("includes")},function(t,e,n){"use strict";var i=n(0),o=n(131),r=n(9),a=n(6),s=n(10),l=n(88);i(i.P,"Array",{flatMap:function(t){var e,n,i=r(this);return s(t),e=a(i.length),n=l(i,0),o(n,i,i,e,0,1,t,arguments[1]),n}}),n(32)("flatMap")},function(t,e,n){"use strict";var i=n(0),o=n(131),r=n(9),a=n(6),s=n(21),l=n(88);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=r(this),n=a(e.length),i=l(e,0);return o(i,e,e,n,0,void 0===t?1:s(t)),i}}),n(32)("flatten")},function(t,e,n){"use strict";var i=n(0),o=n(57)(!0),n=n(3)(function(){return"ð ®·"!=="ð ®·".at(0)});i(i.P+i.F*n,"String",{at:function(t){return o(this,t)}})},function(t,e,n){"use strict";var i=n(0),o=n(132),n=n(62),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);i(i.P+i.F*n,"String",{padStart:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var i=n(0),o=n(132),n=n(62),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);i(i.P+i.F*n,"String",{padEnd:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(47)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(47)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";function i(t,e){this._r=t,this._s=e}var o=n(0),r=n(25),a=n(6),s=n(58),l=n(52),c=RegExp.prototype;n(82)(i,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),o(o.P,"String",{matchAll:function(t){var e,n;if(r(this),s(t))return e=String(this),n="flags"in c?String(t.flags):l.call(t),(n=new RegExp(t.source,~n.indexOf("g")?n:"g"+n)).lastIndex=a(t.lastIndex),new i(n,e);throw TypeError(t+" is not a regexp!")}})},function(t,e,n){n(71)("asyncIterator")},function(t,e,n){n(71)("observable")},function(t,e,n){var i=n(0),l=n(130),c=n(15),d=n(16),u=n(86);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=c(t),o=d.f,r=l(i),a={},s=0;r.length>s;)void 0!==(n=o(i,e=r[s++]))&&u(a,e,n);return a}})},function(t,e,n){var i=n(0),o=n(133)(!1);i(i.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){var i=n(0),o=n(133)(!0);i(i.S,"Object",{entries:function(t){return o(t)}})},function(t,e,n){"use strict";var i=n(0),o=n(9),r=n(10),a=n(8);n(7)&&i(i.P+n(65),"Object",{__defineGetter__:function(t,e){a.f(o(this),t,{get:r(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),o=n(9),r=n(10),a=n(8);n(7)&&i(i.P+n(65),"Object",{__defineSetter__:function(t,e){a.f(o(this),t,{set:r(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),o=n(9),r=n(24),a=n(17),s=n(16).f;n(7)&&i(i.P+n(65),"Object",{__lookupGetter__:function(t){var e,n=o(this),i=r(t,!0);do{if(e=s(n,i))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var i=n(0),o=n(9),r=n(24),a=n(17),s=n(16).f;n(7)&&i(i.P+n(65),"Object",{__lookupSetter__:function(t){var e,n=o(this),i=r(t,!0);do{if(e=s(n,i))return e.set}while(n=a(n))}})},function(t,e,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(134)("Map")})},function(t,e,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(134)("Set")})},function(t,e,n){n(66)("Map")},function(t,e,n){n(66)("Set")},function(t,e,n){n(66)("WeakMap")},function(t,e,n){n(66)("WeakSet")},function(t,e,n){n(67)("Map")},function(t,e,n){n(67)("Set")},function(t,e,n){n(67)("WeakMap")},function(t,e,n){n(67)("WeakSet")},function(t,e,n){var i=n(0);i(i.G,{global:n(2)})},function(t,e,n){var i=n(0);i(i.S,"System",{global:n(2)})},function(t,e,n){var i=n(0),o=n(20);i(i.S,"Error",{isError:function(t){return"Error"===o(t)}})},function(t,e,n){n=n(0);n(n.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){n=n(0);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var n=n(0),i=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var i=n(0),r=n(136),a=n(115);i(i.S,"Math",{fscale:function(t,e,n,i,o){return a(r(t,e,n,i,o))}})},function(t,e,n){n=n(0);n(n.S,"Math",{iaddh:function(t,e,n,i){t>>>=0,n>>>=0;return(e>>>0)+(i>>>0)+((t&n|(t|n)&~(t+n>>>0))>>>31)|0}})},function(t,e,n){n=n(0);n(n.S,"Math",{isubh:function(t,e,n,i){t>>>=0,n>>>=0;return(e>>>0)-(i>>>0)-((~t&n|~(t^n)&t-n>>>0)>>>31)|0}})},function(t,e,n){n=n(0);n(n.S,"Math",{imulh:function(t,e){var t=+t,e=+e,n=65535&t,i=65535&e,t=t>>16,e=e>>16,i=(t*i>>>0)+(n*i>>>16);return t*e+(i>>16)+((n*e>>>0)+(65535&i)>>16)}})},function(t,e,n){n=n(0);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var n=n(0),i=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var i=n(0);i(i.S,"Math",{scale:n(136)})},function(t,e,n){n=n(0);n(n.S,"Math",{umulh:function(t,e){var t=+t,e=+e,n=65535&t,i=65535&e,t=t>>>16,e=e>>>16,i=(t*i>>>0)+(n*i>>>16);return t*e+(i>>>16)+((n*e>>>0)+(65535&i)>>>16)}})},function(t,e,n){n=n(0);n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:0<t}})},function(t,e,n){"use strict";var i=n(0),o=n(18),r=n(2),a=n(53),s=n(123);i(i.P+i.R,"Promise",{finally:function(e){var n=a(this,o.Promise||r.Promise),t="function"==typeof e;return this.then(t?function(t){return s(n,e()).then(function(){return t})}:e,t?function(t){return s(n,e()).then(function(){throw t})}:e)}})},function(t,e,n){"use strict";var i=n(0),o=n(95),r=n(122);i(i.S,"Promise",{try:function(t){var e=o.f(this),t=r(t);return(t.e?e.reject:e.resolve)(t.v),e.promise}})},function(t,e,n){var i=n(29),o=n(1),r=i.key,a=i.set;i.exp({defineMetadata:function(t,e,n,i){a(t,e,o(n),r(i))}})},function(t,e,n){var i=n(29),o=n(1),r=i.key,a=i.map,s=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:r(arguments[2]),i=a(o(e),n,!1);return!(void 0===i||!i.delete(t))&&(!!i.size||((i=s.get(e)).delete(n),!!i.size)||s.delete(e))}})},function(t,e,n){function i(t,e,n){return s(t,e,n)?l(t,e,n):null!==(e=a(e))?i(t,e,n):void 0}var o=n(29),r=n(1),a=n(17),s=o.has,l=o.get,c=o.key;o.exp({getMetadata:function(t,e){return i(t,r(e),arguments.length<3?void 0:c(arguments[2]))}})},function(t,e,n){function i(t,e){var n=c(t,e);return null!==(t=l(t))&&(t=i(t,e)).length?n.length?r(new o(n.concat(t))):t:n}var o=n(126),r=n(135),a=n(29),s=n(1),l=n(17),c=a.keys,d=a.key;a.exp({getMetadataKeys:function(t){return i(s(t),arguments.length<2?void 0:d(arguments[1]))}})},function(t,e,n){var i=n(29),o=n(1),r=i.get,a=i.key;i.exp({getOwnMetadata:function(t,e){return r(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(29),o=n(1),r=i.keys,a=i.key;i.exp({getOwnMetadataKeys:function(t){return r(o(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){function i(t,e,n){return!!s(t,e,n)||null!==(e=a(e))&&i(t,e,n)}var o=n(29),r=n(1),a=n(17),s=o.has,l=o.key;o.exp({hasMetadata:function(t,e){return i(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},function(t,e,n){var i=n(29),o=n(1),r=i.has,a=i.key;i.exp({hasOwnMetadata:function(t,e){return r(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(29),o=n(1),r=n(10),a=i.key,s=i.set;i.exp({metadata:function(n,i){return function(t,e){s(n,i,(void 0!==e?o:r)(t),a(e))}}})},function(t,e,n){var i=n(0),o=n(94)(),r=n(2).process,a="process"==n(20)(r);i(i.G,{asap:function(t){var e=a&&r.domain;o(e?e.bind(t):t)}})},function(t,e,n){"use strict";function o(t){return null==t?void 0:f(t)}function r(t){var e=t._c;e&&(t._c=void 0,e())}function a(t){return void 0===t._o}function s(t){a(t)||(t._o=void 0,r(t))}function i(e,t){h(e),this._c=void 0,this._o=e,e=new w(this);try{var n=t(e),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:f(n),this._c=n)}catch(t){return void e.error(t)}a(this)&&r(this)}var l=n(0),c=n(2),d=n(18),u=n(94)(),p=n(5)("observable"),f=n(10),h=n(1),m=n(40),g=n(42),v=n(11),b=n(41),y=b.RETURN,w=(i.prototype=g({},{unsubscribe:function(){s(this)}}),function(t){this._s=t}),x=(w.prototype=g({},{next:function(t){var e=this._s;if(!a(e)){var n=e._o;try{var i=o(n.next);if(i)return i.call(n,t)}catch(t){try{s(e)}finally{throw t}}}},error:function(t){var e=this._s;if(a(e))throw t;var n=e._o;e._o=void 0;try{var i=o(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{r(e)}finally{throw t}}return r(e),t},complete:function(t){var e=this._s;if(!a(e)){var n=e._o;e._o=void 0;try{var i=o(n.complete);t=i?i.call(n,t):void 0}catch(t){try{r(e)}finally{throw t}}return r(e),t}}}),function(t){m(this,x,"Observable","_f")._f=f(t)});g(x.prototype,{subscribe:function(t){return new i(t,this._f)},forEach:function(i){var o=this;return new(d.Promise||c.Promise)(function(t,e){f(i);var n=o.subscribe({next:function(t){try{return i(t)}catch(t){e(t),n.unsubscribe()}},error:e,complete:t})})}}),g(x,{from:function(t){var e,n="function"==typeof this?this:x,i=o(h(t)[p]);return i?(e=h(i.call(t))).constructor===n?e:new n(function(t){return e.subscribe(t)}):new n(function(e){var n=!1;return u(function(){if(!n){try{if(b(t,!1,function(t){if(e.next(t),n)return y})===y)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,i=new Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:x)(function(e){var n=!1;return u(function(){if(!n){for(var t=0;t<i.length;++t)if(e.next(i[t]),n)return;e.complete()}}),function(){n=!0}})}}),v(x.prototype,p,function(){return this}),l(l.G,{Observable:x}),n(39)("Observable")},function(t,e,n){function i(o){return function(t,e){var n=2<arguments.length,i=n&&a.call(arguments,2);return o(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,e)}}var o=n(2),r=n(0),n=n(62),a=[].slice,n=/MSIE .\./.test(n);r(r.G+r.B+r.F*n,{setTimeout:i(o.setTimeout),setInterval:i(o.setInterval)})},function(t,e,n){var i=n(0),n=n(93);i(i.G+i.B,{setImmediate:n.set,clearImmediate:n.clear})},function(t,e,n){for(var i=n(90),o=n(35),r=n(12),a=n(2),s=n(11),l=n(48),n=n(5),c=n("iterator"),d=n("toStringTag"),u=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=o(p),h=0;h<f.length;h++){var m,g=f[h],v=p[g],b=a[g],y=b&&b.prototype;if(y&&(y[c]||s(y,c,u),y[d]||s(y,d,g),l[g]=u,v))for(m in i)y[m]||r(y,m,i[m],!0)}},function(j,t,e){!function(t){!function(t){"use strict";var l,c,d,u,p,f,e,n,i=Object.prototype,h=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",o="object"==typeof j,m=t.regeneratorRuntime;function g(t,e,n,i){var o,r,a,s,e=e&&e.prototype instanceof b?e:b,e=Object.create(e.prototype),i=new C(i||[]);return e._invoke=(o=t,r=n,a=i,s=c,function(t,e){if(s===u)throw new Error("Generator is already running");if(s===p){if("throw"===t)throw e;return T()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var i=e.iterator[n.method];if(i===l){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=l,t(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}i=v(i,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;i=i.arg;if(!i)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f;{if(!i.done)return i;n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l)}n.delegate=null;return f}(n,a);if(n){if(n===f)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===c)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=u;n=v(o,r,a);if("normal"===n.type){if(s=a.done?p:d,n.arg!==f)return{value:n.arg,done:a.done}}else"throw"===n.type&&(s=p,a.method="throw",a.arg=n.arg)}}),e}function v(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function b(){}function y(){}function w(){}function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function _(r){function a(t,e,n,i){var o,t=v(r[t],r,e);if("throw"!==t.type)return(e=(o=t.arg).value)&&"object"==typeof e&&h.call(e,"__await")?Promise.resolve(e.__await).then(function(t){a("next",t,n,i)},function(t){a("throw",t,n,i)}):Promise.resolve(e).then(function(t){o.value=t,n(o)},i);i(t.arg)}var e;"object"==typeof t.process&&t.process.domain&&(a=t.process.domain.bind(a)),this._invoke=function(n,i){function t(){return new Promise(function(t,e){a(n,i,t,e)})}return e=e?e.then(t,t):t()}}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(h.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=l,t.done=!0,t}).next=t}return{next:T}}function T(){return{value:l,done:!0}}m?o&&(j.exports=m):((m=t.regeneratorRuntime=o?j.exports:{}).wrap=g,c="suspendedStart",d="suspendedYield",u="executing",p="completed",f={},(o={})[r]=function(){return this},e=(e=Object.getPrototypeOf)&&e(e(P([]))),e&&e!==i&&h.call(e,r)&&(o=e),n=w.prototype=b.prototype=Object.create(o),(y.prototype=n.constructor=w).constructor=y,w[s]=y.displayName="GeneratorFunction",m.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},m.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(n),t},m.awrap=function(t){return{__await:t}},x(_.prototype),_.prototype[a]=function(){return this},m.AsyncIterator=_,m.async=function(t,e,n,i){var o=new _(g(t,e,n,i));return m.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(n),n[s]="Generator",n[r]=function(){return this},n.toString=function(){return"[object Generator]"},m.keys=function(n){var t,i=[];for(t in n)i.push(t);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},m.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&h.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function t(t,e){return r.type="throw",r.arg=n,i.next=t,e&&(i.method="next",i.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],r=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=h.call(o,"catchLoc"),s=h.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&h.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var r=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,i,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(n=o.completion).type&&(i=n.arg,S(o)),i}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=l),f}})}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}.call(this,e(44))},function(t,e,n){n(344),t.exports=n(18).RegExp.escape},function(t,e,n){var i=n(0),o=n(345)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return o(t)}})},function(t,e){t.exports=function(e,n){var i=n===Object(n)?function(t){return n[t]}:n;return function(t){return String(t).replace(e,i)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(23);o(s,[{key:"getApiUrl",value:function(){return this._apiUrl}},{key:"ajax",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(t.method||"GET").toUpperCase(),n=("POST"!=e&&"PUT"!=e||(t.contentType="application/json","data"in t&&(t.data=JSON.stringify(t.data))),t.url&&!/^(http|https):/.test(t.url)&&(t.url=this.getApiUrl()+t.url),a.Bridge.getArgs());return n.url&&(t.headers=i(t.headers||{},{"X-SITE-URL":n.url,"X-SITE-EXTERNAL":n.external})),fetch(t.url,{credentials:"include",method:e,headers:i(t.headers||{},{"X-XSRF-TOKEN":l(),"X-App":a.Bridge.appName+"/"+a.Bridge.version,"content-type":"json"}),body:t.data}).then(function(t){return t.text().then(function(t){try{0==t.indexOf(")]}',\n")&&(t=t.substr(6)),t=JSON.parse(t)}catch(t){throw new Error("Incorrect server response.")}if(t&&t.error)throw i(new Error(t.response),{code:t.error});return t.response})},function(){throw new Error("The request to the server could not be completed.")})}},{key:"signin",value:function(t){return this._profile=0,this.ajax({url:this.getApiUrl()+"signin",method:"POST",data:{email:t.email,is_app:!1,password:t.password}}).then(function(t){if(t&&t["XSRF-TOKEN"])return c(t["XSRF-TOKEN"]),t;throw new Error("Incorrect server response.")})}},{key:"signinByToken",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.service,n=t.token,t=t.origin,t=void 0===t?"DEFAULT":t;return this._profile=0,this.ajax({url:this.getApiUrl()+"signin",method:"POST",data:{service:e,token:n,origin:t,is_app:!1}}).then(function(t){if(t&&t["XSRF-TOKEN"])return c(t["XSRF-TOKEN"]),t;throw new Error("Incorrect server response.")})}},{key:"signup",value:function(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).origin,e=void 0===e?"DEFAULT":e;return this.ajax({url:this.getApiUrl()+"signup",method:"POST",data:{origin:e,email:t}})}},{key:"signout",value:function(){return this._profile=0,this.ajax({url:this.getApiUrl()+"signout",method:"POST"})}},{key:"getProfile",value:function(){var n=this,i=this;return new Promise(function(e,t){i._profile?e(i._profile):n.ajax({url:n.getApiUrl()+"profile"}).then(function(t){i._profile=t,e(t)}).catch(t)})}},{key:"profile",value:function(){return this.getProfile()}},{key:"isAuthorized",value:function(){var t=this;return new Promise(function(e,n){t.getProfile().then(function(){e(!0)}).catch(function(t){if(403!==t.code)return n(t);e(!1)})})}},{key:"getAuthToken",value:function(){return this.ajax({url:this.getApiUrl()+"auth",method:"POST",data:{target:"https://mobirisesite.com"}}).then(function(t){return{access_token:t.access_token}})}},{key:"lostpassword",value:function(t){return this.ajax({url:this.getApiUrl()+"lostpassword",method:"POST",data:{email:t}})}},{key:"url",value:function(t){return this.ajax({url:this.getApiUrl()+"auth",method:"POST",data:{target:t||""}}).then(function(t){return t.authURL})}},{key:"sendMessage",value:function(t,e){return this.ajax({url:this.getApiUrl()+"users/"+t+"/messages",method:"POST",data:{text:e}})}},{key:"addons",value:function(t,e){var i=this;return new Promise(function(e,n){i.ajax({url:i.getApiUrl()+"addons?web_compatible=1",method:"GET"}).then(function(t){e(t)},function(t){n(t)})})}},{key:"post",value:function(t,e){return this.ajax({url:t,method:"POST",data:e})}},{key:"get",value:function(t){return this.ajax({url:t,method:"GET"})}},{key:"put",value:function(t,e){return this.ajax({url:t,method:"PUT",data:e})}},{key:"delete",value:function(t){return this.ajax({url:t,method:"DELETE"})}},{key:"licenses",value:function(){return this.ajax({url:this.getApiUrl()+"my/purchases?ver=2",method:"GET"})}},{key:"activate",value:function(t){return this.ajax({url:this.getApiUrl()+"activate",method:"POST",data:{coupon:t},headers:{Cookie:"token="+l()}})}}]);n=s;function s(t){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._apiUrl=t}function l(){return localStorage.getItem("XSRF-TOKEN")||""}function c(t){localStorage.setItem("XSRF-TOKEN",t)}e.default=n},,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=n(100);i(a,[{key:"_checkInit",value:function(){if(!this._app)throw new Error("The application is not initialized")}},{key:"afterInit",value:function(t){this._app?t.call(this):this._afterInitCallbacks.push(t)}},{key:"afterLoad",value:function(t){var e=this;this._loaded?t.call(this):this.afterInit(function(){return e._app.on("loaded",t.bind(e))})}},{key:"waitUntilIsLoad",value:function(){var e=this;return new Promise(function(t){return e.afterLoad(t)})}},{key:"afterCoreLoad",value:function(t){var e=this;this._coreLoaded?t.call(this):this.afterInit(function(){return e._app.on("coreLoad",t.bind(e))})}},{key:"enableSaveProject",value:function(){var t=this;this.afterCoreLoad(function(){t._app.runSaveProject=t._runSaveProject})}},{key:"disableSaveProject",value:function(){var t=this;this.afterCoreLoad(function(){t._app.runSaveProject=function(t){return t&&t(!0)}})}},{key:"showPreloader",value:function(){this._checkInit(),this._app.showPreloader()}},{key:"showError",value:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];this.afterCoreLoad(function(){var t;return(t=e._app).showError.apply(t,n)})}},{key:"loadProject",value:function(t){var e=this,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).onFinally;this._checkInit(),this._app.loadProject(t,0,{noSave:!0,onError:function(){e._app.hidePreloader(),n&&n()},onDone:function(){e._app.closeSidebar(),e._app.hidePreloader(),n&&n()}})}},{key:"showDialog",value:function(t){return this._checkInit(),this._app.showDialog(t)}},{key:"isPremiumUser",value:function(){return this._app.isPremiumUser()}},{key:"goToBuyPremium",value:function(){var t;return(t=this._app).goToBuyPremium.apply(t,arguments)}}]);n=a;function a(){var e=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._afterInitCallbacks=[],(0,r.whenDocumentLoaded)(function(){defineM(["mbrApp"],function(t){e._app=t,e._app.on("loaded",function(){return e._loaded=!0}),e._app.on("coreLoad",function(){e._coreLoaded=!0,e._runSaveProject=e._app.runSaveProject}),e._afterInitCallbacks.forEach(function(t){return t.call(e)}),e._afterInitCallbacks=[]})})}e.default=new n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(99),s=(a=a)&&a.__esModule?a:{default:a},l=n(100);function c(t){return function(){var s=t.apply(this,arguments);return new Promise(function(r,a){return function e(t,n){try{var i=s[t](n),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});r(o)}("next")})}}o(p,[{key:"isPending",value:function(){return"PENDING"===this.state}},{key:"getResult",value:(u=c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isPending())return t.abrupt("return");t.next=2;break;case 2:if("COMPLETE"===this.state)return t.abrupt("return",this.props.result);t.next=4;break;case 4:throw i(new Error(this.props.reason.message),{code:this.props.reason.code});case 5:case"end":return t.stop()}},t,this)})),function(){return u.apply(this,arguments)})},{key:"waitUntilIsComplete",value:(d=c(regeneratorRuntime.mark(function t(){var e,n,i=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).maxErrors,o=void 0===i?3:i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isPending()){t.next=2;break}return t.abrupt("return",this.getResult());case 2:e=o;case 3:return t.prev=4,t.next=7,s.default.request(this.props.url);case 7:if("PENDING"!==(n=t.sent).state)return this.props=n,t.abrupt("break",23);t.next=11;break;case 11:t.next=19;break;case 13:if(t.prev=13,t.t0=t.catch(4),"NotFound"===t.t0.code)throw t.t0;t.next=17;break;case 17:if(--e<=0)throw t.t0;t.next=19;break;case 19:return t.next=21,(0,l.sleep)((0,l.random)(1e3,4e3));case 21:t.next=3;break;case 23:return t.abrupt("return",this.getResult());case 24:case"end":return t.stop()}},t,this,[[4,13]])})),function(){return d.apply(this,arguments)})},{key:"toJSON",value:function(){return this.props}},{key:"state",get:function(){return this.props.state}}]);var d,u,a=p;function p(t){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.props=t}e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=c(n(354)),s=c(n(99)),l=n(100);function c(t){return t&&t.__esModule?t:{default:t}}function d(t){return function(){var s=t.apply(this,arguments);return new Promise(function(r,a){return function e(t,n){try{var i=s[t](n),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});r(o)}("next")})}}i(h,null,[{key:"create",value:(u=d(regeneratorRuntime.mark(function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.request("/v2/pages",{method:"POST",body:JSON.stringify(n)});case 2:return e=t.sent,t.abrupt("return",new this({status:e.status,meta:(0,l.pick)(e.meta,["id","pageTitle","systemMessage"]),urls:e.urls}));case 4:case"end":return t.stop()}},t,this)})),function(){return u.apply(this,arguments)})}]),i(h,[{key:"fetchMobiriseProject",value:function(){return s.default.request("/v2/pages/"+this.id+"/project.mobirise")}},{key:"waitUntilIsReady",value:(f=d(regeneratorRuntime.mark(function t(){var e,n,i=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).maxErrors,o=void 0===i?5:i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=o;case 1:return t.prev=2,t.next=5,s.default.request("/v2/pages/"+this.id+"/status");case 5:if("READY"===(n=t.sent).name)return this.status="READY",t.abrupt("return");t.next=9;break;case 9:if("ERROR"===n.name)throw r(new Error(n.reason),{code:"PageFillError"});t.next=11;break;case 11:t.next=19;break;case 13:if(t.prev=13,t.t0=t.catch(2),"PageFillError"===t.t0.code)throw t.t0;t.next=17;break;case 17:if(--e<=0)throw t.t0;t.next=19;break;case 19:return t.next=21,(0,l.sleep)((0,l.random)(1e3,4e3));case 21:t.next=1;break;case 23:case"end":return t.stop()}},t,this,[[2,13]])})),function(){return f.apply(this,arguments)})},{key:"publishTo",value:(p=d(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.default.request("/v2/pages/"+this.id+"/publish",{method:"POST",body:JSON.stringify({service:"mobirisesite.com",options:{siteId:e.id}})});case 2:return n=t.sent,n=n.job,t.abrupt("return",new a.default(n));case 5:case"end":return t.stop()}},t,this)})),function(t){return p.apply(this,arguments)})},{key:"toJSON",value:function(){return this.props}},{key:"id",get:function(){return this.props.meta.id}},{key:"status",get:function(){return this.props.status.name},set:function(t){return this.props.status.name=t}},{key:"urls",get:function(){return this.props.urls}}]);var u,p,f,n=h;function h(t){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.props=t}e.default=n},function(t,e,n){"use strict";var i=n(373),o=f(i),r=f(n(142)),a=f(n(99)),s=n(69);n(384),n(385),n(386);var l=f(n(387));n(388);var c=f(n(389)),d=f(n(390)),u=f(n(394)),p=f(n(395));function f(t){return t&&t.__esModule?t:{default:t}}n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(470),n(371),n(471),n(472),n(473),n(474),n(475),n(476),defineM("Bridge",function(){return o.default}),defineM("$Bridge",function(){return r.default}),(0,i.afterBridgeInit)(function(){return a.default.multipleGenerator.start()}),defineM("mbrServer",function(){return s.mbrServer}),window.noUiSlider=l.default,window.bootbox=c.default,window.JSZipUtils=u.default,window.JSZip=d.default,window.saveAs=p.default,defineM("jQuery",function(){return jQuery})},,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=f(n(353)),r=f(n(354)),s=f(n(368)),l=f(n(355)),c=f(n(369)),d=f(n(99)),u=n(23),p=n(100);function f(t){return t&&t.__esModule?t:{default:t}}function h(t){return function(){var s=t.apply(this,arguments);return new Promise(function(r,a){return function e(t,n){try{var i=s[t](n),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});r(o)}("next")})}}i(x,[{key:"restoreOrCreateSite",value:(w=h(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.storage.get("site"))return t.abrupt("return",new s.default(e));t.next=3;break;case 3:return t.next=5,s.default.create();case 5:return e=t.sent,this.storage.set("site",e.toJSON()),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)})),function(){return w.apply(this,arguments)})},{key:"restoreOrCreatePage",value:(y=h(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.storage.get("page"))return t.abrupt("return",new l.default(n));t.next=3;break;case 3:return e=e||this.storage.get("prompt"),n=this.storage.get("options")||{},t.next=7,l.default.create({prompt:e,options:n});case 7:return i=t.sent,this.storage.set("page",i.toJSON()),t.abrupt("return",i);case 10:case"end":return t.stop()}},t,this)})),function(t){return y.apply(this,arguments)})},{key:"restoreOrCreateProjectPublication",value:(b=h(regeneratorRuntime.mark(function t(e,n){var i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.storage.get("projectPublication"))return t.abrupt("return",new r.default(i));t.next=3;break;case 3:return t.next=5,e.fetchMobiriseProject();case 5:return i=t.sent,t.next=8,n.upload("project.mobirise",{content:JSON.stringify(i)});case 8:return o=new r.default({state:"COMPLETE"}),this.storage.set("projectPublication",o.toJSON()),t.abrupt("return",o);case 11:case"end":return t.stop()}},t,this)})),function(t,e){return b.apply(this,arguments)})},{key:"createPublication",value:(v=h(regeneratorRuntime.mark(function t(e,n){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.publishTo(n);case 2:return i=t.sent,this.storage.set("publication",i.toJSON()),t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return v.apply(this,arguments)})},{key:"restoreOrCreatePublication",value:(g=h(regeneratorRuntime.mark(function t(e,n){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.storage.get("publication"))return t.abrupt("return",new r.default(i));t.next=3;break;case 3:return t.abrupt("return",this.createPublication(e,n));case 4:case"end":return t.stop()}},t,this)})),function(t,e){return g.apply(this,arguments)})},{key:"start",value:(m=h(regeneratorRuntime.mark(function t(){var i,n,e,o=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isInitialized||"onClient"===r.mode){t.next=2;break}return t.abrupt("return");case 2:return n=i=void 0,e=function(){var e=h(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("onClient"===r.mode)t.next=12;else{if(n=o.storage.get("prompt"),i)return t.next=5,i.delete().catch(console.error);t.next=7}break;case 5:t.next=8;break;case 7:a.default.enableSaveProject();case 8:o.storage.clear(),window.location.replace("https://ai.mobirise.com/?prompt="+encodeURIComponent((0,p.unescapeHtml)(n))+"&error="+encodeURIComponent((0,p.unescapeHtml)(e.message))),t.next=14;break;case 12:throw d.default.loader.hide(),new Error(e);case 14:case"end":return t.stop()}},t,o)}));return function(t){return e.apply(this,arguments)}}(),c.default.start("app load","site generate"),a.default.afterLoad(function(){return c.default.end("app load")}),a.default.disableSaveProject(),t.prev=7,d.default.loader.create(),d.default.loader.show("Generating Page..."),t.next=12,this.restoreOrCreateSite();case 12:return i=t.sent,c.default.start("page create"),t.next=16,this.restoreOrCreatePage(r.clientPrompt);case 16:return n=t.sent,c.default.end("page create"),c.default.start("page fill"),d.default.loader.show(n.props.meta.systemMessage),c.default.start("empty project publish"),t.next=23,this.restoreOrCreateProjectPublication(n,i);case 23:c.default.end("empty project publish"),u.Bridge.initPath=i.projectLocation,n.waitUntilIsReady().then(h(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c.default.end("page fill"),c.default.start("page publish on mobirisesite.com"),t.next=4,o.restoreOrCreatePublication(n,i);case 4:return e=t.sent,t.prev=5,t.next=8,e.waitUntilIsComplete();case 8:t.next=19;break;case 10:if(t.prev=10,t.t0=t.catch(5),"NotFound"!==t.t0.code)throw t.t0;t.next=14;break;case 14:return t.next=16,o.createPublication(n,i);case 16:return e=t.sent,t.next=19,e.waitUntilIsComplete();case 19:return c.default.end("page publish on mobirisesite.com"),t.next=22,a.default.waitUntilIsLoad();case 22:a.default.showPreloader(),d.default.loader.hide(),o.storage.clear(),a.default.loadProject(i.projectLocation,{onFinally:function(){return a.default.enableSaveProject()}}),c.default.end("site generate");case 27:case"end":return t.stop()}},t,o,[[5,10]])}))).catch(e),t.next=34;break;case 28:return t.prev=28,t.t0=t.catch(7),t.next=32,e(t.t0);case 32:return t.next=34,(0,p.forever)();case 34:case"end":return t.stop()}},t,this,[[7,28]])})),function(){return m.apply(this,arguments)})},{key:"storage",get:function(){return d.default.storage}},{key:"isInitialized",get:function(){return this.storage.has("prompt")}}]);var m,g,v,b,y,w,n=x;function x(){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function")}e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=n(100),a=n(23);function s(t){return function(){var s=t.apply(this,arguments);return new Promise(function(r,a){return function e(t,n){try{var i=s[t](n),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});r(o)}("next")})}}i(c,null,[{key:"create",value:(l=s(regeneratorRuntime.mark(function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Bridge._REST("sites",{method:"POST",data:JSON.stringify(n)});case 2:return e=t.sent,t.abrupt("return",new this((0,r.pick)(e,["id"])));case 4:case"end":return t.stop()}},t,this)})),function(){return l.apply(this,arguments)})}]),i(c,[{key:"upload",value:function(t,e){return a.Bridge._REST("sites/"+this.id+"/files/"+t,{method:"POST",data:e.content})}},{key:"delete",value:function(){return a.Bridge._REST("sites/"+this.id,{method:"DELETE"})}},{key:"toJSON",value:function(){return this.props}},{key:"id",get:function(){return this.props.id}},{key:"projectLocation",get:function(){return a.Bridge.projectsLocation+"/"+this.id}}]);var l,n=c;function c(t){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.props=t}e.default=n},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)})(r,[{key:"start",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;this.log(l,"(start)"),this.marks[l]=Date.now()}}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}}},{key:"end",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=(Date.now()-(this.marks[l]||this.startTime))/1e3;this.log(l,"(end) time: "+c)}}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}}},{key:"log",value:function(){for(var t,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];(t=console).log.apply(t,[this.name+":"].concat(n))}}]);var o=r;function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.name=t,this.marks={},this.startTime=Date.now()}e.default=new o("mobirise ai")},function(t,O,$){"use strict";!function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var S=$(391),r=$(392),s=$(393);function n(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(t=null===t?new u(e):t).length=e,t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"!=typeof t)return i(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return a(this,t)}function i(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var o=t,r=e,a=n;if(r.byteLength,a<0||r.byteLength<a)throw new RangeError("'offset' is out of bounds");if(r.byteLength<a+(i||0))throw new RangeError("'length' is out of bounds");return r=void 0===a&&void 0===i?new Uint8Array(r):void 0===i?new Uint8Array(r,a):new Uint8Array(r,a,i),u.TYPED_ARRAY_SUPPORT?(o=r).__proto__=u.prototype:o=c(o,r),o}if("string"!=typeof e){a=t,i=e;if(u.isBuffer(i))return r=0|d(i.length),0!==(a=l(a,r)).length&&i.copy(a,0,0,r),a;if(i){if("undefined"!=typeof ArrayBuffer&&i.buffer instanceof ArrayBuffer||"length"in i)return"number"!=typeof i.length||function(t){return t!=t}(i.length)?l(a,0):c(a,i);if("Buffer"===i.type&&s(i.data))return c(a,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}o=t,i=e,t=n;if(u.isEncoding(t="string"==typeof t&&""!==t?t:"utf8"))return e=0|p(i,t),o=(i=(o=l(o,e)).write(i,t))!==e?o.slice(0,i):o;throw new TypeError('"encoding" must be a valid string encoding')}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,e){if(o(e),t=l(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e){var n=e.length<0?0:0|d(e.length);t=l(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function d(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var n=(t="string"!=typeof t?""+t:t).length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return E(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return A(t).length;default:if(i)return E(t).length;e=(""+e).toLowerCase(),i=!0}}function e(t,e,n){var i,o=!1;if((e=void 0===e||e<0?0:e)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":var r=this,a=e,s=n,l=r.length;(!s||s<0||l<s)&&(s=l);for(var c="",d=a=!a||a<0?0:a;d<s;++d)c+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(r[d]);return c;case"utf8":case"utf-8":return C(this,e,n);case"ascii":var u=this,l=e,p=n,f="";p=Math.min(u.length,p);for(var h=l;h<p;++h)f+=String.fromCharCode(127&u[h]);return f;case"latin1":case"binary":var m=this,a=e,g=n,v="";g=Math.min(m.length,g);for(var b=a;b<g;++b)v+=String.fromCharCode(m[b]);return v;case"base64":return y=this,i=n,0===(w=e)&&i===y.length?S.fromByteArray(y):S.fromByteArray(y.slice(w,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var y=e,w=n,x=this.slice(y,w),_="",k=0;k<x.length;k+=2)_+=String.fromCharCode(x[k]+256*x[k+1]);return _;default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function f(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function h(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?o?0:t.length-1:n)<0?t.length+n:n)>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,n):m(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,o){var r=1,a=t.length,s=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a/=r=2,s/=2,n/=2}function l(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}if(o)for(var c=-1,d=n;d<a;d++)if(l(t,d)===l(e,-1===c?0:d-c)){if(d-(c=-1===c?d:c)+1===s)return c*r}else-1!==c&&(d-=d-c),c=-1;else for(d=n=a<n+s?a-s:n;0<=d;d--){for(var u=!0,p=0;p<s;p++)if(l(t,d+p)!==l(e,p)){u=!1;break}if(u)return d}return-1}function g(t,e,n,i){return L(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function v(t,e,n,i){return L(function(t,e){for(var n,i,o=[],r=0;r<t.length&&!((e-=2)<0);++r)n=t.charCodeAt(r),i=n>>8,o.push(n%256),o.push(i);return o}(e,t.length-n),t,n,i)}function C(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var r,a,s,l,c=t[o],d=null,u=239<c?4:223<c?3:191<c?2:1;if(o+u<=n)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(r=t[o+1]))&&127<(l=(31&c)<<6|63&r)&&(d=l);break;case 3:r=t[o+1],a=t[o+2],128==(192&r)&&128==(192&a)&&2047<(l=(15&c)<<12|(63&r)<<6|63&a)&&(l<55296||57343<l)&&(d=l);break;case 4:r=t[o+1],a=t[o+2],s=t[o+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&r)<<12|(63&a)<<6|63&s)&&l<1114112&&(d=l)}null===d?(d=65533,u=1):65535<d&&(i.push((d-=65536)>>>10&1023|55296),d=56320|1023&d),i.push(d),o+=u}var p=i,f=p.length;if(f<=b)return String.fromCharCode.apply(String,p);for(var h="",m=0;m<f;)h+=String.fromCharCode.apply(String,p.slice(m,m+=b));return h}O.Buffer=u,O.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},O.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),O.kMaxLength=n(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return i(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0}),u.alloc=function(t,e,n){return i=null,e=e,n=n,o(t=t),!(t<=0)&&void 0!==e?"string"==typeof n?l(i,t).fill(e,n):l(i,t).fill(e):l(i,t);var i},u.allocUnsafe=function(t){return a(null,t)},u.allocUnsafeSlow=function(t){return a(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,r=Math.min(n,i);o<r;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);if(void 0===e)for(o=e=0;o<t.length;++o)e+=t[o].length;for(var n=u.allocUnsafe(e),i=0,o=0;o<t.length;++o){var r=t[o];if(!u.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(n,i),i+=r.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?C(this,0,t):e.apply(this,arguments)},u.prototype.equals=function(t){if(u.isBuffer(t))return this===t||0===u.compare(this,t);throw new TypeError("Argument must be a Buffer")},u.prototype.inspect=function(){var t="",e=O.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e)&&(t+=" ... "),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,i,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),(e=void 0===e?0:e)<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(o<=i&&n<=e)return 0;if(o<=i)return-1;if(n<=e)return 1;if(this===t)return 0;for(var r=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(r,a),l=this.slice(i,o),c=t.slice(e,n),d=0;d<s;++d)if(l[d]!==c[d]){r=l[d],a=c[d];break}return r<a?-1:a<r?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return h(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return h(this,t,e,n,!1)},u.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||o<n)&&(n=o),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var r,a,s,l=!1;;)switch(i){case"hex":var c=this,d=t,u=e,p=n,f=(u=Number(u)||0,c.length-u);if((!p||f<(p=Number(p)))&&(p=f),(f=d.length)%2!=0)throw new TypeError("Invalid hex string");f/2<p&&(p=f/2);for(var h=0;h<p;++h){var m=parseInt(d.substr(2*h,2),16);if(isNaN(m))return h;c[u+h]=m}return h;case"utf8":case"utf-8":return f=e,s=n,L(E(t,(a=this).length-f),a,f,s);case"ascii":return g(this,t,e,n);case"latin1":case"binary":return g(this,t,e,n);case"base64":return a=this,s=e,r=n,L(A(t),a,s,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,t,e,n);default:if(l)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var b=4096;function y(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function w(t,e,n,i,o,r){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<e||e<r)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function x(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-n,2);o<r;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function _(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-n,4);o<r;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function k(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,i,o){return o||k(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function T(t,e,n,i,o){return o||k(t,0,n,8),r.write(t,e,n,i,52,8),n+8}u.prototype.slice=function(t,e){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(o=this.subarray(t,e)).__proto__=u.prototype;else for(var i=e-t,o=new u(i,void 0),r=0;r<i;++r)o[r]=this[r+t];return o},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||y(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||y(t,e,this.length);for(var i=this[t+--e],o=1;0<e&&(o*=256);)i+=this[t+--e]*o;return i},u.prototype.readUInt8=function(t,e){return e||y(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||y(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||y(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||y(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||y(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||y(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||y(t,e,this.length);for(var i=e,o=1,r=this[t+--i];0<i&&(o*=256);)r+=this[t+--i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*e)),r},u.prototype.readInt8=function(t,e){return e||y(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||y(t,2,this.length);e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},u.prototype.readInt16BE=function(t,e){e||y(t,2,this.length);e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},u.prototype.readInt32LE=function(t,e){return e||y(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||y(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||y(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||y(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||y(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||y(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||w(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||w(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[e+o]=255&t;0<=--o&&(r*=256);)this[e+o]=t/r&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):_(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):_(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,i){t=+t,e|=0,i||w(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var o=0,r=1,a=0;for(this[e]=255&t;++o<n&&(r*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/r>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,i){t=+t,e|=0,i||w(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var o=n-1,r=1,a=0;for(this[e+o]=255&t;0<=--o&&(r*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/r>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&(t=t<0?255+t+1:t),e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):_(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):_(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return T(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return T(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,i){if(n=n||0,i||0===i||(i=this.length),e>=t.length&&(e=t.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var o,r=(i=t.length-e<i-n?t.length-e+n:i)-n;if(this===t&&n<e&&e<i)for(o=r-1;0<=o;--o)t[o+e]=this[o+n];else if(r<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},u.prototype.fill=function(t,e,n,i){if("string"==typeof t){var o;if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length&&(o=t.charCodeAt(0))<256&&(t=o),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(!(n<=e))if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(s=e;s<n;++s)this[s]=t;else for(var r=u.isBuffer(t)?t:E(new u(t,i).toString()),a=r.length,s=0;s<n-e;++s)this[s+e]=r[s%a];return this};var j=/[^+\/0-9A-Za-z-_]/g;function E(t,e){e=e||1/0;for(var n,i=t.length,o=null,r=[],a=0;a<i;++a){if(55295<(n=t.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(e-=3)&&r.push(239,191,189);continue}if(a+1===i){-1<(e-=3)&&r.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(e-=3)&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(e-=3)&&r.push(239,191,189);if(o=null,n<128){if(--e<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function A(t){return S.toByteArray(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(j,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function L(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}.call(this,$(44))},function(t,e,n){"use strict";var L=2147483647,O=36,$=26,o=38,r=700,i=/^xn--/,a=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=O-1,D=Math.floor,F=String.fromCharCode;function I(t){throw new RangeError(l[t])}function d(t,e){var n=t.split("@"),i="",n=(1<n.length&&(i=n[0]+"@",t=n[1]),(t=t.replace(s,".")).split("."));return i+function(t,e){for(var n=[],i=t.length;i--;)n[i]=e(t[i]);return n}(n,e).join(".")}function M(t){for(var e=[],n=0,i=t.length;n<i;){var o,r=t.charCodeAt(n++);55296<=r&&r<=56319&&n<i?56320==(64512&(o=t.charCodeAt(n++)))?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),n--):e.push(r)}return e}function B(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function N(t,e,n){var i=0;for(t=n?D(t/r):t>>1,t+=D(t/e);c*$>>1<t;i+=O)t=D(t/c);return D(i+(c+1)*t/(t+o))}function u(t){var e=[],n=t.length,i=0,o=128,r=72,a=t.lastIndexOf("-");a<0&&(a=0);for(var s=0;s<a;++s)128<=t.charCodeAt(s)&&I("not-basic"),e.push(t.charCodeAt(s));for(var l=0<a?a+1:0;l<n;){for(var c=i,d=1,u=O;;u+=O){n<=l&&I("invalid-input");var p=(p=t.charCodeAt(l++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:O,f=((O<=p||p>D((L-i)/d))&&I("overflow"),i+=p*d,u<=r?1:r+$<=u?$:u-r);if(p<f)break;p=O-f;d>D(L/p)&&I("overflow"),d*=p}var h=e.length+1,r=N(i-c,h,0==c);D(i/h)>L-o&&I("overflow"),o+=D(i/h),i%=h,e.splice(i++,0,o)}return String.fromCodePoint.apply(String,e)}function p(t){var e=[],n=(t=M(t)).length,i=128,o=0,r=72,a=!0,s=!1,l=void 0;try{for(var c,d=t[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value;u<128&&e.push(F(u))}}catch(t){s=!0,l=t}finally{try{!a&&d.return&&d.return()}finally{if(s)throw l}}var p=e.length,f=p;for(p&&e.push("-");f<n;){var h=L,m=!0,g=!1,v=void 0;try{for(var b,y=t[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var w=b.value;i<=w&&w<h&&(h=w)}}catch(t){g=!0,v=t}finally{try{!m&&y.return&&y.return()}finally{if(g)throw v}}var x=f+1,_=(h-i>D((L-o)/x)&&I("overflow"),o+=(h-i)*x,i=h,!0),g=!1,v=void 0;try{for(var k,S=t[Symbol.iterator]();!(_=(k=S.next()).done);_=!0){var C=k.value;if(C<i&&++o>L&&I("overflow"),C==i){for(var P=o,T=O;;T+=O){var j=T<=r?1:r+$<=T?$:T-r;if(P<j)break;var E=P-j,A=O-j;e.push(F(B(j+E%A,0))),P=D(E/A)}e.push(F(B(P,0))),r=N(o,x,f==p),o=0,++f}}}catch(t){g=!0,v=t}finally{try{!_&&S.return&&S.return()}finally{if(g)throw v}}++o,++i}return e.join("")}window.punycode={version:"2.1.0",ucs2:{decode:M,encode:function(t){return String.fromCodePoint.apply(String,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))}},decode:u,encode:p,toASCII:function(t){return d(t,function(t){return a.test(t)?"xn--"+p(t):t})},toUnicode:function(t){return d(t,function(t){return i.test(t)?u(t.slice(4).toLowerCase()):t})}}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.afterBridgeInit=void 0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i=r(n(374)),o=r(n(375)),c=n(69),d=n(23),u=n(376);function r(t){return t&&t.__esModule?t:{default:t}}n(377),n(378);function p(){return Promise.all(a.map(function(t){return t()}))}var f={"web/app/interface/kw.template.js":i.default,"web/app/interface/kw.txt":o.default},a=[];e.afterBridgeInit=function(t){return a.push(t)};function s(){var o="https://e.mobirise.com",r=Date.now().toString(36);function a(t){if(t&&t.startsWith(d.Bridge.projectsLocation))return{id:(t=t.substring(d.Bridge.projectsLocation.length+1).split("/")).shift(),path:t.join("/")}}var n,i,t,s={dataLocation:"@DATA@",tempLocation:"@TEMP@",publicTempLocation:"@PUBLICTEMP@",docLocation:"@DOCUMENTS@",imgLocation:"@DOCUMENTS@/images",projectsLocation:"@SITES@",openUrl:function(t){var e=a(t);e?d.Bridge.getRecentSettings(t,function(t){t=t.publicUrl.replace(/^https:/,document.location.protocol);window.open(t+e.path,"_blank")}):window.open(t,"_blank")},runFileDialog:function(t,e,n,o,r){o=o||function(){};var a=document.createElement("input"),i=(a.setAttribute("type","file"),[]);(n||"").replace(/\*\.[\w]+/g,function(t){return i.push(t.substr(1))}),i.length?a.setAttribute("accept",i.join(",")):a.removeAttribute("accept"),r&&a.setAttribute("multiple",!0),a.onchange=function(){for(var t=[],e=0;e<this.files.length;e++){var n=this.files[e],i="@LOCAL@/"+d.Bridge._selNum+++"/"+n.name;d.Bridge._selFiles[i]=n,t.push(i)}o(r?t:t[0]),a.onchange=0},a.click()},_selFiles:{},_selNum:0,_addLocal:function(t,e){t="@LOCAL@/"+d.Bridge._selNum+++"/"+t;return d.Bridge._selFiles[t]=e,t},saveLocalFile:function(t,e,n){n=n||function(){};var i=a(t);if(i&&i.id&&i.path)return 3e6<e.length?(console.error("File size limit exceeded, max=3000000, current="+e.length),void n(!1)):void this._REST("sites/"+i.id+"/files/"+i.path,{method:"POST",data:e,headers:{}}).then(function(t){return n(t&&t.success)}).catch(function(t){return n(!1)});console.warn('call saveLocalFile("'+t+'", String['+e.length+"])"),n&&n(!1)},saveLocalBase64:function(t,e,n){n=n||function(){};var i=a(t);if(i&&i.id&&i.path)return 45e5<e.length?(console.error("File size limit exceeded, max=3000000, current about "+e.length/1.5),void n(!1)):void this._REST("sites/"+i.id+"/files/"+i.path,{method:"POST",data:e,headers:{"X-Payload-Encoding":"base64"}}).then(function(t){return n(t&&t.success)}).catch(function(t){console.error(t),n(!1)});console.warn('call saveLocalBase64("'+t+'", String['+e.length+"])"),n&&n(!1)},initProject:function(n,t){var i=this;this._REST("sites",{method:"POST",data:JSON.stringify({title:t})}).then(function(t){if(!t||!t.id)throw new Error("Wrong server responce");var e=d.Bridge.projectsLocation+"/"+t.id;t.path=t.path||e,i.addRecent(t),n(0,t)}).catch(function(t){return n(t)})},getRecentsList:function(o,r){var e=this;o&&this._REST("me/sites").then(function(t){var i=(t&&t.items||[]).map(function(t){return l(t||{},{path:d.Bridge.projectsLocation+"/"+t.id,name:t.title||t.name})});e.getSettings("_recent",function(t){if(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].path==t){e=n;break}0<e&&i.unshift(i.splice(e,1)[0])}r?o(null,i):o(i)})}).catch(function(t){o(r?t:[])})},_getSiteInfo:function(n,i){i=i||function(){},this.getRecentsList(function(t){for(var e=0;e<t.length;e++)if(t[e].id==n)return i(t[e]);i()})},addRecent:function(t,e){t&&t.path?this.setSettings("_recent",t.path,e):(console.warn("addRecent data is empty"),e&&e(!1))},getRecentSettings:function(t,e){var n=this,i=a(t);if(i&&i.id){if(i.id in this._SitesSettings)return e(this._SitesSettings[i.id]);d.Bridge._REST("sites/"+i.id).then(function(t){t=l(t||{},{path:d.Bridge.projectsLocation+"/"+t.id});t.name=t.title||t.name,n._SitesSettings[i.id]=t,e(t)}).catch(function(t){return e()})}},_SitesSettings:{},path2app:function(t){var e;return!t||/^(\w*\:)?\/\//.test(t)?t:(e=a(t))&&e.id&&e.id in this._SitesSettings?this._SitesSettings[e.id].resourcesUrl+e.path:t&&t.startsWith("web/")?t.replace("web/",d.Bridge.base):d.Bridge.base+t},rmRecent:function(t,e){t=a(t);t.id?this._REST("sites/"+t.id,{method:"DELETE"}).then(function(t){return e(!0)}):e(!0)},changeRecentSettings:function(t,e,n){var i,o=this,r=(n=n||function(){},a(t));r&&r.id?(i={},e&&(e.title=e.name||e.title),"title".split(",").forEach(function(t){t in e&&(i[t]=e[t])}),d.Bridge._REST("sites/"+r.id,{method:"PUT",data:JSON.stringify(i)}).then(function(t){o._SitesSettings[r.id]&&l(o._SitesSettings[r.id],i),n(!0)}).catch(function(t){console.error(t),n(!1)})):n(!1)},saveAllRecents:function(t,e){console.error("Error to saveAllRecents"),e(!1)},loadLocalFile:function(t,n){n=n||function(){},t.endsWith("addons/list.json")?n(""):t in f?n(f[t]):this._loadFile(t).then(function(t){var e=new FileReader;e.onload=function(){n(e.result||"")},e.onerror=function(){n("")},e.readAsText(t)}).catch(function(t){n("")})},loadLocalBase64:function(t,n){n=n||function(){},this._loadFile(t).then(function(t){var e=new FileReader;e.onload=function(){n(e.result.replace(/^[^,]*,?/,""))},e.onerror=function(){n("")},e.readAsDataURL(t)}).catch(function(t){n("")})},loadLocalBlob:function(t,e){this._loadFile(t).then(e).catch(function(t){e(new Blob)})},_uploadBuildIn_init:function(t,e){t.startsWith(this.projectsLocation)?e():(console.log("Emulate Bridge.uploadBuilding()..."),console.log("Upload to url =",t),setTimeout(function(){e&&e("")},1))},_uploadBuildIn_done:function(t,e){setTimeout(function(){e&&e("")},1)},_uploadBuildIn_file:function(e,o,t,n){if(n=n||function(){},t.startsWith(this.projectsLocation)){var i,r=t+"/"+e.dest;if(1!=e.srcList.length||e.srcList[0].filter){for(var a=new Promise(function(t){return t("")}),s=0;s<e.srcList.length;s++)!function(t){var i=e.srcList[t];a=a.then(function(n){return new Promise(function(e){n=n||"",i.filter?e(n+o(i.src,i.filter)):d.Bridge.loadLocalFile(i.src,function(t){e(n+(t||""))})})})}(s);a.then(function(t){d.Bridge.saveLocalFile(r,t,function(t){n(t?"":"Error to save file "+e.dest)})}).catch(function(t){n(t&&t.message||"Publish file error "+e.dest)})}else i=e.srcList[0],d.Bridge.copyLocal(i.src,r,function(t){n(t?"":"Unable to copy file "+i.src+" to "+r)})}else console.warn("Unsupporting publish destination for "+e.dest),setTimeout(function(){n("")},100)},registerPreviewPath:function(t){return t||d.Bridge.publicTempLocation},reload:function(){console.warn("reload..."),window.onbeforeunload=null,window.location.reload()},_loadFile:function(n){var t,e;return n instanceof Blob?Promise.resolve(n):n in d.Bridge._selFiles?Promise.resolve(d.Bridge._selFiles[n]):-1<n.indexOf("component.json")?Promise.reject():(t=a(n))?(e=d.Bridge.splitPath(t.path).ext,d.Bridge.args.external||"html|xml|css|map|less|js|json|mobirise|svg|".split("|").includes(e)?this._REST("sites/"+t.id+"/files/"+t.path,{method:"GET",row:!0}):i(Date.now().toString(36))):/^@\w+@/.test(n)?(console.warn('call _loadFile("'+n+'")'),Promise.resolve(new Blob)):i(r);function i(t){var e=d.Bridge.path2app(n),t=(e.includes("?")||(e+="?ts="+t),{method:"GET",mode:"cors"});return 0===n.indexOf(o)&&(t.credentials="include"),fetch(e,t).then(function(t){return 200!=t.status?new Blob:t.blob()}).catch(function(t){return new Blob})}},removeLocal:function(e,n){n=n||function(){};var t=a(e);return t?t.path.startsWith("fonts/")?n(!0):void this._REST("sites/"+t.id+"/files/"+t.path,{method:"DELETE"}).then(function(t){t&&t.success||console.warn("Error while removeLocal",t,e),n(t&&t.success)}).catch(function(t){console.error(t,e),n(!1)}):e in d.Bridge._selFiles?(d.Bridge._selFiles[e]=0,n(!0)):(console.warn('call removeLocal("'+e+'")'),void n(!1))},copyLocal:function(t,e,n){var i=this;n=n||function(){},this.loadLocalBase64(t,function(t){i.saveLocalBase64(e,t,function(t){return n(t?e:"")})})},moveLocal:function(e,t,n){var i=this;this.copyLocal(e,t,function(t){i.removeLocal(e,n)})},dirList:function(t,e,n){console.warn("call dirList is deprecated");var i=a(t);i?this._getDirList(i.id,i.path,n||{}).then(e).catch(function(t){return e([])}):(console.warn("call AwsBridge.dirList("+t+")"),e&&e([]))},isExistsLocal:function(t,e){!t||t.endsWith("/assets/images/hashes.json")?e(!1):t in d.Bridge._selFiles?e(!0):this._loadFile(t).then(function(t){e(!!t.size)}).catch(function(t){throw t})},setSettings:function(t,e,n){(0,u.setLocalStorageData)(t,e),n&&n(!0)},getSettings:function(t,e){e&&e((0,u.getLocalStorageData)(t))},transformImage:function(e,a,n){var i,t;e?(t=i=void 0,t="string"==typeof e?(i=d.Bridge.splitPath(e).name,d.Bridge.splitPath(e).ext.toLowerCase()):(i=d.Bridge.splitPath(e.name||"image").name,d.Bridge.splitPath(e.name||"").ext.toLowerCase()||e.type.replace("image/","")),(a=l({width:-1,height:-1,shrinkLarge:!1,stretchSmall:!1,keepAspectRatio:!0,quality:100,format:/jpg|jpeg/.test(t)?"jpg":"png",fillColor:"transparent"},a||{})).width=parseInt(a.width)<0?0:parseInt(a.width),a.height=parseInt(a.height)<0?0:parseInt(a.height),/(gif|svg|ico)/i.test(a.format)?n(e):this._loadFile(e).then(function(t){var e=new FileReader;return e.readAsDataURL(t),new Promise(function(t){e.onload=function(){return t(e.result)}})}).then(function(t){var e=new Image;return e.src=t,new Promise(function(t){e.onload=function(){return t(e)}})}).then(function(t){var e=function(t){var e=t.width,n=t.height,i=document.createElement("canvas"),o=i.getContext("2d"),r=1;0<a.width||0<a.height?!a.keepAspectRatio||a.shrinkLarge?(r=Math.max(a.width/e,a.height/n),!a.stretchSmall&&a.keepAspectRatio&&(r=Math.min(r,1)),a.width=Math.min(a.width||Number.MAX_VALUE,e*r),a.height=Math.min(a.height||Number.MAX_VALUE,n*r)):(r=Math.min(a.width/e||Number.MAX_VALUE,a.height/n||Number.MAX_VALUE),a.stretchSmall||(r=Math.min(r,1)),a.width=e*r,a.height=n*r):(a.width=e,a.height=n);a.width=Math.floor(a.width),a.height=Math.floor(a.height),i.width=a.width,i.height=a.height,a.fillColor&&(o.beginPath(),o.rect(0,0,a.width,a.height),o.fillStyle=a.fillColor,o.fill());return o.drawImage(t,0<=(e-a.width/r)/2?(e-a.width/r)/2:0,0<=(n-a.height/r)/2?(n-a.height/r)/2:0,a.width/r>e?e:a.width/r,a.height/r>n?n:a.height/r,0,0,a.width,a.height),i}(t);return new Promise(function(t){e.toBlob(t,"image/"+("jpg"===a.format?"jpeg":"png"),0<a.quality?a.quality/100:1)})}).then(function(t){i=d.Bridge.splitPath(i).name+"-"+a.width+"x"+a.height+"."+a.format,n(d.Bridge._addLocal(i,t))}).catch(function(t){return n(e)})):console.error("Bridge.transformImage: invalid input file.")},getPlatform:function(){return"aws"},_getAuthToken:function(n){var i=this;return new Promise(function(e,t){!i._authToken||n?c.mbrServer.getAuthToken().then(function(t){e(i._authToken=t.access_token)}).catch(t):e(i._authToken)})},_getDirList:(n=/[-\/\\^$*+?.()|[\]{}]/g,i=function(t){return"*"==t?".*":"?"==t?".":"\\"+t},function(e,x,_){return new Promise(function(m,g){(_=_||{}).names=_.names||["*"],_.filter=_.filter||1,"recursive"in _||(_.recursive=!0),"/"!=x.substr(-1)&&(x+="/"),"/"!=x[0]&&(x="/"+x);t=_.names,Array.isArray(t)||(t=[t]);var t,v=(t=new RegExp("^("+t.map(function(t){return t.replace(n,i)}).join("|")+")$","i")).test.bind(t),b=x,y=[];function w(t){return s._REST("sites/"+e+"/files"+x+"?delimiter="+(_.recursive?"":"/")+"&continuationToken="+encodeURIComponent(t||""))}w().then(function t(e){var n=[],i=e.contents.filter(function(t){return"/"!=t.substr(-1)||(n.push(t.slice(0,-1)),!1)});if(_.recursive){if(1<_.filter)for(var o=0;o<i.length;o++){u=d=c=l=s=a=r=void 0;for(var r=n,a=b,s=b=i[o],l=0,c=0,d=s.lastIndexOf("/");l<d;l++){if(s[l]!==a[l]){for(;0<=(c=s.indexOf("/",c+1));){var u=s.substr(0,c);r.indexOf(u)<0&&r.push(u)}break}"/"===s[l]&&(c=l)}}}else n=e.commonPrefixes.map(function(t){return t.Prefix.slice(0,-1)});3==_.filter?i.push.apply(i,n):2==_.filter&&(i=n);for(var p,f="/"==x?0:x.length-1,h=0;h<i.length;h++)v(i[h].split("/").pop())&&(p=i[h].substr(f))&&y.push(p);e.isTruncated?w(e.nextContinuationToken).then(t).catch(g):m(y)}).catch(g)})}),_REST:function(o){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=this;return new Promise(function(n,i){s._getAuthToken(a).then(function(t){r.headers=r.headers||{},r.headers[d.Bridge.args.external?"X-Authorization":"Authorization"]="Bearer "+t;var e,t={method:(r.method||"GET").toUpperCase(),headers:r.headers,mode:"cors"};r.data&&(t.body=r.data),fetch((e=o,d.Bridge.args.external?d.Bridge.args.url.replace(/\?.*$/,"")+"?page=api/v1/"+e.replace("?","&"):e.includes("/v1/")||e.includes("/v2/")?e:"https://api.mobirisesite.com/v2/"+e),t).then(function(n){return 200<=n.status&&n.status<300?r.row?n.blob():n.json():n.json().then(function(t){var e=t&&t.message||"The request to the server could not be completed.";if(403==n.status){if(console.warn(e),!a)return s._REST(o,r,!0);d.Bridge.emit("auth-error",e)}return i($.extend(new Error(e),{code:n.status,type:t.type}))})}).then(n).catch(i)}).catch(function(t){console.error(t),d.Bridge.emit("auth-error",t.message),i(t)})})},_signout:function(){c.mbrServer.signout().then(function(){document.cookie="XSRF-TOKEN=; Max-Age=-99999999;",d.Bridge._authToken="",console.log("logout")}).catch(console.error)},_clean:function(){c.mbrServer.isAuthorized().then(function(){return console.log(JSON.stringify(arguments)),console.log("Bridge._REST('sites')()"),d.Bridge._REST("me/sites")}).then(function(t){console.log(JSON.stringify(arguments));for(var e=0;e<t.items.length;e++)console.log("Bridge._REST('sites/' + siteId, {method: 'DELETE'}):"+t.items[e].id),d.Bridge._REST("sites/"+t.items[e].id,{method:"DELETE"}).then(function(){console.log(JSON.stringify(arguments))})})},isDev:"https:"!==location.protocol,isValid:function(){return!1},goLogin:function(){console.log("go to login..."),setTimeout(function(t){var e=location.origin+"/login.html"+(location.search||"");d.Bridge.getArgs().external||d.Bridge.getArgs().embedded?window.top.location.href=("http:"===document.location.protocol?"http:":"https:")+"//c.ybnz.com/login.html"+(location.search||""):window.location.href=e},1e3)},getAddonsDir:function(){return o}};for(t in c.WEB_URL&&(s.base=c.WEB_URL),s.onlineUrl=c.ONLINE_URL,s)d.Bridge[t]=s[t];var e=setInterval(function(){clearInterval(e),c.mbrServer.isAuthorized().then(function(t){if(!t)throw new Error("Unauthorized!")}).then(p).then(function(){d.Bridge.isValid=function(){return!0}}).catch(function(t){console.error(t),console.warn("catch, reload..."),d.Bridge.goLogin()})})}window.TextDecoder?s(window.TextDecoder):n.e(6).then(function(t){s(n(372).TextDecoder)}.bind(null,n)).catch(n.oe),e.default=d.Bridge},function(t,e){t.exports="'use strict';\n\n!function () {\n    try {\n        document.getElementsById('top-1')[0].getElementsByTagName('a')[0].removeAttribute('rel');\n    } catch (err) {}\n    if (!document.getElementById('top-1')) {\n        var e = document.createElement(\"section\");\n        e.id = \"top-1\";\n        e.style = \"display: none\";\n        e.innerHTML = '<a href=\"$FIRST_LINK$\">$FIRST_TEXT$</a> Mobirise v$VERSION$ <a href=\"$SECOND_LINK$\">$SECOND_TEXT$</a>';\n        document.body.insertBefore(e, document.body.childNodes[0]);\n    }\n}();"},function(t,e){t.exports="website builder\r\nfree website builder\r\nbest website builder\r\nwebsite creator\r\nwebsite maker\r\nweb design software\r\nbest free website builder\r\nfree website maker\r\nfree website creator\r\nwebsite design software\r\nwebsite builder free\r\nwebsite builder software\r\neasy website builder\r\nbest web design software\r\nwebsite building software\r\nmobile website builder\r\nfree web design software\r\nfree website builder software\r\ndrag and drop website builder\r\nwebsite creator free\r\nweb page design software\r\neasiest website builder\r\nwebsite generator\r\nbest website builder software\r\nwebsite maker free\r\nweb development software\r\nweb page creator\r\nfree website design software\r\nhtml website builder\r\nwebsite creation software\r\nbest website design software\r\nbest website creator\r\nopen source website builder\r\nfree web page builder\r\nsimple website builder\r\nweb building software\r\nresponsive website builder\r\nmac website builder\r\nweb design software mac\r\nweb page software\r\nwhat is the best website builder\r\nwebsite creator software\r\nmac web design software\r\nbest website maker\r\nfree mobile website builder\r\nweb builder software\r\nhtml5 website builder\r\nbest website builder for mac\r\nwebsite maker for free\r\nbootstrap layout builder\r\nfree easy website builder\r\nbest web development software\r\nmobile site builder\r\nbest free web design software\r\neasy free website builder\r\nbest site builder\r\nweb site maker\r\nweb design software free\r\nbest free website creator\r\nwebsite builder for mac\r\nsite creator\r\nbest free website maker\r\nresponsive web design software\r\nwebsite builder software free\r\none page website builder\r\nmobile website creator\r\nbest web design software for mac\r\ndrag and drop website builder software\r\neasy website creator\r\nweb site creator\r\nmobile friendly website template\r\nwebsite builder mac\r\nwebsite layout maker\r\nfree website creator software\r\nbest drag and drop website builder\r\nbest mobile website builder\r\nweb page builder software\r\nwebsite software for mac\r\nhtml page builder\r\nbest website builder free\r\nweb creation software\r\nthe best free website builder\r\nweb page development software\r\nwebsite design software mac\r\noffline website builder\r\neasy web design software\r\nresponsive layout maker\r\nmac website software\r\nfree website generator\r\nresponsive website builder software\r\nsite builder software\r\nwebsite making software\r\nmobile website builder software\r\nhtml page creator\r\nbest free website builder software\r\neasy website maker\r\nwebsite maker software\r\nfree web page creator\r\nweb page creator software\r\nmobile website maker\r\nmobile website software\r\nmac website creator\r\nhtml website creator\r\nhtml site builder\r\nfree web site maker\r\nsoftware to create website\r\neasy website builder software\r\ndrag and drop web design\r\nfree html website builder\r\ntop free website builder\r\nhtml website maker\r\nhtml5 site builder\r\nmobile site creator\r\nresponsive website software\r\nwindows website builder\r\nfree site maker\r\nfree mobile site builder\r\ndrag and drop site builder\r\nhtml5 website builder software\r\nmobile website generator\r\nmobile website builder free\r\nbest responsive website builder\r\nfree website maker software\r\noffline website builder software\r\nfree site creator"},function(t,e,n){"use strict";function i(){return void 0!==window.localStorage||void console.warn("LocalStorage is not available in this browser!")}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorageData=function(t){if(i())return localStorage.getItem(t)},e.setLocalStorageData=function(t,e){i()&&localStorage.setItem(t,e)}},function(t,e){
/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */
!function(t){"use strict";var d,u=t.Uint8Array,t=t.HTMLCanvasElement,e=t&&t.prototype,a=/\s*;\s*base64\s*(?:;|$)/i,s="toDataURL";u&&(d=new u([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!t||e.toBlob&&e.toBlobHD||(e.toBlob||(e.toBlob=function(t,e){var n,i,o,r;e=e||"image/png",this.mozGetAsFile?t(this.mozGetAsFile("canvas",e)):this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(e)?t(this.msToBlob()):(o=Array.prototype.slice.call(arguments,1),n=(o=this[s].apply(this,o)).indexOf(","),i=o.substring(n+1),o=a.test(o.substring(0,n)),Blob.fake?((r=new Blob).encoding=o?"base64":"URI",r.data=i,r.size=i.length):u&&(r=o?new Blob([function(t){for(var e,n,i=t.length,o=new u(i/4*3|0),r=0,a=0,s=[0,0],l=0,c=0;i--;)n=t.charCodeAt(r++),255!==(e=d[n-43])&&void 0!==e&&(s[1]=s[0],s[0]=n,c=c<<6|e,4===++l)&&(o[a++]=c>>>16,61!==s[1]&&(o[a++]=c>>>8),61!==s[0]&&(o[a++]=c),l=0);return o}(i)],{type:e}):new Blob([decodeURIComponent(i)],{type:e})),t(r))}),!e.toBlobHD&&e.toDataURLHD?e.toBlobHD=function(){s="toDataURLHD";var t=this.toBlob();return s="toDataURL",t}:e.toBlobHD=e.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(t,e){"createImageBitmap"in window||(window.createImageBitmap=async function(r){return new Promise((t,e)=>{let n;if(r instanceof Blob)n=URL.createObjectURL(r);else{if(!(r instanceof ImageData))throw new Error("createImageBitmap does not handle the provided image source type");var i=document.createElement("canvas"),o=i.getContext("2d");i.width=r.width,i.height=r.height,o.putImageData(r,0,0),n=i.toDataURL()}o=document.createElement("img");o.addEventListener("load",function(){t(this)}),o.src=n})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=n(100);function a(t){t=t.node;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.$node=t,this.$status=t&&t.querySelector(".ai-preloader-status")}i(a,[{key:"show",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";this.$node&&(this.$node.style.display="block",t)&&this.status(t)}},{key:"hide",value:function(){this.$node&&(this.$node.style.display="none")}},{key:"status",value:function(t){this.$status&&(this.$status.innerText=(0,r.unescapeHtml)(t))}},{key:"create",value:function(){document.body.querySelector(".ai-preloader")||(document.body.insertAdjacentHTML("beforeend",'\n            \x3c!-- Mobirise AI preloader --\x3e\n                <div class="ai-preloader no-select">\n                    <div class="ai-preloader-wrapper" style="display: flex;justify-content: center;align-items: center;width:100%;height:100%;">\n                        <iframe src="assets/mobirise-ai/FakeRender.html" style="width:100%;height:100%;position:fixed;"></iframe>\n                        <div class="modal-backdrop" style="position:fixed; bottom:0; opacity:0.3;"></div>\n                        <div class="ai-spinner preloader-spinner" style="background: none;margin-top:5rem;opacity: 0.8; transition: all 0.2s ease 0s;"><div class="mobirise-spinner"><i></i><i></i><i></i><i></i><i></i></div></div>\n                        <h5 class="control-label ai-preloader-status" style="color:#ffffff;font-size:4rem;margin:0;transform: translateZ(10px);"></h5>\n                    </div>\n                </div>\n            '),this.$node=document.querySelector(".ai-preloader"),this.$status=document.querySelector(".ai-preloader")&&document.querySelector(".ai-preloader-status"))}}]),e.default=a},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)})(r,[{key:"_get",value:function(){return JSON.parse(this.nativeStorage.getItem(this.key))}},{key:"get",value:function(t){try{return this._get()[t]}catch(t){}}},{key:"has",value:function(t){return null!=this.get(t)}},{key:"set",value:function(t,e){var n=void 0;try{n=this._get()}catch(t){}(n=n instanceof Object?n:{})[t]=e,this.nativeStorage.setItem(this.key,JSON.stringify(n))}},{key:"clear",value:function(){this.nativeStorage.removeItem(this.key)}}]);var o=r;function r(t){var e=t.key,t=t.nativeStorage,t=void 0===t?window.sessionStorage:t;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.key=e,this.nativeStorage=t}e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=l(n(367)),a=l(n(382)),u=l(n(353)),s=(l(n(354)),l(n(368)),l(n(355))),p=l(n(369)),f=l(n(99)),h=n(23),m=n(100),g=l(n(383));function l(t){return t&&t.__esModule?t:{default:t}}function v(t){return Array.isArray(t)?t:Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function b(t){return function(){var s=t.apply(this,arguments);return new Promise(function(r,a){return function e(t,n){try{var i=s[t](n),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});r(o)}("next")})}}function y(){u.default.goToBuyPremium({alert:!1,delay:!1})}n=function(t){var e,n,i=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function o(){var t=this,e=o;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");t=this,e=(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments);if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t),r(o,[{key:"restoreOrCreateMultiplePages",value:(n=b(regeneratorRuntime.mark(function t(e){var n,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.storage.get("page"),i=this.storage.get("alternativePages")||[],n)return t.abrupt("return",[new s.default(n)].concat(c(i.map(function(t){return new s.default(t)}))));t.next=4;break;case 4:return e=e||this.storage.get("prompt"),t.next=8,a.default.create({prompt:e});case 8:return o=t.sent,o=v(o),n=o[0],i=o.slice(1),this.storage.set("page",n.toJSON()),i.length&&this.storage.set("alternativePages",i),t.abrupt("return",[n].concat(c(i)));case 15:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"start",value:(e=b(regeneratorRuntime.mark(function t(){var i,o,r,a,e,s,l,c=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isInitialized||"onClient"===d.mode){t.next=2;break}return t.abrupt("return");case 2:return i=void 0,t.next=5,u.default.isPremiumUser();case 5:return t.sent,o=function(){var e=b(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("onClient"===d.mode)t.next=12;else{if(n=c.storage.get("prompt"),i)return t.next=5,i.delete().catch(console.error);t.next=7}break;case 5:t.next=8;break;case 7:u.default.enableSaveProject();case 8:c.storage.clear(),window.location.replace("https://ai.mobirise.com/?prompt="+encodeURIComponent((0,m.unescapeHtml)(n))+"&error="+encodeURIComponent((0,m.unescapeHtml)(e.message))),t.next=15;break;case 12:throw console.log("throw new Error(err)"),f.default.loader.hide(),new Error(e);case 15:case"end":return t.stop()}},t,c)}));return function(t){return e.apply(this,arguments)}}(),p.default.start("app load","site generate"),u.default.afterLoad(function(){return p.default.end("app load")}),u.default.disableSaveProject(),t.prev=10,f.default.loader.create(),f.default.loader.show("Generating Page..."),t.next=15,this.restoreOrCreateSite();case 15:return i=t.sent,p.default.start("pages create"),t.next=19,this.restoreOrCreateMultiplePages(d.clientPrompt);case 19:return r=t.sent,e=v(r),a=e[0],e=e.slice(1),s=Boolean(e.length),p.default.end("pages create"),p.default.start("page fill"),f.default.loader.show(a.props.meta.systemMessage),p.default.start("empty project publish"),t.next=28,this.restoreOrCreateProjectPublication(a,i);case 28:p.default.end("empty project publish"),h.Bridge.initPath=i.projectLocation,l=s&&Promise.allSettled(e.map(function(e){return e.waitUntilIsReady().then(function(t){return e})})).then(function(t){return t.filter(function(t){return"fulfilled"===t.status}).map(function(t){return t.value})}),a.waitUntilIsReady().then(b(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s)return t.next=3,l;t.next=11;break;case 3:return t.next=5,(0,g.default)({data:{pages:r.filter(function(t){return"READY"===t.status})},callback:b(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return p.default.end("page fill"),p.default.start("page publish on mobirisesite.com"),e=$(".ai-choosing-theme-modal").find('input[type="radio"][name="ai-theme"]:checked').val(),a=r.find(function(t){return t.id===e}),t.prev=4,t.next=7,c.restoreOrCreatePublication(a,i);case 7:return n=t.sent,t.next=10,n.waitUntilIsComplete();case 10:t.next=23;break;case 12:if(t.prev=12,t.t0=t.catch(4),"NotFound"!==t.t0.code)return"ThemeNotAvailable"===t.t0.code&&y(),t.abrupt("return",o(t.t0));t.next=18;break;case 18:return t.next=20,c.createPublication(a,i);case 20:return pub=t.sent,t.next=23,pub.waitUntilIsComplete();case 23:return p.default.end("page publish on mobirisesite.com"),t.next=26,u.default.waitUntilIsLoad();case 26:u.default.showPreloader(),f.default.loader.hide(),c.storage.clear(),u.default.loadProject(i.projectLocation,{onFinally:function(){return u.default.enableSaveProject()}}),p.default.end("site generate");case 31:case"end":return t.stop()}},t,c,[[4,12]])})).bind(c)});case 5:(e=t.sent).find(".bootbox-close-button")[0].addEventListener("click",b(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(new Error("Canceled"));case 2:case"end":return t.stop()}},t,this)}))),e.find("span.premium").each(function(t,e){$(e).on("click",function(){y()})}),window.addEventListener("message",function(t){"pageId"==t.data.type&&((t=$(".ai-choosing-theme-modal").find('input[type="radio"][name="ai-theme"][id="'+t.data.value+'"]')).prop("checked",!0),t=t.siblings("label").hasClass("unavailable")?"Upgrade":"Continue",e.find('button[name="success"]').text(t))}),t.next=38;break;case 11:return p.default.end("page fill"),p.default.start("page publish on mobirisesite.com"),t.prev=13,t.next=16,c.restoreOrCreatePublication(a,i);case 16:return n=t.sent,t.next=19,n.waitUntilIsComplete();case 19:t.next=30;break;case 21:if(t.prev=21,t.t0=t.catch(13),"NotFound"!==t.t0.code)return t.abrupt("return",o(t.t0));t.next=25;break;case 25:return t.next=27,c.createPublication(a,i);case 27:return pub=t.sent,t.next=30,pub.waitUntilIsComplete();case 30:return p.default.end("page publish on mobirisesite.com"),t.next=33,u.default.waitUntilIsLoad();case 33:u.default.showPreloader(),f.default.loader.hide(),c.storage.clear(),u.default.loadProject(i.projectLocation,{onFinally:function(){return u.default.enableSaveProject()}}),p.default.end("site generate");case 38:case"end":return t.stop()}},t,c,[[13,21]])}))).catch(o),t.next=40;break;case 34:return t.prev=34,t.t0=t.catch(10),t.next=38,o(t.t0);case 38:return t.next=40,(0,m.forever)();case 40:case"end":return t.stop()}},t,this,[[10,34]])})),function(){return e.apply(this,arguments)})}]),o}(o.default);e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=c(n(99)),s=c(n(355)),l=n(100);function c(t){return t&&t.__esModule?t:{default:t}}function d(t){return function(){var s=t.apply(this,arguments);return new Promise(function(r,a){return function e(t,n){try{var i=s[t](n),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});r(o)}("next")})}}i(p,null,[{key:"create",value:(u=d(regeneratorRuntime.mark(function t(){var e,n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=o({},i,{options:{multipleGeneration:!0}}),t.next=3,a.default.request("/v2/pages",{method:"POST",body:JSON.stringify(e)});case 3:if(n=t.sent,(0,l.isPlainObject)(n))return t.abrupt("return",[new s.default({status:n.status,meta:(0,l.pick)(n.meta,["id","pageTitle","systemMessage"]),urls:n.urls})]);t.next=6;break;case 6:return t.abrupt("return",n.map(function(t){return new s.default({status:t.status,meta:(0,l.pick)(t.meta,["id","pageTitle","systemMessage"]),urls:t.urls})}));case 7:case"end":return t.stop()}},t,this)})),function(){return u.apply(this,arguments)})}]);var u,n=p;function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function")}e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=n(353),o=(n=n)&&n.__esModule?n:{default:n};function i(t){return function(){var s=t.apply(this,arguments);return new Promise(function(r,a){return function e(t,n){try{var i=s[t](n),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});r(o)}("next")})}}function r(){return s.apply(this,arguments)}a=i(regeneratorRuntime.mark(function t(e){var i,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.default.isPremiumUser();case 2:return i=t.sent,n=e.reduce(function(t,e,n){return t+('<div class="ai-themes-preview">\n            <input type="radio" id="'+e.id+'" value="'+e.id+'" name="ai-theme" '+(0===n?"checked":"")+'>\n            <label for="'+e.id+'" '+(i||0===n?"":'class="unavailable"')+'>\n                <iframe src="'+e.urls.public)+'" frameborder="0"></iframe>\n                <span class="premium">premium</span>\n            </label>\n         </div>'},""),t.abrupt("return",'<fieldset>\n                <div class="ai-themes-wrapper">\n                    '+n+"\n                </div>\n            </fieldset>");case 5:case"end":return t.stop()}},t,void 0)}));var a,s,l=function(t){return a.apply(this,arguments)};s=i(regeneratorRuntime.mark(function t(){var e,n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.data,n=i.callback,t.t0=o.default,t.next=4,l(e.pages);case 4:return t.t1=t.sent,t.t2={success:{label:"Continue",className:"btn-primary",callback:n}},t.t3={title:"Select one to generate!",size:"large",className:"ai-choosing-theme-modal",body:t.t1,buttons:t.t2},t.abrupt("return",t.t0.showDialog.call(t.t0,t.t3));case 8:case"end":return t.stop()}},t,void 0)}));e.default=r},function(I,M,B){"use strict";var a,t,o,e,l,n,r,i,s,c,d,u,N,p,R,f,h,U,m,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
 * Bootstrap v3.3.2 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");var v=jQuery.fn.jquery.split(" ")[0].split(".");if(v[0]<2&&v[1]<9||1==v[0]&&9==v[1]&&v[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");(m=jQuery).fn.emulateTransitionEnd=function(t){var e=!1,n=this;m(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||m(n).trigger(m.support.transition.end)},t),this},m(function(){m.support.transition=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return{end:n[t]};return!1}(),m.support.transition&&(m.event.special.bsTransitionEnd={bindType:m.support.transition.end,delegateType:m.support.transition.end,handle:function(t){return m(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})}),f=jQuery,h='[data-dismiss="alert"]',F.VERSION="3.3.2",F.TRANSITION_DURATION=150,F.prototype.close=function(t){function e(){o.detach().trigger("closed.bs.alert").remove()}var n=f(this),i=n.attr("data-target"),o=(i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),f(i));t&&t.preventDefault(),(o=o.length?o:n.closest(".alert")).trigger(t=f.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),f.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(F.TRANSITION_DURATION):e())},U=f.fn.alert,f.fn.alert=function(n){return this.each(function(){var t=f(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new F(this)),"string"==typeof n&&e[n].call(t)})},f.fn.alert.Constructor=F,f.fn.alert.noConflict=function(){return f.fn.alert=U,this},f(document).on("click.bs.alert.data-api",h,F.prototype.close),p=jQuery,D.VERSION="3.3.2",D.DEFAULTS={loadingText:"loading..."},D.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(p.proxy(function(){n[i]((null==o[t]?this.options:o)[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e))},this),0)},D.prototype.toggle=function(){var t,e=!0,n=this.$element.closest('[data-toggle="buttons"]');n.length?("radio"==(t=this.$element.find("input")).prop("type")&&(t.prop("checked")&&this.$element.hasClass("active")?e=!1:n.find(".active").removeClass("active")),e&&t.prop("checked",!this.$element.hasClass("active")).trigger("change")):this.$element.attr("aria-pressed",!this.$element.hasClass("active")),e&&this.$element.toggleClass("active")},R=p.fn.button,p.fn.button=Q,p.fn.button.Constructor=D,p.fn.button.noConflict=function(){return p.fn.button=R,this},p(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=p(t.target);e.hasClass("btn")||(e=e.closest(".btn")),Q.call(e,"toggle"),t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){p(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))});var b=jQuery;function y(o){return this.each(function(){var t=b(this),e=t.data("bs.carousel"),n=b.extend({},w.DEFAULTS,t.data(),"object"==(void 0===o?"undefined":g(o))&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new w(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}function w(t,e){this.$element=b(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",b.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",b.proxy(this.pause,this)).on("mouseleave.bs.carousel",b.proxy(this.cycle,this))}function H(t){var e,n=b(this),i=b(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));i.hasClass("carousel")&&(e=b.extend({},i.data(),n.data()),(n=n.attr("data-slide-to"))&&(e.interval=!1),y.call(i,e),n&&i.data("bs.carousel").to(n),t.preventDefault())}w.VERSION="3.3.2",w.TRANSITION_DURATION=600,w.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},w.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},w.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval)),this},w.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},w.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);return("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap?e:(e=(n+("prev"==t?-1:1))%this.$items.length,this.$items.eq(e))},w.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||t<0?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},w.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&b.support.transition&&(this.$element.trigger(b.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},w.prototype.next=function(){return this.sliding?void 0:this.slide("next")},w.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},w.prototype.slide=function(t,e){var n,i,o,r=this.$element.find(".item.active"),a=e||this.getItemForDirection(t,r),e=this.interval,s="next"==t?"left":"right",l=this;return a.hasClass("active")?this.sliding=!1:(n=a[0],i=b.Event("slide.bs.carousel",{relatedTarget:n,direction:s}),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(this.sliding=!0,e&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),i=b(this.$indicators.children()[this.getItemIndex(a)]))&&i.addClass("active"),o=b.Event("slid.bs.carousel",{relatedTarget:n,direction:s}),b.support.transition&&this.$element.hasClass("slide")?(a.addClass(t),a[0].offsetWidth,r.addClass(s),a.addClass(s),r.one("bsTransitionEnd",function(){a.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(o)},0)}).emulateTransitionEnd(w.TRANSITION_DURATION)):(r.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(o)),e&&this.cycle(),this))};var z=b.fn.carousel,x=(b.fn.carousel=y,b.fn.carousel.Constructor=w,b.fn.carousel.noConflict=function(){return b.fn.carousel=z,this},b(document).on("click.bs.carousel.data-api","[data-slide]",H).on("click.bs.carousel.data-api","[data-slide-to]",H),b(window).on("load",function(){b('[data-ride="carousel"]').each(function(){var t=b(this);y.call(t,t.data())})}),u=jQuery,$.VERSION="3.3.2",$.TRANSITION_DURATION=350,$.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},$.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},$.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(t&&t.length&&(i=t.data("bs.collapse"))&&i.transitioning)){var e=u.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){t&&t.length&&(O.call(t,"hide"),i||t.data("bs.collapse",null));var n=this.dimension(),e=(this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")});if(!u.support.transition)return e.call(this);var i=u.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",u.proxy(e,this)).emulateTransitionEnd($.TRANSITION_DURATION)[n](this.$element[0][i])}}}},$.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t,e=u.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented())return e=this.dimension(),this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,t=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},u.support.transition?void this.$element[e](0).one("bsTransitionEnd",u.proxy(t,this)).emulateTransitionEnd($.TRANSITION_DURATION):t.call(this)}},$.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},$.prototype.getParent=function(){return u(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(u.proxy(function(t,e){e=u(e);this.addAriaAndCollapsedClass(X(e),e)},this)).end()},$.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)},N=u.fn.collapse,u.fn.collapse=O,u.fn.collapse.Constructor=$,u.fn.collapse.noConflict=function(){return u.fn.collapse=N,this},u(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=u(this),t=(e.attr("data-target")||t.preventDefault(),X(e)),e=t.data("bs.collapse")?"toggle":u.extend({},e.data(),{trigger:this});O.call(t,e)}),s=jQuery,c='[data-toggle="dropdown"]',L.VERSION="3.3.2",L.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=A(e),i=n.hasClass("open");if(E(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s('<div class="dropdown-backdrop"/>').insertAfter(s(this)).on("click",E);i={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",i)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",i)}return!1}},L.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=A(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(c).trigger("focus"),e.trigger("click");i=" li:not(.divider):visible a",e=n.find('[role="menu"]'+i+', [role="listbox"]'+i);e.length&&(n=e.index(t.target),38==t.which&&0<n&&n--,40==t.which&&n<e.length-1&&n++,e.eq(n=~n?n:0).trigger("focus"))}}},d=s.fn.dropdown,s.fn.dropdown=function(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new L(this)),"string"==typeof n&&e[n].call(t)})},s.fn.dropdown.Constructor=L,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=d,this},s(document).on("click.bs.dropdown.data-api",E).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",c,L.prototype.toggle).on("keydown.bs.dropdown.data-api",c,L.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',L.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',L.prototype.keydown),r=jQuery,j.VERSION="3.3.2",j.TRANSITION_DURATION=300,j.BACKDROP_TRANSITION_DURATION=150,j.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},j.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},j.prototype.show=function(n){var i=this,t=r.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',r.proxy(this.hide,this)),this.backdrop(function(){var t=r.support.transition&&i.$element.hasClass("fade"),e=(i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus(),r.Event("shown.bs.modal",{relatedTarget:n}));t?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(j.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},j.prototype.hide=function(t){t&&t.preventDefault(),t=r.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),r(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),r.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",r.proxy(this.hideModal,this)).emulateTransitionEnd(j.TRANSITION_DURATION):this.hideModal())},j.prototype.enforceFocus=function(){r(document).off("focusin.bs.modal").on("focusin.bs.modal",r.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},j.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",r.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},j.prototype.resize=function(){this.isShown?r(window).on("resize.bs.modal",r.proxy(this.handleUpdate,this)):r(window).off("resize.bs.modal")},j.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},j.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},j.prototype.backdrop=function(t){var e,n=this,i=this.$element.hasClass("fade")?"fade":"";this.isShown&&this.options.backdrop?(e=r.support.transition&&i,this.$backdrop=r('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",r.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),t&&(e?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(j.BACKDROP_TRANSITION_DURATION):t())):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),i=function(){n.removeBackdrop(),t&&t()},r.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(j.BACKDROP_TRANSITION_DURATION):i()):t&&t()},j.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},j.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},j.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},j.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},j.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},j.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},j.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},j.prototype.measureScrollbar=function(){var t=document.createElement("div"),e=(t.className="modal-scrollbar-measure",this.$body.append(t),t.offsetWidth-t.clientWidth);return this.$body[0].removeChild(t),e},i=r.fn.modal,r.fn.modal=K,r.fn.modal.Constructor=j,r.fn.modal.noConflict=function(){return r.fn.modal=i,this},r(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=r(this),n=e.attr("href"),i=r(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),n=i.data("bs.modal")?"toggle":r.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),K.call(i,n,this)}),l=jQuery,T.VERSION="3.3.2",T.TRANSITION_DURATION=150,T.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},T.prototype.init=function(t,e,n){this.enabled=!0,this.type=t,this.$element=l(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&l(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r,a=i[o];"click"==a?this.$element.on("click."+this.type,this.options.selector,l.proxy(this.toggle,this)):"manual"!=a&&(r="hover"==a?"mouseleave":"focusout",this.$element.on(("hover"==a?"mouseenter":"focusin")+"."+this.type,this.options.selector,l.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,l.proxy(this.leave,this)))}this.options.selector?this._options=l.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},T.prototype.getDefaults=function(){return T.DEFAULTS},T.prototype.getOptions=function(t){return(t=l.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},T.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&l.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},T.prototype.enter=function(t){var e=t instanceof this.constructor?t:l(t.currentTarget).data("bs."+this.type);return e&&e.$tip&&e.$tip.is(":visible")?void(e.hoverState="in"):(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),l(t.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},T.prototype.leave=function(t){var e=t instanceof this.constructor?t:l(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),l(t.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()},T.prototype.show=function(){var e,t,n,i,o,r,a,s=l.Event("show.bs."+this.type);this.hasContent()&&this.enabled&&(this.$element.trigger(s),o=l.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),!s.isDefaultPrevented())&&o&&(s=(e=this).tip(),o=this.getUID(this.type),this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,(a=(t=/\s?auto?\s?/i).test(o))&&(o=o.replace(t,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),t=this.getPosition(),n=s[0].offsetWidth,i=s[0].offsetHeight,a&&(a=o,r=this.options.container?l(this.options.container):this.$element.parent(),r=this.getPosition(r),o="bottom"==o&&t.bottom+i>r.bottom?"top":"top"==o&&t.top-i<r.top?"bottom":"right"==o&&t.right+n>r.width?"left":"left"==o&&t.left-n<r.left?"right":o,s.removeClass(a).addClass(o)),r=this.getCalculatedOffset(o,t,n,i),this.applyPlacement(r,o),a=function(){var t=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==t&&e.leave(e)},l.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",a).emulateTransitionEnd(T.TRANSITION_DURATION):a())},T.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10),r=(isNaN(r)&&(r=0),isNaN(a)&&(a=0),t.top=t.top+r,t.left=t.left+a,l.offset.setOffset(n[0],l.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in"),n[0].offsetWidth),a=n[0].offsetHeight,s=("top"==e&&a!=o&&(t.top=t.top+o-a),this.getViewportAdjustedDelta(e,t,r,a)),e=(s.left?t.left+=s.left:t.top+=s.top,/top|bottom/.test(e)),i=e?2*s.left-i+r:2*s.top-o+a,r=e?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(i,n[0][r],e)},T.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},T.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},T.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=this.tip(),o=l.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),l.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(T.TRANSITION_DURATION):e(),this.hoverState=null,this)},T.prototype.fixTitle=function(){var t=this.$element;!t.attr("title")&&"string"==typeof t.attr("data-original-title")||t.attr("data-original-title",t.attr("title")||"").attr("title","")},T.prototype.hasContent=function(){return this.getTitle()},T.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,e=e.getBoundingClientRect(),i=(null==e.width&&(e=l.extend({},e,{width:e.right-e.left,height:e.bottom-e.top})),n?{top:0,left:0}:t.offset()),t={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},n=n?{width:l(window).width(),height:l(window).height()}:null;return l.extend({},e,t,n,i)},T.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},T.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o,r,a={top:0,left:0};return this.$viewport&&(o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport),/right|left/.test(t)?(t=e.top-o-r.scroll,i=e.top+o-r.scroll+i,t<r.top?a.top=r.top-t:i>r.top+r.height&&(a.top=r.top+r.height-i)):(t=e.left-o,i=e.left+o+n,t<r.left?a.left=r.left-t:i>r.width&&(a.left=r.left+r.width-i))),a},T.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},T.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},T.prototype.tip=function(){return this.$tip=this.$tip||l(this.options.template)},T.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},T.prototype.enable=function(){this.enabled=!0},T.prototype.disable=function(){this.enabled=!1},T.prototype.toggleEnabled=function(){this.enabled=!this.enabled},T.prototype.toggle=function(t){var e=this;t&&!(e=l(t.currentTarget).data("bs."+this.type))&&(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),l(t.currentTarget).data("bs."+this.type,e)),e.tip().hasClass("in")?e.leave(e):e.enter(e)},T.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})},n=l.fn.tooltip,l.fn.tooltip=function(i){return this.each(function(){var t=l(this),e=t.data("bs.tooltip"),n="object"==(void 0===i?"undefined":g(i))&&i;!e&&"destroy"==i||(e||t.data("bs.tooltip",e=new T(this,n)),"string"!=typeof i)||e[i]()})},l.fn.tooltip.Constructor=T,l.fn.tooltip.noConflict=function(){return l.fn.tooltip=n,this},jQuery);function _(t,e){this.init("popover",t,e)}if(!x.fn.tooltip)throw new Error("Popover requires tooltip.js");_.VERSION="3.3.2",_.DEFAULTS=x.extend({},x.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((_.prototype=x.extend({},x.fn.tooltip.Constructor.prototype)).constructor=_).prototype.getDefaults=function(){return _.DEFAULTS},_.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},_.prototype.hasContent=function(){return this.getTitle()||this.getContent()},_.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},_.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},_.prototype.tip=function(){return this.$tip||(this.$tip=x(this.options.template)),this.$tip};var W=x.fn.popover,k=(x.fn.popover=function(i){return this.each(function(){var t=x(this),e=t.data("bs.popover"),n="object"==(void 0===i?"undefined":g(i))&&i;!e&&"destroy"==i||(e||t.data("bs.popover",e=new _(this,n)),"string"!=typeof i)||e[i]()})},x.fn.popover.Constructor=_,x.fn.popover.noConflict=function(){return x.fn.popover=W,this},o=jQuery,P.VERSION="3.3.2",P.DEFAULTS={offset:10},P.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},P.prototype.refresh=function(){var n="offset",i=0,t=(o.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),this);this.$body.find(this.selector).map(function(){var t=o(this),t=t.data("target")||t.attr("href"),e=/^#./.test(t)&&o(t);return e&&e.length&&e.is(":visible")?[[e[n]().top+i,t]]:null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},P.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(r[t])},P.prototype.activate=function(t){this.activeTarget=t,this.clear();t=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',t=o(t).parents("li").addClass("active");(t=t.parent(".dropdown-menu").length?t.closest("li.dropdown").addClass("active"):t).trigger("activate.bs.scrollspy")},P.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")},e=o.fn.scrollspy,o.fn.scrollspy=Y,o.fn.scrollspy.Constructor=P,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=e,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);Y.call(t,t.data())})}),jQuery);function q(n){return this.each(function(){var t=k(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new S(this)),"string"==typeof n&&e[n]()})}function S(t){this.element=k(t)}function V(t){t.preventDefault(),q.call(k(this),"show")}S.VERSION="3.3.2",S.TRANSITION_DURATION=150,S.prototype.show=function(){var t,e,n,i=this.element,o=i.closest("ul:not(.dropdown-menu)"),r=i.data("target");r||(r=(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(t=o.find(".active:last a"),e=k.Event("hide.bs.tab",{relatedTarget:i[0]}),n=k.Event("show.bs.tab",{relatedTarget:t[0]}),t.trigger(e),i.trigger(n),n.isDefaultPrevented())||e.isDefaultPrevented()||(n=k(r),this.activate(i.closest("li"),o),this.activate(n,n.parent(),function(){t.trigger({type:"hidden.bs.tab",relatedTarget:i[0]}),i.trigger({type:"shown.bs.tab",relatedTarget:t[0]})}))},S.prototype.activate=function(t,e,n){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var o=e.find("> .active"),r=n&&k.support.transition&&(o.length&&o.hasClass("fade")||!!e.find("> .fade").length);o.length&&r?o.one("bsTransitionEnd",i).emulateTransitionEnd(S.TRANSITION_DURATION):i(),o.removeClass("in")};var G=k.fn.tab;function J(i){return this.each(function(){var t=a(this),e=t.data("bs.affix"),n="object"==(void 0===i?"undefined":g(i))&&i;e||t.data("bs.affix",e=new C(this,n)),"string"==typeof i&&e[i]()})}function C(t,e){this.options=a.extend({},C.DEFAULTS,e),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()}function P(t,e){var n=o.proxy(this.process,this);this.$body=o("body"),this.$scrollElement=o(o(t).is("body")?window:t),this.options=o.extend({},P.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",n),this.refresh(),this.process()}function Y(i){return this.each(function(){var t=o(this),e=t.data("bs.scrollspy"),n="object"==(void 0===i?"undefined":g(i))&&i;e||t.data("bs.scrollspy",e=new P(this,n)),"string"==typeof i&&e[i]()})}function T(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)}function K(i,o){return this.each(function(){var t=r(this),e=t.data("bs.modal"),n=r.extend({},j.DEFAULTS,t.data(),"object"==(void 0===i?"undefined":g(i))&&i);e||t.data("bs.modal",e=new j(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}function j(t,e){this.options=e,this.$body=r(document.body),this.$element=r(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,r.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}function E(i){i&&3===i.which||(s(".dropdown-backdrop").remove(),s(c).each(function(){var t=s(this),e=A(t),n={relatedTarget:this};e.hasClass("open")&&(e.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",n)))}))}function A(t){var e=t.attr("data-target"),e=(e=e?e:(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""))&&s(e);return e&&e.length?e:t.parent()}function L(t){s(t).on("click.bs.dropdown",this.toggle)}function X(t){t=t.attr("data-target")||(t=t.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return u(t)}function O(i){return this.each(function(){var t=u(this),e=t.data("bs.collapse"),n=u.extend({},$.DEFAULTS,t.data(),"object"==(void 0===i?"undefined":g(i))&&i);!e&&n.toggle&&"show"==i&&(n.toggle=!1),e||t.data("bs.collapse",e=new $(this,n)),"string"==typeof i&&e[i]()})}function $(t,e){this.$element=u(t),this.options=u.extend({},$.DEFAULTS,e),this.$trigger=u(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()}function Q(i){return this.each(function(){var t=p(this),e=t.data("bs.button"),n="object"==(void 0===i?"undefined":g(i))&&i;e||t.data("bs.button",e=new D(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}function D(t,e){this.$element=p(t),this.options=p.extend({},D.DEFAULTS,e),this.isLoading=!1}function F(t){f(t).on("click",h,this.close)}k.fn.tab=q,k.fn.tab.Constructor=S,k.fn.tab.noConflict=function(){return k.fn.tab=G,this},k(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',V).on("click.bs.tab.data-api",'[data-toggle="pill"]',V),a=jQuery,C.VERSION="3.3.2",C.RESET="affix affix-top affix-bottom",C.DEFAULTS={offset:0,target:window},C.prototype.getState=function(t,e,n,i){var o,r=this.$target.scrollTop(),a=this.$element.offset(),s=this.$target.height();return null!=n&&"top"==this.affixed?r<n&&"top":"bottom"==this.affixed?null!=n?!(r+this.unpin<=a.top)&&"bottom":!(r+s<=t-i)&&"bottom":(a=(o=null==this.affixed)?r:a.top,null!=n&&r<=n?"top":null!=i&&t-i<=a+(o?s:e)&&"bottom")},C.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(C.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},C.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},C.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,o=a("body").height(),e=("object"!=(void 0===e?"undefined":g(e))&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element)),this.getState(o,t,n,i));if(this.affixed!=e){null!=this.unpin&&this.$element.css("top","");var n="affix"+(e?"-"+e:""),r=a.Event(n+".bs.affix");if(this.$element.trigger(r),r.isDefaultPrevented())return;this.affixed=e,this.unpin="bottom"==e?this.getPinnedOffset():null,this.$element.removeClass(C.RESET).addClass(n).trigger(n.replace("affix","affixed")+".bs.affix")}"bottom"==e&&this.$element.offset({top:o-t-i})}},t=a.fn.affix,a.fn.affix=J,a.fn.affix.Constructor=C,a.fn.affix.noConflict=function(){return a.fn.affix=t,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var t=a(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),J.call(t,e)})})},function(t,e,n){"use strict";function T(t,e){return j.map(t,function(t){return t+".touchspin_"+e})}var j,E;j=jQuery,E=0,j.fn.TouchSpin=function(S){var C,P;if("destroy"!==S)return C={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},P={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"},this.each(function(){function i(){var t,e,n=h.val();""===n||0<c.decimals&&"."===n||(t=parseFloat(n),(e=t=isNaN(t)?0:t).toString()!==n&&(e=t),t<c.min&&(e=c.min),e=function(t){switch(c.forcestepdivisibility){case"round":return(Math.round(t/c.step)*c.step).toFixed(c.decimals);case"floor":return(Math.floor(t/c.step)*c.step).toFixed(c.decimals);case"ceil":return(Math.ceil(t/c.step)*c.step).toFixed(c.decimals);default:return t}}(e=t>c.max?c.max:e),Number(n).toString()!==e.toString()&&(h.val(e),h.trigger("change")))}function n(){var t;return c.booster?(t=Math.pow(2,Math.floor(g/c.boostat))*c.step,c.maxboostedstep&&t>c.maxboostedstep&&(t=c.maxboostedstep,u=Math.round(u/t)*t),Math.max(c.step,t)):c.step}function o(){i(),u=parseFloat(d.input.val());var t=u=isNaN(u)?0:u,e=n();(u+=e)>c.max&&(u=c.max,h.trigger("touchspin.on.max"),l()),d.input.val(Number(u).toFixed(c.decimals)),t!==u&&h.trigger("change")}function r(){i(),u=parseFloat(d.input.val());var t=u=isNaN(u)?0:u,e=n();(u-=e)<c.min&&(u=c.min,h.trigger("touchspin.on.min"),l()),d.input.val(u.toFixed(c.decimals)),t!==u&&h.trigger("change")}function a(){l(),g=0,v="down",h.trigger("touchspin.on.startspin"),h.trigger("touchspin.on.startdownspin"),p=setTimeout(function(){t=setInterval(function(){g++,r()},c.stepinterval)},c.stepintervaldelay)}function s(){l(),g=0,v="up",h.trigger("touchspin.on.startspin"),h.trigger("touchspin.on.startupspin"),f=setTimeout(function(){e=setInterval(function(){g++,o()},c.stepinterval)},c.stepintervaldelay)}function l(){switch(clearTimeout(p),clearTimeout(f),clearInterval(t),clearInterval(e),v){case"up":h.trigger("touchspin.on.stopupspin"),h.trigger("touchspin.on.stopspin");break;case"down":h.trigger("touchspin.on.stopdownspin"),h.trigger("touchspin.on.stopspin")}g=0,v=!1}var c,d,u,t,e,p,f,h=j(this),m=h.data(),g=0,v=!1;if(!h.data("alreadyinitialized")){if(h.data("alreadyinitialized",!0),E+=1,h.data("spinnerid",E),!h.is("input"))return void console.log("Must be an input.");if(""!==(c=j.extend({},C,m,function(){var n={};return j.each(P,function(t,e){e="bts-"+e;h.is("[data-"+e+"]")&&(n[t]=h.data(e))}),n}(),S)).initval&&""===h.val()&&h.val(c.initval),i(),m=h.val(),w=h.parent(),""!==m&&(m=Number(m).toFixed(c.decimals)),h.data("initvalue",m).val(m),h.addClass("form-control"),w.hasClass("input-group")){m=w;m.addClass("bootstrap-touchspin");var b,y,w=h.prev(),x=h.next(),_='<span class="input-group-addon bootstrap-touchspin-prefix">'+c.prefix+"</span>",k='<span class="input-group-addon bootstrap-touchspin-postfix">'+c.postfix+"</span>";w.hasClass("input-group-btn")?(b='<button class="'+c.buttondown_class+' bootstrap-touchspin-down" type="button">'+c.buttondown_txt+"</button>",w.append(b)):(b='<span class="input-group-btn"><button class="'+c.buttondown_class+' bootstrap-touchspin-down" type="button">'+c.buttondown_txt+"</button></span>",j(b).insertBefore(h)),x.hasClass("input-group-btn")?(y='<button class="'+c.buttonup_class+' bootstrap-touchspin-up" type="button">'+c.buttonup_txt+"</button>",x.prepend(y)):(y='<span class="input-group-btn"><button class="'+c.buttonup_class+' bootstrap-touchspin-up" type="button">'+c.buttonup_txt+"</button></span>",j(y).insertAfter(h)),j(_).insertBefore(h),j(k).insertAfter(h),b=m}else w=c.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+c.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+c.postfix+'</span><span class="input-group-btn-vertical"><button class="'+c.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+c.verticalupclass+'"></i></button><button class="'+c.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+c.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+c.buttondown_class+' bootstrap-touchspin-down" type="button">'+c.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+c.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+c.postfix+'</span><span class="input-group-btn"><button class="'+c.buttonup_class+' bootstrap-touchspin-up" type="button">'+c.buttonup_txt+"</button></span></div>",b=j(w).insertBefore(h),j(".bootstrap-touchspin-prefix",b).after(h),h.hasClass("input-sm")?b.addClass("input-group-sm"):h.hasClass("input-lg")&&b.addClass("input-group-lg");d={down:j(".bootstrap-touchspin-down",b),up:j(".bootstrap-touchspin-up",b),input:j("input",b),prefix:j(".bootstrap-touchspin-prefix",b).addClass(c.prefix_extraclass),postfix:j(".bootstrap-touchspin-postfix",b).addClass(c.postfix_extraclass)},""===c.prefix&&d.prefix.hide(),""===c.postfix&&d.postfix.hide(),h.on("keydown",function(t){var e=t.keyCode||t.which;38===e?("up"!==v&&(o(),s()),t.preventDefault()):40===e&&("down"!==v&&(r(),a()),t.preventDefault())}),h.on("keyup",function(t){t=t.keyCode||t.which;38!==t&&40!==t||l()}),h.on("blur",function(){i()}),d.down.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("down"!==v&&(r(),a()),t.preventDefault())}),d.down.on("keyup",function(t){t=t.keyCode||t.which;32!==t&&13!==t||l()}),d.up.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("up"!==v&&(o(),s()),t.preventDefault())}),d.up.on("keyup",function(t){t=t.keyCode||t.which;32!==t&&13!==t||l()}),d.down.on("mousedown.touchspin",function(t){d.down.off("touchstart.touchspin"),h.is(":disabled")||(r(),a(),t.preventDefault(),t.stopPropagation())}),d.down.on("touchstart.touchspin",function(t){d.down.off("mousedown.touchspin"),h.is(":disabled")||(r(),a(),t.preventDefault(),t.stopPropagation())}),d.up.on("mousedown.touchspin",function(t){d.up.off("touchstart.touchspin"),h.is(":disabled")||(o(),s(),t.preventDefault(),t.stopPropagation())}),d.up.on("touchstart.touchspin",function(t){d.up.off("mousedown.touchspin"),h.is(":disabled")||(o(),s(),t.preventDefault(),t.stopPropagation())}),d.up.on("mouseout touchleave touchend touchcancel",function(t){v&&(t.stopPropagation(),l())}),d.down.on("mouseout touchleave touchend touchcancel",function(t){v&&(t.stopPropagation(),l())}),d.down.on("mousemove touchmove",function(t){v&&(t.stopPropagation(),t.preventDefault())}),d.up.on("mousemove touchmove",function(t){v&&(t.stopPropagation(),t.preventDefault())}),j(document).on(T(["mouseup","touchend","touchcancel"],E).join(" "),function(t){v&&(t.preventDefault(),l())}),j(document).on(T(["mousemove","touchmove","scroll","scrollstart"],E).join(" "),function(t){v&&(t.preventDefault(),l())}),h.on("mousewheel DOMMouseScroll",function(t){var e;c.mousewheel&&h.is(":focus")&&(e=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail,t.stopPropagation(),t.preventDefault(),(e<0?r:o)())}),h.on("touchspin.uponce",function(){l(),o()}),h.on("touchspin.downonce",function(){l(),r()}),h.on("touchspin.startupspin",function(){s()}),h.on("touchspin.startdownspin",function(){a()}),h.on("touchspin.stopspin",function(){l()}),h.on("touchspin.updatesettings",function(t,e){var n=e;c=j.extend({},c,n),i(),""!==(e=d.input.val())&&(e=Number(d.input.val()),d.input.val(e.toFixed(c.decimals)))}),d.input.css("display","block")}});this.each(function(){var t=j(this).data();j(document).off(T(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],t.spinnerid).join(" "))})}},function(t,e,n){"use strict";var i;(i=jQuery).expr[":"].notmdproc=function(t){return!i(t).data("mdproc")},i.material={options:{input:!0,ripples:!0,checkbox:!0,togglebutton:!0,radio:!0,arrive:!0,autofill:!1,withRipples:[".btn:not(.btn-link)",".card-image",".navbar a:not(.withoutripple)",".dropdown-menu a",".nav-tabs a:not(.withoutripple)",".withripple"].join(","),inputElements:"input.form-control, textarea.form-control, select.form-control",checkboxElements:".checkbox > label > input[type=checkbox]",togglebuttonElements:".togglebutton > label > input[type=checkbox]",radioElements:".radio > label > input[type=radio]"},checkbox:function(t){i(t||this.options.checkboxElements).filter(":notmdproc").data("mdproc",!0).after("<span class=checkbox-material><span class=check></span></span>")},togglebutton:function(t){i(t||this.options.togglebuttonElements).filter(":notmdproc").data("mdproc",!0).after("<span class=toggle></span>")},radio:function(t){i(t||this.options.radioElements).filter(":notmdproc").data("mdproc",!0).after("<span class=circle></span><span class=check></span>")},input:function(t){i(t||this.options.inputElements).filter(":notmdproc").data("mdproc",!0).each(function(){var t,e=i(this);(i(this).attr("data-hint")||e.hasClass("floating-label"))&&(e.wrap("<div class=form-control-wrapper></div>"),e.after("<span class=material-input></span>"),e.hasClass("floating-label")&&(t=e.attr("placeholder"),e.attr("placeholder",null).removeClass("floating-label"),e.after("<div class=floating-label>"+t+"</div>")),e.attr("data-hint")&&e.after("<div class=hint>"+e.attr("data-hint")+"</div>"),null!==e.val()&&"undefined"!=e.val()&&""!==e.val()||e.addClass("empty"),e.parent().next().is("[type=file]"))&&(e.parent().addClass("fileinput"),t=e.parent().next().detach(),e.after(t))}),i(document).on("change",".checkbox input[type=checkbox]",function(){i(this).blur()}).on("keydown paste",".form-control",function(t){(void 0===(t=t).which||"number"==typeof t.which&&0<t.which&&!t.ctrlKey&&!t.metaKey&&!t.altKey&&8!=t.which&&9!=t.which)&&i(this).removeClass("empty")}).on("keyup change",".form-control",function(){var t=i(this);""===t.val()&&void 0!==t[0].checkValidity&&t[0].checkValidity()?t.addClass("empty"):t.removeClass("empty")}).on("focus",".form-control-wrapper.fileinput",function(){i(this).find("input").addClass("focus")}).on("blur",".form-control-wrapper.fileinput",function(){i(this).find("input").removeClass("focus")}).on("change",".form-control-wrapper.fileinput [type=file]",function(){var n="";i.each(i(this)[0].files,function(t,e){n+=e.name+", "}),(n=n.substring(0,n.length-2))?i(this).prev().removeClass("empty"):i(this).prev().addClass("empty"),i(this).prev().val(n)})},ripples:function(t){i(t||this.options.withRipples).ripples()},autofill:function(){var e,t=setInterval(function(){i("input[type!=checkbox]").each(function(){i(this).val()&&i(this).val()!==i(this).attr("value")&&i(this).trigger("change")})},100);setTimeout(function(){clearInterval(t)},1e4),i(document).on("focus","input",function(){var t=i(this).parents("form").find("input").not("[type=file]");e=setInterval(function(){t.each(function(){i(this).val()!==i(this).attr("value")&&i(this).trigger("change")})},100)}).on("blur","input",function(){clearInterval(e)})},init:function(){i.fn.ripples&&this.options.ripples&&this.ripples(),this.options.input&&this.input(),this.options.checkbox&&this.checkbox(),this.options.togglebutton&&this.togglebutton(),this.options.radio&&this.radio(),this.options.autofill&&this.autofill(),document.arrive&&this.options.arrive&&(i.fn.ripples&&this.options.ripples&&i(document).arrive(this.options.withRipples,function(){i.material.ripples(i(this))}),this.options.input&&i(document).arrive(this.options.inputElements,function(){i.material.input(i(this))}),this.options.checkbox&&i(document).arrive(this.options.checkboxElements,function(){i.material.checkbox(i(this))}),this.options.radio&&i(document).arrive(this.options.radioElements,function(){i.material.radio(i(this))}),this.options.togglebutton)&&i(document).arrive(this.options.togglebuttonElements,function(){i.material.togglebutton(i(this))})}}},function(t,e,n){"use strict";var i,G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};void 0!==(e="function"==typeof(i=function(){"use strict";function A(t){return t.filter(function(t){return this[t]?!1:this[t]=!0},{})}function s(t,e){return Math.round(t/e)*e}function L(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.defaultView||n.parentWindow,o=n.documentElement,r=i.pageXOffset;return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(r=0),{top:e.top+i.pageYOffset-o.clientTop,left:e.left+r-o.clientLeft}}function o(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function e(t){var e=Math.pow(10,7);return Number((Math.round(t*e)/e).toFixed(7))}function O(t,e,n){I(t,e),setTimeout(function(){M(t,e)},n)}function $(t){return Math.max(Math.min(t,100),0)}function D(t){return Array.isArray(t)?t:[t]}function F(t){var e=t.split(".");return e.length>1?e[1].length:0}function I(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function M(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function B(t,e){t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function l(t,e){return 100/(e-t)}function i(t,e){return 100*e/(t[1]-t[0])}function c(t,e){return i(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function d(t,e){return e*(t[1]-t[0])/100+t[0]}function u(t,e){for(var n=1;t>=e[n];)n+=1;return n}function n(t,e,n){if(n>=t.slice(-1)[0])return 100;var i,o,r,a,s=u(n,t);return i=t[s-1],o=t[s],r=e[s-1],a=e[s],r+c([i,o],n)/l(r,a)}function r(t,e,n){if(n>=100)return t.slice(-1)[0];var i,o,r,a,s=u(n,e);return i=t[s-1],o=t[s],r=e[s-1],a=e[s],d([i,o],(n-r)*l(r,a))}function a(t,e,n,i){if(100===i)return i;var o,r,a=u(i,t);return n?(o=t[a-1],r=t[a],i-o>(r-o)/2?r:o):e[a-1]?t[a-1]+s(i-t[a-1],e[a-1]):i}function p(t,e,n){var i;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider: 'range' contains invalid value.");if(i="min"===t?0:"max"===t?100:parseFloat(t),!o(i)||!o(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(i),n.xVal.push(e[0]),i?n.xSteps.push(isNaN(e[1])?!1:e[1]):isNaN(e[1])||(n.xSteps[0]=e[1])}function f(t,e,n){return e?void(n.xSteps[t]=i([n.xVal[t],n.xVal[t+1]],e)/l(n.xPct[t],n.xPct[t+1])):!0}function h(t,e,n,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=e,this.direction=n;var o,r=[];for(o in t)t.hasOwnProperty(o)&&r.push([t[o],o]);for(r.sort(function(t,e){return t[0]-e[0]}),o=0;o<r.length;o++)p(r[o][1],r[o][0],this);for(this.xNumSteps=this.xSteps.slice(0),o=0;o<this.xNumSteps.length;o++)f(o,this.xNumSteps[o],this)}function t(t,e){if(!o(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function m(t,e){if("object"!=(typeof e==="undefined"?"undefined":G(e))||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new h(e,t.snap,t.dir,t.singleStep)}function g(t,e){if(e=D(e),!Array.isArray(e)||!e.length||e.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function v(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function b(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function y(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(e===!0&&2===t.handles)t.connect=3;else{if(e!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function w(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function x(t,e){if(!o(e))throw new Error("noUiSlider: 'margin' option must be numeric.");if(t.margin=t.spectrum.getMargin(e),!t.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function _(t,e){if(!o(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function k(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function S(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,i=e.indexOf("drag")>=0,o=e.indexOf("fixed")>=0,r=e.indexOf("snap")>=0;t.events={tap:n||r,drag:i,fixed:o,snap:r}}function C(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function P(n){var i,o={margin:0,limit:0,animate:!0,format:V};i={step:{r:!1,t:t},start:{r:!0,t:g},connect:{r:!0,t:y},direction:{r:!0,t:k},snap:{r:!1,t:v},animate:{r:!1,t:b},range:{r:!0,t:m},orientation:{r:!1,t:w},margin:{r:!1,t:x},limit:{r:!1,t:_},behaviour:{r:!0,t:S},format:{r:!1,t:C}};var e={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"};return Object.keys(e).forEach(function(t){void 0===n[t]&&(n[t]=e[t])}),Object.keys(i).forEach(function(t){var e=i[t];if(void 0===n[t]){if(e.r)throw new Error("noUiSlider: '"+t+"' is required.");return!0}e.t(o,n[t])}),o.pips=n.pips,o.style=o.ort?"top":"left",o}function U(t,e,n){var i=t+e[0],o=t+e[1];return n?(0>i&&(o+=Math.abs(i)),o>100&&(i-=o-100),[$(i),$(o)]):[i,o]}function H(t){t.preventDefault();var e,n,i=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),r=0===t.type.indexOf("pointer"),a=t;return 0===t.type.indexOf("MSPointer")&&(r=!0),i&&(e=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY),(o||r)&&(e=t.clientX+window.pageXOffset,n=t.clientY+window.pageYOffset),a.points=[e,n],a.cursor=o||r,a}function T(t,e){var n=document.createElement("div"),i=document.createElement("div"),o=["-lower","-upper"];return t&&o.reverse(),I(i,R[3]),I(i,R[3]+o[e]),I(n,R[2]),n.appendChild(i),n}function z(t,e,n){switch(t){case 1:I(e,R[7]),I(n[0],R[6]);break;case 3:I(n[1],R[6]);case 2:I(n[0],R[7]);case 0:I(e,R[6])}}function W(t,e,n){var i,o=[];for(i=0;t>i;i+=1)o.push(n.appendChild(T(e,i)));return o}function q(t,e,n){I(n,R[0]),I(n,R[8+t]),I(n,R[4+e]);var i=document.createElement("div");return I(i,R[1]),n.appendChild(i),i}function j(t,c){function d(t,e,n){if("range"===t||"steps"===t)return T.xVal;if("count"===t){var i,o=100/(e-1),r=0;for(e=[];(i=r++*o)<=100;)e.push(i);t="positions"}return"positions"===t?e.map(function(t){return T.fromStepping(n?T.getStep(t):t)}):"values"===t?n?e.map(function(t){return T.fromStepping(T.getStep(T.toStepping(t)))}):e:void 0}function u(h,m,g){var t=T.direction,v={},e=T.xVal[0],n=T.xVal[T.xVal.length-1],b=!1,y=!1,w=0;return T.direction=0,g=A(g.slice().sort(function(t,e){return t-e})),g[0]!==e&&(g.unshift(e),b=!0),g[g.length-1]!==n&&(g.push(n),y=!0),g.forEach(function(t,e){var n,i,o,r,a,s,l,c,d,u,p=t,f=g[e+1];if("steps"===m&&(n=T.xNumSteps[e]),n||(n=f-p),p!==!1&&void 0!==f)for(i=p;f>=i;i+=n){for(r=T.toStepping(i),a=r-w,c=a/h,d=Math.round(c),u=a/d,o=1;d>=o;o+=1)s=w+o*u,v[s.toFixed(5)]=["x",0];l=g.indexOf(i)>-1?1:"steps"===m?2:0,!e&&b&&(l=0),i===f&&y||(v[r.toFixed(5)]=[i,l]),w=r}}),T.direction=t,v}function p(e,n,i){function o(t){return["-normal","-large","-sub"][t]}function r(t,e,n){return'class="'+e+" "+e+"-"+s+" "+e+o(n[1])+'" style="'+c.style+": "+t+'%"'}function a(t,e){T.direction&&(t=100-t),e[1]=e[1]&&n?n(e[0],e[1]):e[1],l.innerHTML+="<div "+r(t,"noUi-marker",e)+"></div>",e[1]&&(l.innerHTML+="<div "+r(t,"noUi-value",e)+">"+i.to(e[0])+"</div>")}var s=["horizontal","vertical"][c.ort],l=document.createElement("div");return I(l,"noUi-pips"),I(l,"noUi-pips-"+s),Object.keys(e).forEach(function(t){a(t,e[t])}),l}function e(t){var e=t.mode,n=t.density||1,i=t.filter||!1,o=t.values||!1,r=t.stepped||!1,a=d(e,o,r),s=u(n,e,a),l=t.format||{to:Math.round};return C.appendChild(p(s,i,l))}function l(){return k["offset"+["Width","Height"][c.ort]]}function f(n,i){void 0!==i&&(i=Math.abs(i-c.dir)),Object.keys(E).forEach(function(t){var e=t.split(".")[0];n===e&&E[t].forEach(function(t){t(D(b()),i,o(Array.prototype.slice.call(j)))})})}function o(t){return 1===t.length?t[0]:c.dir?t.reverse():t}function a(n,e,i,o){var r=function t(e){return C.hasAttribute("disabled")?!1:B(C,R[14])?!1:(e=H(e),n===N.start&&void 0!==e.buttons&&e.buttons>1?!1:(e.calcPoint=e.points[c.ort],void i(e,o)))},a=[];return n.split(" ").forEach(function(t){e.addEventListener(t,r,!1),a.push([t,r])}),a}function s(t,e){var n,i,o=e.handles||S,r=!1,a=100*(t.calcPoint-e.start)/l(),s=o[0]===S[0]?0:1;if(n=U(a,e.positions,o.length>1),r=m(o[0],n[s],1===o.length),o.length>1){if(r=m(o[1],n[s?0:1],!1)||r)for(i=0;i<e.handles.length;i++)f("slide",i)}else r&&f("slide",s)}function h(t,e){var n=k.getElementsByClassName(R[15]),i=e.handles[0]===S[0]?0:1;n.length&&M(n[0],R[15]),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var o=document.documentElement;o.noUiListeners.forEach(function(t){o.removeEventListener(t[0],t[1])}),M(C,R[12]),f("set",i),f("change",i)}function r(t,e){var n=document.documentElement;if(1===e.handles.length&&(I(e.handles[0].children[0],R[15]),e.handles[0].hasAttribute("disabled")))return!1;t.stopPropagation();var i=a(N.move,n,s,{start:t.calcPoint,handles:e.handles,positions:[P[0],P[S.length-1]]}),o=a(N.end,n,h,{handles:e.handles});if(n.noUiListeners=i.concat(o),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,S.length>1&&I(C,R[12]);var r=function t(){return!1};document.body.noUiListener=r,document.body.addEventListener("selectstart",r,!1)}}function i(t){var e,n,i=t.calcPoint,o=0;return t.stopPropagation(),S.forEach(function(t){o+=L(t)[c.style]}),e=o/2>i||1===S.length?0:1,i-=L(k)[c.style],n=100*i/l(),c.events.snap||O(C,R[14],300),S[e].hasAttribute("disabled")?!1:(m(S[e],n),f("slide",e),f("set",e),f("change",e),void(c.events.snap&&r(t,{handles:[S[o]]})))}function n(t){var e,n;if(!t.fixed)for(e=0;e<S.length;e+=1)a(N.start,S[e].children[0],r,{handles:[S[e]]});t.tap&&a(N.start,k,i,{handles:S}),t.drag&&(n=[k.getElementsByClassName(R[7])[0]],I(n[0],R[10]),t.fixed&&n.push(S[n[0]===S[0]?1:0].children[0]),n.forEach(function(t){a(N.start,t,r,{handles:S})}))}function m(t,e,n){var i=t!==S[0]?1:0,o=P[0]+c.margin,r=P[1]-c.margin,a=P[0]+c.limit,s=P[1]-c.limit;return S.length>1&&(e=i?Math.max(e,o):Math.min(e,r)),n!==!1&&c.limit&&S.length>1&&(e=i?Math.min(e,a):Math.max(e,s)),e=T.getStep(e),e=$(parseFloat(e.toFixed(7))),e===P[i]?!1:(t.style[c.style]=e+"%",t.previousSibling||(M(t,R[17]),e>50&&I(t,R[17])),P[i]=e,j[i]=T.fromStepping(e),f("update",i),!0)}function g(t,e){var n,i,o;for(c.limit&&(t+=1),n=0;t>n;n+=1)i=n%2,o=e[i],null!==o&&o!==!1&&("number"==typeof o&&(o=String(o)),o=c.format.from(o),(o===!1||isNaN(o)||m(S[i],T.toStepping(o),n===3-c.dir)===!1)&&f("update",i))}function v(t){var e,n,i=D(t);for(c.dir&&c.handles>1&&i.reverse(),c.animate&&-1!==P[0]&&O(C,R[14],300),e=S.length>1?3:1,1===i.length&&(e=1),g(e,i),n=0;n<S.length;n++)f("set",n)}function b(){var t,e=[];for(t=0;t<c.handles;t+=1)e[t]=c.format.to(j[t]);return o(e)}function y(){R.forEach(function(t){t&&M(C,t)}),C.innerHTML="",delete C.noUiSlider}function w(){var t=P.map(function(t,e){var n=T.getApplicableStep(t),i=F(String(n[2])),o=j[e],r=100===t?null:n[2],a=Number((o-n[2]).toFixed(i)),s=0===t?null:a>=n[1]?n[2]:n[0]||!1;return[s,r]});return o(t)}function x(t,e){E[t]=E[t]||[],E[t].push(e),"update"===t.split(".")[0]&&S.forEach(function(t,e){f("update",e)})}function _(t){var i=t.split(".")[0],o=t.substring(i.length);Object.keys(E).forEach(function(t){var e=t.split(".")[0],n=t.substring(e.length);i&&i!==e||o&&o!==n||delete E[t]})}var k,S,C=t,P=[-1,-1],T=c.spectrum,j=[],E={};if(C.noUiSlider)throw new Error("Slider was already initialized.");return k=q(c.dir,c.ort,C),S=W(c.handles,c.dir,k),z(c.connect,C,S),n(c.events),c.pips&&e(c.pips),{destroy:y,steps:w,on:x,off:_,get:b,set:v}}function E(t,e){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=P(e,t),i=j(t,n);i.set(n.start),t.noUiSlider=i}var N=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},R=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"],V=(h.prototype.getMargin=function(t){return 2===this.xPct.length?i(this.xVal,t):!1},h.prototype.toStepping=function(t){return t=n(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},h.prototype.fromStepping=function(t){return this.direction&&(t=100-t),e(r(this.xVal,this.xPct,t))},h.prototype.getStep=function(t){return this.direction&&(t=100-t),t=a(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},h.prototype.getApplicableStep=function(t){var e=u(t,this.xPct),n=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-n],this.xNumSteps[e-n]]},h.prototype.convert=function(t){return this.getStep(this.toStepping(t))},{to:function t(e){return e.toFixed(2)},from:Number});return{create:E}})?i.apply(e,[]):i)&&(t.exports=e)},function(t,e,n){"use strict";var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=[n(137)],void 0!==(e="function"==typeof(i=function(b){var y={options:{optionClass:"",dropdownClass:"",autoinit:false,callback:false,onSelected:false,absolutePos:false,align:"left",dynamicOptLabel:"Add a new option..."},init:function t(g){if(g)g=b.extend(y.options,g);else g=y.options;function v(t){var e=t.data("dropdownjs-ul");e.find("li").not(".dropdownjs-add").remove();t.find("option").each(function(){var t=b(this);y._addOption(e,t)})}function n(i){if(i.data("dropdownjs")||!i.is("select"))return;var o=i.attr("multiple");var t=i.attr("data-dynamic-opts"),r=b();var a=b("<div></div>");a.addClass("dropdownjs").addClass(g.dropdownStyle);a.data("select",i);var s=b("<input type=text readonly class=fakeinput>");if(b.material)s.data("mdproc",true);if(i.is(":disabled"))s.prop("disabled",true);a.append(s);var l=b("<ul></ul>");l.addClass("dropdownjs-ul");l.data("select",i);i.hide().attr("data-dropdownjs",true).data("dropdownjs-ul",l);if(g.absolutePos)b("body").append(l);else a.append(l);s.attr("placeholder",i.attr("placeholder"));v(i);if(t){r=b("<li class=dropdownjs-add></li>");r.append('<input type="text">');r.find("input").attr("placeholder",g.dynamicOptLabel);l.append(r)}var e=a.find("li");if(!o){var n;if(i.find(":selected").length)n=i.find(":selected").last();else n=i.find("option, li").first();y._select(a,n)}else{var c=[],d=i.val();for(var u in d)c.push("li[value="+d[u]+"]");if(c.length>0)y._select(a,a.find(c.join(",")))}s.addClass(i[0].className);s.css({"moz-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none","-o-user-select":"none"});i.on("remove",function(){l.remove()});i.after(a);if(g.callback)g.callback(a);l.on("click","li:not(.dropdownjs-add)",function(t){y._select(a,b(this));w(i.get(0),"change")});l.on("keydown","li:not(.dropdownjs-add)",function(t){if(t.which===27){b(".dropdownjs > ul > li").attr("tabindex",-1);l.removeClass("focus");return s.removeClass("focus").blur()}if(t.which===32&&!b(t.target).is("input")){y._select(a,b(this));return false}});l.on("focus","li:not(.dropdownjs-add)",function(){if(i.is(":disabled"))return;s.addClass("focus")});if(t&&t.length)r.on("keydown",function(t){if(t.which!==13)return;var e=b("<option>"),n=r.find("input").val();r.find("input").val("");e.attr("value",n);e.text(n);i.append(e)});i.on("DOMNodeInserted",function(t){var e=b(t.target);if(!e.val())return;y._addOption(l,e);l.find("li").not(".dropdownjs-add").attr("tabindex",0)});i.on("DOMNodeRemoved",function(t){var e=b(t.target);y._removeOption(l,e);l.find("li").not(".dropdownjs-add").attr("tabindex",0)});i.on("change",function(t){var e=b(t.target);if(!e.val()||!e.val().length)return;if(!o){v(i);var n;if(i.find(":selected").length)n=i.find(":selected").last();else n=i.find("option, li").first();y.select(a,n.val())}});function p(){b(".dropdownjs-ul > li").attr("tabindex",-1);s.removeClass("focus");l.removeClass("focus")}s.on("click",function(t){t.stopPropagation();if(i.is(":disabled"))return;if(l.hasClass("focus")){p();return}f()});function f(){clearTimeout(h);h=setTimeout(function(){m()},100)}var h;function m(){var t=s;b(".dropdownjs-ul > li").attr("tabindex",-1);b(".dropdownjs > input").not(t).removeClass("focus").blur();b(".dropdownjs").not(t).removeClass("focus").blur();b(".dropdownjs-ul").not(l).removeClass("focus");b(".dropdownjs-ul > li").not(".dropdownjs-add").attr("tabindex",0);var e={top:t.offset().top-b(document).scrollTop(),left:t.offset().left-b(document).scrollLeft(),bottom:b(window).height()-(t.offset().top-b(document).scrollTop())-t.outerHeight(),right:b(window).width()-(t.offset().left-b(document).scrollLeft())-t.outerWidth()};if(g.absolutePos)l.css(g.align,e[g.align]);var n=e.bottom;if(n<200&&e.top>n){n=e.top;l.attr("placement","top-"+g.align)}else l.attr("placement","bottom-"+g.align);if(g.absolutePos)l.css({top:/top/.test(l.attr("placement"))?"auto":e.top+s.outerHeight(),bottom:/bottom/.test(l.attr("placement"))?"auto":e.bottom+s.outerHeight()});l.css("max-height",n-20);l.addClass("focus");t.addClass("focus")}b(document).on("click",function(t){if(o&&(b(t.target).parents(".dropdownjs").length||b(t.target).parents(".dropdownjs-ul").length||b(t.target).is(".dropdownjs-ul")))return;if(b(t.target).parents(".dropdownjs-add").length||b(t.target).is(".dropdownjs-add"))return;p()})}if(g.autoinit)b(document).on("DOMNodeInserted",function(t){var e=b(t.target);if(!e.is("select"))e=e.find("select");if(e.is(g.autoinit))e.each(function(){n(b(this))})});b(this).each(function(){n(b(this))})},select:function t(e,n){var i=e.data("select"),o=b(i.data("dropdownjs-ul")),r=o.find('[value="'+n+'"]');y._select(e,r)},_select:function t(e,n){if(n.is(".dropdownjs-add"))return;var i=e.data("select"),o=e.find("input.fakeinput"),r=b(i.data("dropdownjs-ul"));var a=i.attr("multiple");var s=r.find("li");if(a){n.attr("selected",function(t,e){return e==="selected"?null:"selected"});n.toggleClass("selected");n.each(function(){var t=i.find('[value="'+b(this).attr("value")+'"]');t.prop("selected",b(this).hasClass("selected"))});var l=[];s.each(function(){if(b(this).hasClass("selected"))l.push(b(this).text())});o.val(l.join(", "))}if(!a){if(n.is("li"))s.not(n).removeClass("selected");n.addClass("selected");i.val(n.attr("value"));o.val(n.text().trim())}if(b.material)if(o.val().trim())i.removeClass("empty");else i.addClass("empty");if(this.options.onSelected)this.options.onSelected(n.attr("value"))},_addOption:function t(e,n){var i=b("<li></li>");i.addClass(this.options.optionStyle);if(n.text())i.text(n.text());else i.html("&nbsp;");i.attr("value",n.val());var o=b.extend({},n[0].dataset);for(var r in o)i[0].dataset[r]=o[r];if(e.data("select").attr("data-dynamic-opts")){i.append("<span class=close></span>");i.find(".close").on("click",function(){i.remove();n.remove()})}if(n.prop("disabled"))i.attr("disabled",true);if(n.prop("selected")){i.attr("selected",true);i.addClass("selected")}if(e.find(".dropdownjs-add").length)e.find(".dropdownjs-add").before(i);else e.append(i)},_removeOption:function t(e,n){var i=n.val();e.find('[value="'+i+'"]').remove()}};function w(t,e,n){var i,o=document.createEvent;if(o){i=document.createEvent("HTMLEvents");i.initEvent(e,true,true)}else i=document.createEventObject();i.memo=n||{};if(o)return!t.dispatchEvent(i);return t.fireEvent("on"+e,i)}b.fn.dropdown=function(t){if(y[t])return y[t].apply(this,Array.prototype.slice.call(arguments,1));else if((typeof t==="undefined"?"undefined":o(t))==="object"|!t)return y.init.apply(this,arguments);b.error("Method "+t+" does not exists on jQuery.dropdown")}})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){"use strict";var i,v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window,i=function e(l,c){var d={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},r={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},u={};function s(t,e,n){t.stopPropagation(),t.preventDefault(),l.isFunction(n)&&!1===n.call(e,t)||e.modal("hide")}function p(t,n){var i=0;l.each(t,function(t,e){n(t,e,i++)})}function f(t){var i,o;if("object"!==(void 0===t?"undefined":v(t)))throw new Error("Please supply an object of options");if(t.message)return(t=l.extend({},r,t)).buttons||(t.buttons={}),i=t.buttons,o=function(t){var e,n=0;for(e in t)n++;return n}(i),p(i,function(t,e,n){if(l.isFunction(e)&&(e=i[t]={callback:e}),"object"!==l.type(e))throw new Error("button with key "+t+" must be an object");e.label||(e.label=t),e.className||(e.className=o<=2&&n===o-1?"btn-primary":"btn-default")}),t;throw new Error("Please specify a message")}function h(t,e,n){return l.extend(!0,{},t,function(t,e){var n=t.length,i={};if(n<1||2<n)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}(e,n))}function n(t,e,n,i){return g(h({className:"bootbox-"+t,buttons:m.apply(null,e)},i,n),e)}function m(){for(var t={},e=0,n=arguments.length;e<n;e++){var i=arguments[e],o=i.toLowerCase(),i=i.toUpperCase();t[o]={label:(o=i,(a[r.locale]||a.en)[o])}}return t}function g(t,e){var n={};return p(e,function(t,e){n[e]=!0}),p(t.buttons,function(t){if(n[t]===c)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}u.alert=function(){var t=n("alert",["ok"],["message","callback"],arguments);if(t.callback&&!l.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!l.isFunction(t.callback)||t.callback.call(this)},u.dialog(t)},u.confirm=function(){var t=n("confirm",["cancel","confirm"],["message","callback"],arguments);if(t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},l.isFunction(t.callback))return u.dialog(t);throw new Error("confirm requires a callback")},u.prompt=function(){var e,o,t=l(d.form),r=g(h({className:"bootbox-prompt",buttons:m("cancel","confirm"),value:"",inputType:"text"},arguments,["title","callback"]),["cancel","confirm"]),n=r.show===c||r.show;if(r.message=t,r.buttons.cancel.callback=r.onEscape=function(){return r.callback.call(this,null)},r.buttons.confirm.callback=function(){switch(r.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=o.val();break;case"checkbox":var t=o.find("input:checked"),n=[];p(t,function(t,e){n.push(l(e).val())})}return r.callback.call(this,n)},r.show=!1,!r.title)throw new Error("prompt requires a title");if(!l.isFunction(r.callback))throw new Error("prompt requires a callback");if(!d.inputs[r.inputType])throw new Error("invalid prompt type");switch(o=l(d.inputs[r.inputType]),r.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":o.val(r.value);break;case"select":var i={},a=r.inputOptions||[];if(!l.isArray(a))throw new Error("Please pass an array of input options");if(!a.length)throw new Error("prompt with select requires options");p(a,function(t,e){var n=o;if(e.value===c||e.text===c)throw new Error("given options in wrong format");e.group&&(i[e.group]||(i[e.group]=l("<optgroup/>").attr("label",e.group)),n=i[e.group]),n.append("<option value='"+e.value+"'>"+e.text+"</option>")}),p(i,function(t,e){o.append(e)}),o.val(r.value);break;case"checkbox":var s=l.isArray(r.value)?r.value:[r.value];if(!(a=r.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!a[0].value||!a[0].text)throw new Error("given options in wrong format");o=l("<div/>"),p(a,function(t,n){var i=l(d.inputs[r.inputType]);i.find("input").attr("value",n.value),i.find("label").append(n.text),p(s,function(t,e){e===n.value&&i.find("input").prop("checked",!0)}),o.append(i)})}return r.placeholder&&o.attr("placeholder",r.placeholder),r.pattern&&o.attr("pattern",r.pattern),r.maxlength&&o.attr("maxlength",r.maxlength),t.append(o),t.on("submit",function(t){t.preventDefault(),t.stopPropagation(),e.find(".btn-primary:last").click()}),(e=u.dialog(r)).off("shown.bs.modal"),e.on("shown.bs.modal",function(){o.focus()}),!0===n&&e.modal("show"),e},u.dialog=function(t){t=f(t);var n=l(d.dialog),e=n.find(".modal-dialog"),i=n.find(".modal-body"),o=t.buttons,r="",a={onEscape:t.onEscape};if(l.fn.modal===c)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");return p(o,function(t,e){r+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",a[t]=e.callback}),i.find(".bootbox-body").html(t.message),!0===t.animate&&n.addClass("fade"),t.className&&n.addClass(t.className),"large"===t.size?e.addClass("modal-lg"):"small"===t.size?e.addClass("modal-sm"):"fullscreen"===t.size&&e.addClass("modal-fs"),t.title&&i.before(d.header),t.closeButton&&(o=l(d.closeButton),t.title?n.find(".modal-header").prepend(o):o.css("margin-top","-10px").prependTo(i)),t.title&&n.find(".modal-title").html(t.title),r.length&&(i.after(d.footer),n.find(".modal-footer").html(r)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:last").focus()}),"static"!==t.backdrop&&n.on("click.dismiss.bs.modal",function(t){n.children(".modal-backdrop").length&&(t.currentTarget=n.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&n.trigger("escape.close.bb")}),n.on("escape.close.bb",function(t){a.onEscape&&s(t,n,a.onEscape)}),n.on("click",".modal-footer button",function(t){var e=l(this).data("bb-handler");s(t,n,a[e])}),n.on("click",".bootbox-close-button",function(t){s(t,n,a.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),l(t.container).append(n),n.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&n.modal("show"),n},u.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],l.extend(r,t)},u.hideAll=function(){return l(".bootbox").modal("hide"),u};var a={bg_BG:{OK:"ÐžÐº",CANCEL:"ÐžÑ‚ÐºÐ°Ð·",CONFIRM:"ÐŸÐ¾Ñ‚Ð²ÑŠÑ€Ð¶Ð´Ð°Ð²Ð°Ð¼"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"ZruÅ¡it",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Î•Î½Ï„Î¬Î¾ÎµÎ¹",CANCEL:"Î‘ÎºÏÏÏ‰ÏƒÎ·",CONFIRM:"Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ·"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"Ù‚Ø¨ÙˆÙ„",CANCEL:"Ù„ØºÙˆ",CONFIRM:"ØªØ§ÛŒÛŒØ¯"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"××™×©×•×¨",CANCEL:"×‘×™×˜×•×œ",CONFIRM:"××™×©×•×¨"},hu:{OK:"OK",CANCEL:"MÃ©gsem",CONFIRM:"MegerÅ‘sÃ­t"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",CONFIRM:"ç¢ºèª"},lt:{OK:"Gerai",CANCEL:"AtÅ¡aukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"ApstiprinÄt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"PotwierdÅº"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"ÐžÑ‚Ð¼ÐµÐ½Ð°",CONFIRM:"ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"à¸•à¸à¸¥à¸‡",CANCEL:"à¸¢à¸à¹€à¸¥à¸´à¸",CONFIRM:"à¸¢à¸·à¸™à¸¢à¸±à¸™"},tr:{OK:"Tamam",CANCEL:"Ä°ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"å–æ¶ˆ",CONFIRM:"ç¡®è®¤"},zh_TW:{OK:"OK",CANCEL:"å–æ¶ˆ",CONFIRM:"ç¢ºèª"}};return u.addLocale=function(t,n){return l.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")}),a[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},u},u.removeLocale=function(t){return delete a[t],u},u.setLocale=function(t){return u.setDefaults("locale",t)},u.init=function(t){return e(t||l)},u},n=[n(137)],void 0!==(e="function"==typeof(i=i)?i.apply(e,n):i)&&(t.exports=e)},function(e,i,t){"use strict";!function(p,n){var t,m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t=function(){return function i(o,r,a){function s(n,t){if(!r[n]){if(!o[n]){if(l)return l(n,!0);var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}e=r[n]={exports:{}};o[n][0].call(e.exports,function(t){var e=o[n][1][t];return s(e||t)},e,e.exports,i,o,r,a)}return r[n].exports}for(var l=!1,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e,n){var u=t("./utils"),p=t("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,i,o,r,a,s=[],l=0,c=t.length,d="string"!==u.getTypeOf(t);l<t.length;)a=c-l,i=d?(e=t[l++],n=l<c?t[l++]:0,l<c?t[l++]:0):(e=t.charCodeAt(l++),n=l<c?t.charCodeAt(l++):0,l<c?t.charCodeAt(l++):0),o=(3&e)<<4|n>>4,r=1<a?(15&n)<<2|i>>6:64,a=2<a?63&i:64,s.push(f.charAt(e>>2)+f.charAt(o)+f.charAt(r)+f.charAt(a));return s.join("")},n.decode=function(t){var e,n,i,o,r,a,s=0,l=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var c,d=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===f.charAt(64)&&d--,t.charAt(t.length-2)===f.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=new(p.uint8array?Uint8Array:Array)(0|d);s<t.length;)i=f.indexOf(t.charAt(s++)),e=(15&(o=f.indexOf(t.charAt(s++))))<<4|(r=f.indexOf(t.charAt(s++)))>>2,n=(3&r)<<6|(a=f.indexOf(t.charAt(s++))),c[l++]=i<<2|o>>4,64!==r&&(c[l++]=e),64!==a&&(c[l++]=n);return c}},{"./support":30,"./utils":32}],2:[function(t,e,n){function i(t,e,n,i,o){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=o}var o=t("./external"),r=t("./stream/DataWorker"),a=t("./stream/DataLengthProbe"),s=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");i.prototype={getContentWorker:function(){var t=new r(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new r(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=i},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){var i=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){var i=t("./utils"),s=function(){for(var t=[],e=0;e<256;e++){for(var n=e,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t}();e.exports=function(t,e){return void 0!==t&&t.length?("string"!==i.getTypeOf(t)?function(t,e,n,i){var o=s,r=i+n;t^=-1;for(var a=i;a<r;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}:function(t,e,n,i){var o=s,r=i+n;t^=-1;for(var a=i;a<r;a++)t=t>>>8^o[255&(t^e.charCodeAt(a))];return-1^t})(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){t="undefined"!=typeof Promise?Promise:t("lie");e.exports={Promise:t}},{lie:58}],7:[function(t,e,n){function i(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako"),a=t("./utils"),s=t("./stream/GenericWorker"),l=o?"uint8array":"array";n.magic="\b\0",a.inherits(i,s),i.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(l,t.data),!1)},i.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},i.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(t){return new i("Deflate",t)},n.uncompressWorker=function(){return new i("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(t,e,n){function i(t,e,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}function b(t,e){for(var n="",i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n}function o(t,e,n,i,o,r){var a=t.file,s=t.compression,l=r!==w.utf8encode,c=y.transformTo("string",r(a.name)),d=y.transformTo("string",w.utf8encode(a.name)),u=a.comment,r=y.transformTo("string",r(u)),p=y.transformTo("string",w.utf8encode(u)),f=d.length!==a.name.length,u=p.length!==u.length,h="",m=a.dir,g=a.date,v={crc32:0,compressedSize:0,uncompressedSize:0},n=(e&&!n||(v.crc32=t.crc32,v.compressedSize=t.compressedSize,v.uncompressedSize=t.uncompressedSize),0),t=(e&&(n|=8),l||!f&&!u||(n|=2048),0),e=0,g=(m&&(t|=16),"UNIX"===o?(e=798,t|=(l=a.unixPermissions,o=m,(65535&(l?l:o?16893:33204))<<16)):(e=20,t|=63&(a.dosPermissions||0)),m=g.getUTCHours(),m=(m=((m<<=6)|g.getUTCMinutes())<<5)|g.getUTCSeconds()/2,l=g.getUTCFullYear()-1980,l=(l=((l<<=4)|g.getUTCMonth()+1)<<5)|g.getUTCDate(),f&&(o=b(1,1)+b(x(c),4)+d,h+="up"+b(o.length,2)+o),u&&(a=b(1,1)+b(x(r),4)+p,h+="uc"+b(a.length,2)+a),""),g=(g=(g=(g=(g=(g=(g=(g=(g=(g+="\n\0")+b(n,2))+s.magic)+b(m,2))+b(l,2))+b(v.crc32,4))+b(v.compressedSize,4))+b(v.uncompressedSize,4))+b(c.length,2))+b(h.length,2);return{fileRecord:_.LOCAL_FILE_HEADER+g+c+h,dirRecord:_.CENTRAL_FILE_HEADER+b(e,2)+g+b(r.length,2)+"\0\0\0\0"+b(t,4)+b(i,4)+c+h+r}}var y=t("../utils"),r=t("../stream/GenericWorker"),w=t("../utf8"),x=t("../crc32"),_=t("../signature");y.inherits(i,r),i.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,r.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},i.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;e?(t=o(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:t.fileRecord,meta:{percent:0}})):this.accumulate=!0},i.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=o(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:(e=t,_.DATA_DESCRIPTOR+b(e.crc32,4)+b(e.compressedSize,4)+b(e.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,n=function(t,e,n,i,o){o=y.transformTo("string",o(i));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(t,2)+b(t,2)+b(e,4)+b(n,4)+b(o.length,2)+o}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(t){var e=this._sources;if(!r.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},i.prototype.lock=function(){r.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=i},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){var c=t("../compressions"),i=t("./ZipFileWorker");n.generateWorker=function(t,a,e){var s=new i(a.streamFiles,e,a.platform,a.encodeFileName),l=0;try{t.forEach(function(t,e){l++;var n=function(t,e){t=t||e,e=c[t];if(e)return e;throw new Error(t+" is not a valid compression method !")}(e.options.compression,a.compression),i=e.options.compressionOptions||a.compressionOptions||{},o=e.dir,r=e.date;e._compressWorker(n,i).withStreamInfo("file",{name:t,dir:o,date:r,comment:e.comment||"",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(s)}),s.entriesCount=l}catch(t){s.error(t)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t,e=new i;for(t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.1.5",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){var i=t("./utils"),a=t("./external"),s=t("./utf8"),i=t("./utils"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),d=t("./nodejsUtils");e.exports=function(t,o){var r=this;return o=i.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),d.isNode&&d.isStream(t)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,o.optimizedBinaryString,o.base64).then(function(t){var e=new l(o);return e.load(t),e}).then(function(t){var e=[a.Promise.resolve(t)],n=t.files;if(o.checkCRC32)for(var i=0;i<n.length;i++)e.push(function(i){return new a.Promise(function(t,e){var n=i.decompressed.getContentWorker().pipe(new c);n.on("error",function(t){e(t)}).on("end",function(){n.streamInfo.crc32!==i.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}(n[i]));return a.Promise.all(e)}).then(function(t){for(var t=t.shift(),e=t.files,n=0;n<e.length;n++){var i=e[n];r.file(i.fileNameStr,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:o.createFolders})}return t.zipComment.length&&(r.comment=t.zipComment),r})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){function i(t,e){r.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var o=t("../utils"),r=t("../stream/GenericWorker");o.inherits(i,r),i.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},i.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){function i(t,e,n){o.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),n&&n(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}var o=t("readable-stream").Readable;t("../utils").inherits(i,o),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){e.exports={isNode:void 0!==p,newBufferFrom:function(t,e){return new p(t,e)},allocBuffer:function(t){return p.alloc?p.alloc(t):new p(t)},isBuffer:function(t){return p.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){function r(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function a(t){var e=(t="/"===t.slice(-1)?t.substring(0,t.length-1):t).lastIndexOf("/");return 0<e?t.substring(0,e):""}function s(t,e){return e=void 0!==e?e:u.createFolders,t=b(t),this.files[t]||v.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]}var o=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),u=t("./defaults"),p=t("./compressedObject"),f=t("./zipObject"),h=t("./generate"),m=t("./nodejsUtils"),g=t("./nodejs/NodejsStreamInputAdapter"),v=function(t,e,n){var i=l.getTypeOf(e),o=l.extend(n||{},u),r=(o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(t=b(t)),o.createFolders&&(r=a(t))&&s.call(this,r,!0),"string"===i&&!1===o.binary&&!1===o.base64);n&&void 0!==n.binary||(o.binary=!r);(e instanceof p&&0===e.uncompressedSize||o.dir||!e||0===e.length)&&(o.base64=!1,o.binary=!0,e="",o.compression="STORE");i=e instanceof p||e instanceof c?e:m.isNode&&m.isStream(e)?new g(t,e):l.prepareContent(t,e,o.binary,o.optimizedBinaryString,o.base64),n=new f(t,i,o);this.files[t]=n},b=function(t){return"/"!==t.slice(-1)&&(t+="/"),t};e.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i)},filter:function(n){var i=[];return this.forEach(function(t,e){n(t,e)&&i.push(e)}),i},file:function(t,e,n){var i,o;return 1===arguments.length?r(t)?(i=t,this.filter(function(t,e){return!e.dir&&i.test(t)})):(o=this.files[this.root+t])&&!o.dir?o:null:(t=this.root+t,v.call(this,t,e,n),this)},folder:function(n){var t,e;return n?r(n)?this.filter(function(t,e){return e.dir&&n.test(t)}):(t=this.root+n,t=s.call(this,t),(e=this.clone()).root=t.name,e):this},remove:function(n){n=this.root+n;var t=this.files[n];if(t||("/"!==n.slice(-1)&&(n+="/"),t=this.files[n]),t&&!t.dir)delete this.files[n];else for(var e=this.filter(function(t,e){return e.name.slice(0,n.length)===n}),i=0;i<e.length;i++)delete this.files[e[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e={};try{if((e=l.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=e.type.toLowerCase(),e.compression=e.compression.toUpperCase(),"binarystring"===e.type&&(e.type="string"),!e.type)throw new Error("No output type specified.");l.checkSupport(e.type),"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var n=e.comment||this.comment||"",i=h.generateWorker(this,e,n)}catch(t){(i=new c("error")).error(t)}return new d(i,e.type||"string",e.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){function i(t){o.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var o=t("./DataReader");t("../utils").inherits(i,o),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=this.length-4;0<=r;--r)if(this.data[r]===e&&this.data[r+1]===n&&this.data[r+2]===i&&this.data[r+3]===o)return r-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),t=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&t===o[3]},i.prototype.readData=function(t){var e;return this.checkOffset(t),0===t?[]:(e=this.data.slice(this.zero+this.index,this.zero+this.index+t),this.index+=t,e)},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var o=t("../utils");i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return o.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,n){function i(t){o.call(this,t)}var o=t("./Uint8ArrayReader");t("../utils").inherits(i,o),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){function i(t){o.call(this,t)}var o=t("./DataReader");t("../utils").inherits(i,o),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){function i(t){o.call(this,t)}var o=t("./ArrayReader");t("../utils").inherits(i,o),i.prototype.readData=function(t){var e;return this.checkOffset(t),0===t?new Uint8Array(0):(e=this.data.subarray(this.zero+this.index,this.zero+this.index+t),this.index+=t,e)},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){var i=t("../utils"),o=t("../support"),r=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||o.uint8array?"nodebuffer"===e?new s(t):o.uint8array?new l(i.transformTo("uint8array",t)):new r(i.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,n){function i(t){o.call(this,"ConvertWorker to "+t),this.destType=t}var o=t("./GenericWorker"),r=t("../utils");r.inherits(i,o),i.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})},e.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){function i(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var o=t("./GenericWorker"),r=t("../crc32");t("../utils").inherits(i,o),i.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){function i(t){r.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var o=t("../utils"),r=t("./GenericWorker");o.inherits(i,r),i.prototype.processChunk=function(t){var e;t&&(e=this.streamInfo[this.propName]||0,this.streamInfo[this.propName]=e+t.data.length),r.prototype.processChunk.call(this,t)},e.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){function i(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=o.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var o=t("../utils"),r=t("./GenericWorker");o.inherits(i,r),i.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished)||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0)},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){var t;return!(!this.isPaused||this.isFinished||(t=this.isPaused=!1,this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),t))},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,e,n){function i(t,s){return new d.Promise(function(e,n){var i=[],o=t._internalType,r=t._outputType,a=t._mimeType;t.on("data",function(t,e){i.push(t),s&&s(e)}).on("error",function(t){i=[],n(t)}).on("end",function(){try{var t=function(t,e,n){switch(t){case"blob":return l.newBlob(l.transformTo("arraybuffer",e),n);case"base64":return c.encode(e);default:return l.transformTo(t,e)}}(r,function(t,e){for(var n=0,i=null,o=0,r=0;r<e.length;r++)o+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(i=new Uint8Array(o),r=0;r<e.length;r++)i.set(e[r],n),n+=e[r].length;return i;case"nodebuffer":return p.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(o,i),a);e(t)}catch(t){n(t)}i=[]}).resume()})}function o(t,e,n){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=n,l.checkSupport(i),this._worker=t.pipe(new r(i)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}var l=t("../utils"),r=t("./ConvertWorker"),a=t("./GenericWorker"),c=t("../base64"),s=t("../support"),d=t("../external"),u=null;if(s.nodestream)try{u=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}o.prototype={accumulate:function(t){return i(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){l.delay(e,arguments,n)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(l.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==p,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),n.blob=0===o.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,o){function n(){r.call(this,"utf-8 decode"),this.leftOver=null}function i(){r.call(this,"utf-8 encode")}for(var l=t("./utils"),c=t("./support"),d=t("./nodejsUtils"),r=t("./stream/GenericWorker"),u=new Array(256),a=0;a<256;a++)u[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;u[254]=u[254]=1;o.utf8encode=function(t){if(c.nodebuffer)return d.newBufferFrom(t,"utf-8");for(var e,n,i,o,r=t,a=r.length,s=0,l=0;l<a;l++)55296==(64512&(n=r.charCodeAt(l)))&&l+1<a&&56320==(64512&(i=r.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(i-56320),l++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new(c.uint8array?Uint8Array:Array)(s),l=o=0;o<s;l++)55296==(64512&(n=r.charCodeAt(l)))&&l+1<a&&56320==(64512&(i=r.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(i-56320),l++),n<128?e[o++]=n:(n<2048?e[o++]=192|n>>>6:(n<65536?e[o++]=224|n>>>12:(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63),e[o++]=128|n>>>6&63),e[o++]=128|63&n);return e},o.utf8decode=function(t){if(c.nodebuffer)return l.transformTo("nodebuffer",t).toString("utf-8");for(var e,n,i=t=l.transformTo(c.uint8array?"uint8array":"array",t),o=i.length,r=new Array(2*o),a=0,s=0;s<o;)if((e=i[s++])<128)r[a++]=e;else if(4<(n=u[e]))r[a++]=65533,s+=n-1;else{for(e&=2===n?31:3===n?15:7;1<n&&s<o;)e=e<<6|63&i[s++],n--;1<n?r[a++]=65533:e<65536?r[a++]=e:(e-=65536,r[a++]=55296|e>>10&1023,r[a++]=56320|1023&e)}return r.length!==a&&(r.subarray?r=r.subarray(0,a):r.length=a),l.applyFromCharCode(r)},l.inherits(n,r),n.prototype.processChunk=function(t){var e=l.transformTo(c.uint8array?"uint8array":"array",t.data),n=(this.leftOver&&this.leftOver.length&&(c.uint8array?(n=e,(e=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),e.set(n,this.leftOver.length)):e=this.leftOver.concat(e),this.leftOver=null),function(t,e){for(var n=(e=(e=e||t.length)>t.length?t.length:e)-1;0<=n&&128==(192&t[n]);)n--;return!(n<0)&&0!==n&&n+u[t[n]]>e?n:e}(e)),i=e;n!==e.length&&(c.uint8array?(i=e.subarray(0,n),this.leftOver=e.subarray(n,e.length)):(i=e.slice(0,n),this.leftOver=e.slice(n,e.length))),this.push({data:o.utf8decode(i),meta:t.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=n,l.inherits(i,r),i.prototype.processChunk=function(t){this.push({data:o.utf8encode(t.data),meta:t.meta})},o.Utf8EncodeWorker=i},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,a){function n(t){return t}function s(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function i(t){var e=65536,n=a.getTypeOf(t),i=!0;if("uint8array"===n?i=p.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=p.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return p.stringifyByChunk(t,n,e)}catch(t){e=Math.floor(e/2)}return p.stringifyByChar(t)}function o(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var l=t("./support"),c=t("./base64"),r=t("./nodejsUtils"),d=t("core-js/library/fn/set-immediate"),u=t("./external"),p=(a.newBlob=function(e,n){a.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},{stringifyByChunk:function(t,e,n){var i=[],o=0,r=t.length;if(r<=n)return String.fromCharCode.apply(null,t);for(;o<r;)i.push("array"===e||"nodebuffer"===e?String.fromCharCode.apply(null,t.slice(o,Math.min(o+n,r))):String.fromCharCode.apply(null,t.subarray(o,Math.min(o+n,r)))),o+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}}),f=(a.applyFromCharCode=i,{});f.string={string:n,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:function(t){return s(t,r.allocBuffer(t.length))}},f.array={string:i,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},f.arraybuffer={string:function(t){return i(new Uint8Array(t))},array:function(t){return o(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:i,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return r.newBufferFrom(t)}},f.nodebuffer={string:i,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:n},a.transformTo=function(t,e){if(e=e||"",!t)return e;a.checkSupport(t);var n=a.getTypeOf(e);return f[n][t](e)},a.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":l.nodebuffer&&r.isBuffer(t)?"nodebuffer":l.uint8array&&t instanceof Uint8Array?"uint8array":l.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(t){if(!l[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(t){for(var e,n="",i=0;i<(t||"").length;i++)n+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return n},a.delay=function(t,e,n){d(function(){t.apply(n||null,e||[])})},a.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},a.extend=function(){for(var t,e={},n=0;n<arguments.length;n++)for(t in arguments[n])arguments[n].hasOwnProperty(t)&&void 0===e[t]&&(e[t]=arguments[n][t]);return e},a.prepareContent=function(n,t,i,o,r){return u.Promise.resolve(t).then(function(i){return l.blob&&(i instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(i)))&&"undefined"!=typeof FileReader?new u.Promise(function(e,n){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)},t.readAsArrayBuffer(i)}):i}).then(function(t){var e=a.getTypeOf(t);return e?("arraybuffer"===e?t=a.transformTo("uint8array",t):"string"===e&&(r?t=c.decode(t):i&&!0!==o&&(t=s(e=t,new(l.uint8array?Uint8Array:Array)(e.length)))),t):u.Promise.reject(new Error("Can't read the data of '"+n+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(t,e,n){function i(t){this.files=[],this.loadOptions=t}var o=t("./reader/readerFor"),r=t("./utils"),a=t("./signature"),s=t("./zipEntry"),l=(t("./utf8"),t("./support"));i.prototype={checkSignature:function(t){var e;if(!this.reader.readAndCheckSignature(t))throw this.reader.index-=4,e=this.reader.readString(4),new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);t=this.reader.readString(4)===e;return this.reader.setIndex(n),t},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=l.uint8array?"uint8array":"array",e=r.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){for(var t,e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}t=this.centralDirOffset+this.centralDirSize,t=e-(t=this.zip64?t+20+(12+this.zip64EndOfCentralSize):t);if(0<t)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=t);else if(t<0)throw new Error("Corrupted zip: missing "+Math.abs(t)+" bytes.")},prepareReader:function(t){this.reader=o(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=i},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){function i(t,e){this.options=t,this.loadOptions=e}var o=t("./reader/readerFor"),r=t("./utils"),a=t("./compressedObject"),s=t("./crc32"),l=t("./utf8"),c=t("./compressions"),d=t("./support");i.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e;if(t.skip(22),this.fileNameLength=t.readInt(2),e=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(e),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){var e;this.extraFields[1]&&(e=o(this.extraFields[1].value),this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS)&&(this.diskNumberStart=e.readInt(4))},readExtraFields:function(t){var e,n,i,o=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<o;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t,e=d.uint8array?"uint8array":"array";this.useUTF8()?(this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment)):(null!==(t=this.findExtraFieldUnicodePath())?this.fileNameStr=t:(t=r.transformTo(e,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(t)),null!==(t=this.findExtraFieldUnicodeComment())?this.fileCommentStr=t:(t=r.transformTo(e,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(t)))},findExtraFieldUnicodePath:function(){var t,e=this.extraFields[28789];return!e||1!==(t=o(e.value)).readInt(1)||s(this.fileName)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))},findExtraFieldUnicodeComment:function(){var t,e=this.extraFields[25461];return!e||1!==(t=o(e.value)).readInt(1)||s(this.fileComment)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}},e.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){function i(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),l=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n,o=("binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker(),!this._dataBinary);o&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!o&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new l("error")).error(t)}return new r(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){var n;return this._data instanceof s&&this._data.compression.magic===t.magic?this._data.getCompressedWorker():(n=this._decompressWorker(),this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e))},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)i.prototype[c[u]]=d;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],38:[function(t,e,n){var i=t("./_is-object");e.exports=function(t){if(i(t))return t;throw TypeError(t+" is not an object!")}},{"./_is-object":51}],39:[function(t,e,n){var i={}.toString;e.exports=function(t){return i.call(t).slice(8,-1)}},{}],40:[function(t,e,n){e=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=e)},{}],41:[function(t,e,n){var r=t("./_a-function");e.exports=function(i,o,t){if(r(i),void 0===o)return i;switch(t){case 1:return function(t){return i.call(o,t)};case 2:return function(t,e){return i.call(o,t,e)};case 3:return function(t,e,n){return i.call(o,t,e,n)}}return function(){return i.apply(o,arguments)}}},{"./_a-function":37}],42:[function(t,e,n){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(t,e,n){var i=t("./_is-object"),o=t("./_global").document,r=i(o)&&i(o.createElement);e.exports=function(t){return r?o.createElement(t):{}}},{"./_global":46,"./_is-object":51}],44:[function(t,e,n){function m(t,e,n){var i,o,r,a=t&m.F,s=t&m.G,l=t&m.S,c=t&m.P,d=t&m.B,u=t&m.W,p=s?v:v[e]||(v[e]={}),f=p[w],h=s?g:l?g[e]:(g[e]||{})[w];for(i in n=s?e:n)(o=!a&&h&&void 0!==h[i])&&i in p||(r=(o?h:n)[i],p[i]=s&&"function"!=typeof h[i]?n[i]:d&&o?b(r,g):u&&h[i]==r?function(i){function t(t,e,n){if(this instanceof i){switch(arguments.length){case 0:return new i;case 1:return new i(t);case 2:return new i(t,e)}return new i(t,e,n)}return i.apply(this,arguments)}return t[w]=i[w],t}(r):c&&"function"==typeof r?b(Function.call,r):r,c&&((p.virtual||(p.virtual={}))[i]=r,t&m.R)&&f&&!f[i]&&y(f,i,r))}var g=t("./_global"),v=t("./_core"),b=t("./_ctx"),y=t("./_hide"),w="prototype";m.F=1,m.G=2,m.S=4,m.P=8,m.B=16,m.W=32,m.U=64,m.R=128,e.exports=m},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],46:[function(t,e,n){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},{}],47:[function(t,e,n){var i=t("./_object-dp"),o=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(t,e,n){e.exports=t("./_global").document&&document.documentElement},{"./_global":46}],49:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(t,e,n){e.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],51:[function(t,e,n){e.exports=function(t){return"object"==(void 0===t?"undefined":m(t))?null!==t:"function"==typeof t}},{}],52:[function(t,e,n){var i=t("./_an-object"),o=t("./_ie8-dom-define"),r=t("./_to-primitive"),a=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],54:[function(t,e,n){function i(){var t,e=+this;g.hasOwnProperty(e)&&(t=g[e],delete g[e],t())}function o(t){i.call(t.data)}var r,a=t("./_ctx"),s=t("./_invoke"),l=t("./_html"),c=t("./_dom-create"),d=t("./_global"),u=d.process,p=d.setImmediate,f=d.clearImmediate,h=d.MessageChannel,m=0,g={},v="onreadystatechange";p&&f||(p=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return g[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},f=function(t){delete g[t]},"process"==t("./_cof")(u)?r=function(t){u.nextTick(a(i,t,1))}:h?(h=(t=new h).port2,t.port1.onmessage=o,r=a(h.postMessage,h,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(r=function(t){d.postMessage(t+"","*")},d.addEventListener("message",o,!1)):r=v in c("script")?function(t){l.appendChild(c("script"))[v]=function(){l.removeChild(this),i.call(t)}}:function(t){setTimeout(a(i,t,1),0)}),e.exports={set:p,clear:f}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(t,e,n){var o=t("./_is-object");e.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t))||"function"==typeof(n=t.valueOf)&&!o(i=n.call(t))||!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(t,e,n){var i=t("./_export"),t=t("./_task");i(i.G+i.B,{setImmediate:t.set,clearImmediate:t.clear})},{"./_export":44,"./_task":54}],57:[function(t,c,e){!function(e){function n(){r=!0;for(var t,e,n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}r=!1}var t,i,o,r,a=e.MutationObserver||e.WebKitMutationObserver,s=a?(t=0,a=new a(n),i=e.document.createTextNode(""),a.observe(i,{characterData:!0}),function(){i.data=t=++t%2}):e.setImmediate||void 0===e.MessageChannel?"document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)}:((o=new e.MessageChannel).port1.onmessage=n,function(){o.port2.postMessage(0)}),l=[];c.exports=function(t){1!==l.push(t)||r||s()}}.call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(t,e,n){function c(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,t!==c&&s(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function r(e,n,i){d(function(){var t;try{t=n(i)}catch(t){return u.reject(e,t)}t===e?u.reject(e,new TypeError("Cannot resolve promise with itself")):u.resolve(e,t)})}function a(t){var e=t&&t.then;if(t&&("object"==(void 0===t?"undefined":m(t))||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function s(e,t){function n(t){o||(o=!0,u.reject(e,t))}function i(t){o||(o=!0,u.resolve(e,t))}var o=!1,r=l(function(){t(i,n)});"error"===r.status&&n(r.value)}function l(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}var d=t("immediate"),u={},p=["REJECTED"],f=["FULFILLED"],h=["PENDING"];(e.exports=i).prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n;return"function"!=typeof t&&this.state===f||"function"!=typeof e&&this.state===p?this:(n=new this.constructor(c),this.state!==h?r(n,this.state===f?t:e,this.outcome):this.queue.push(new o(n,t,e)),n)},o.prototype.callFulfilled=function(t){u.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){r(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){u.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){r(this.promise,this.onRejected,t)},u.resolve=function(t,e){var n=l(a,e);if("error"===n.status)return u.reject(t,n.value);n=n.value;if(n)s(t,n);else{t.state=f,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},u.reject=function(t,e){t.state=p,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},i.resolve=function(t){return t instanceof this?t:u.resolve(new this(c),t)},i.reject=function(t){var e=new this(c);return u.reject(e,t)},i.all=function(t){function e(t,e){n.resolve(t).then(function(t){r[e]=t,++a!==i||o||(o=!0,u.resolve(l,r))},function(t){o||(o=!0,u.reject(l,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var r=new Array(i),a=0,s=-1,l=new this(c);++s<i;)e(t[s],s);return l},i.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o,r=-1,a=new this(c);++r<n;)o=t[r],e.resolve(o).then(function(t){i||(i=!0,u.resolve(a,t))},function(t){i||(i=!0,u.reject(a,t))});return a}},{immediate:57}],59:[function(t,e,n){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(t,e,n){function i(t){if(!(this instanceof i))return new i(t);this.options=s.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});t=this.options;if(t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,(this.strm.avail_out=0)!==(e=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy)))throw new Error(r[e]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var e,t="string"==typeof t.dictionary?l.string2buf(t.dictionary):"[object ArrayBuffer]"===d.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary;if(0!==(e=a.deflateSetDictionary(this.strm,t)))throw new Error(r[e]);this._dict_set=!0}}function o(t,e){e=new i(e);if(e.push(t,!0),e.err)throw e.msg||r[e.err];return e.result}var a=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),r=t("./zlib/messages"),c=t("./zlib/zstream"),d=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,o=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=l.string2buf(t):"[object ArrayBuffer]"===d.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new s.Buf8(r),o.next_out=0,o.avail_out=r),1!==(n=a.deflate(o,i))&&0!==n)return this.onEnd(n),!(this.ended=!0)}while(0!==o.avail_out&&(0!==o.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(l.buf2binstring(s.shrinkBuf(o.output,o.next_out))):this.onData(s.shrinkBuf(o.output,o.next_out))),(0<o.avail_in||0===o.avail_out)&&1!==n);return 4===i?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==i||(this.onEnd(0),!(o.avail_out=0))},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=i,n.deflate=o,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,o(t,e)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(t,e,n){function i(t){if(!(this instanceof i))return new i(t);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options,t=(e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits)&&(e.windowBits=-15),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0,u.inflateInit2(this.strm,e.windowBits));if(t!==h.Z_OK)throw new Error(r[t]);this.header=new s,u.inflateGetHeader(this.strm,this.header)}function o(t,e){e=new i(e);if(e.push(t,!0),e.err)throw e.msg||r[e.err];return e.result}var u=t("./zlib/inflate"),p=t("./utils/common"),f=t("./utils/strings"),h=t("./zlib/constants"),r=t("./zlib/messages"),a=t("./zlib/zstream"),s=t("./zlib/gzheader"),m=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,o,r,a,s=this.strm,l=this.options.chunkSize,c=this.options.dictionary,d=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?h.Z_FINISH:h.Z_NO_FLUSH,"string"==typeof t?s.input=f.binstring2buf(t):"[object ArrayBuffer]"===m.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new p.Buf8(l),s.next_out=0,s.avail_out=l),(n=u.inflate(s,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&c&&(a="string"==typeof c?f.string2buf(c):"[object ArrayBuffer]"===m.call(c)?new Uint8Array(c):c,n=u.inflateSetDictionary(this.strm,a)),n===h.Z_BUF_ERROR&&!0===d&&(n=h.Z_OK,d=!1),n!==h.Z_STREAM_END&&n!==h.Z_OK)return this.onEnd(n),!(this.ended=!0)}while(!s.next_out||0!==s.avail_out&&n!==h.Z_STREAM_END&&(0!==s.avail_in||i!==h.Z_FINISH&&i!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(a=f.utf8border(s.output,s.next_out),o=s.next_out-a,r=f.buf2string(s.output,a),s.next_out=o,s.avail_out=l-o,o&&p.arraySet(s.output,s.output,a,o,0),this.onData(r)):this.onData(p.shrinkBuf(s.output,s.next_out))),0===s.avail_in&&0===s.avail_out&&(d=!0),(0<s.avail_in||0===s.avail_out)&&n!==h.Z_STREAM_END);return(i=n===h.Z_STREAM_END?h.Z_FINISH:i)===h.Z_FINISH?(n=u.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h.Z_OK):i!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(s.avail_out=0))},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=i,n.inflate=o,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},n.ungzip=o},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(t,e,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,o=(n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=(void 0===n?"undefined":m(n)))throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)},{arraySet:function(t,e,n,i,o){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),o);else for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){for(var e,n,i,o=0,r=0,a=t.length;r<a;r++)o+=t[r].length;for(i=new Uint8Array(o),r=e=0,a=t.length;r<a;r++)n=t[r],i.set(n,e),e+=n.length;return i}}),r={arraySet:function(t,e,n,i,o){for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(i)},{}],63:[function(t,e,n){function l(t,e){if(e<65537&&(t.subarray&&r||!t.subarray&&o))return String.fromCharCode.apply(null,c.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}var c=t("./common"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var d=new c.Buf8(256),i=0;i<256;i++)d[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;d[254]=d[254]=1,n.string2buf=function(t){for(var e,n,i,o,r=t.length,a=0,s=0;s<r;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<r&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new c.Buf8(a),s=o=0;o<a;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<r&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?e[o++]=n:(n<2048?e[o++]=192|n>>>6:(n<65536?e[o++]=224|n>>>12:(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63),e[o++]=128|n>>>6&63),e[o++]=128|63&n);return e},n.buf2binstring=function(t){return l(t,t.length)},n.binstring2buf=function(t){for(var e=new c.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){for(var n,i,o=e||t.length,r=new Array(2*o),a=0,s=0;s<o;)if((n=t[s++])<128)r[a++]=n;else if(4<(i=d[n]))r[a++]=65533,s+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&s<o;)n=n<<6|63&t[s++],i--;1<i?r[a++]=65533:n<65536?r[a++]=n:(n-=65536,r[a++]=55296|n>>10&1023,r[a++]=56320|1023&n)}return l(r,a)},n.utf8border=function(t,e){for(var n=(e=(e=e||t.length)>t.length?t.length:e)-1;0<=n&&128==(192&t[n]);)n--;return!(n<0)&&0!==n&&n+d[t[n]]>e?n:e}},{"./common":62}],64:[function(t,e,n){e.exports=function(t,e,n,i){for(var o=65535&t|0,r=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;r=r+(o=o+e[i++]|0)|0,--a;);o%=65521,r%=65521}return o|r<<16|0}},{}],65:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(t,e,n){var s=function(){for(var t=[],e=0;e<256;e++){for(var n=e,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t}();e.exports=function(t,e,n,i){var o=s,r=i+n;t^=-1;for(var a=i;a<r;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},{}],67:[function(t,I,e){function l(t,e){return t.msg=N[e],e}function s(t){return(t<<1)-(4<t?9:0)}function d(t){for(var e=t.length;0<=--e;)t[e]=0}function c(t){var e=t.state,n=e.pending;0!==(n=n>t.avail_out?t.avail_out:n)&&(v.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending)&&(e.pending_out=0)}function u(t,e){b._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,c(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function f(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function r(t,e){var n,i,o=t.max_chain_length,r=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-j?t.strstart-(t.w_size-j):0,c=t.window,d=t.w_mask,u=t.prev,p=t.strstart+T,f=c[r+a-1],h=c[r+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+a]===h&&c[n+a-1]===f&&c[n]===c[r]&&c[++n]===c[r+1]){for(r+=2,n++;c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&r<p;);if(i=T-(p-r),r=p-T,a<i){if(t.match_start=e,s<=(a=i))break;f=c[r+a-1],h=c[r+a]}}}while((e=u[e&d])>l&&0!=--o);return a<=t.lookahead?a:t.lookahead}function h(t){var e,n,i,o,r,a,s,l,c,d=t.w_size;do{if(l=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-j)){for(v.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=n=t.hash_size;i=t.head[--e],t.head[e]=d<=i?i-d:0,--n;);for(e=n=d;i=t.prev[--e],t.prev[e]=d<=i?i-d:0,--n;);l+=d}if(0===t.strm.avail_in)break;if(r=t.strm,a=t.window,s=t.strstart+t.lookahead,l=l,c=void 0,c=r.avail_in,n=0===(c=l<c?l:c)?0:(r.avail_in-=c,v.arraySet(a,r.input,r.next_in,c,s),1===r.state.wrap?r.adler=B(r.adler,a,c,s):2===r.state.wrap&&(r.adler=y(r.adler,a,c,s)),r.next_in+=c,r.total_in+=c,c),t.lookahead+=n,t.lookahead+t.insert>=P)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+P-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<P)););}while(t.lookahead<j&&0!==t.strm.avail_in)}function n(t,e){for(var n,i;;){if(t.lookahead<j){if(h(t),t.lookahead<j&&e===w)return L;if(0===t.lookahead)break}if(n=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-j&&(t.match_length=r(t,n)),t.match_length>=P)if(i=b._tr_tally(t,t.strstart-t.match_start,t.match_length-P),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=P){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=b._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(u(t,!1),0===t.strm.avail_out))return L}return t.insert=t.strstart<P-1?t.strstart:P-1,e===x?(u(t,!0),0===t.strm.avail_out?$:D):t.last_lit&&(u(t,!1),0===t.strm.avail_out)?L:O}function i(t,e){for(var n,i,o;;){if(t.lookahead<j){if(h(t),t.lookahead<j&&e===w)return L;if(0===t.lookahead)break}if(n=0,t.lookahead>=P&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=P-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-j&&(t.match_length=r(t,n),t.match_length<=5)&&(1===t.strategy||t.match_length===P&&4096<t.strstart-t.match_start)&&(t.match_length=P-1),t.prev_length>=P&&t.match_length<=t.prev_length){for(o=t.strstart+t.lookahead-P,i=b._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-P),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+P-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=P-1,t.strstart++,i&&(u(t,!1),0===t.strm.avail_out))return L}else if(t.match_available){if((i=b._tr_tally(t,0,t.window[t.strstart-1]))&&u(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return L}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=b._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<P-1?t.strstart:P-1,e===x?(u(t,!0),0===t.strm.avail_out?$:D):t.last_lit&&(u(t,!1),0===t.strm.avail_out)?L:O}function o(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(2*V),this.dyn_dtree=new v.Buf16(2*(2*W+1)),this.bl_tree=new v.Buf16(2*(2*q+1)),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(G+1),this.heap=new v.Buf16(2*C+1),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(2*C+1),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function a(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=H,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?E:A,t.adler=2===e.wrap?0:1,e.last_flush=w,b._tr_init(e),_):l(t,k)}function m(t){var e=a(t);return e===_&&((t=t.state).window_size=2*t.w_size,d(t.head),t.max_lazy_match=F[t.level].max_lazy,t.good_match=F[t.level].good_length,t.nice_match=F[t.level].nice_length,t.max_chain_length=F[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=P-1,t.match_available=0,t.ins_h=0),e}function g(t,e,n,i,o,r){if(!t)return k;var a=1;if(e===R&&(e=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),o<1||z<o||n!==S||i<8||15<i||e<0||9<e||r<0||U<r)return l(t,k);8===i&&(i=9);var s=new M;return(t.state=s).strm=t,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+P-1)/P),s.window=new v.Buf8(2*s.w_size),s.head=new v.Buf16(s.hash_size),s.prev=new v.Buf16(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new v.Buf8(s.pending_buf_size),s.d_buf=+s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=r,s.method=n,m(t)}var v=t("../utils/common"),b=t("./trees"),B=t("./adler32"),y=t("./crc32"),N=t("./messages"),w=0,x=4,_=0,k=-2,R=-1,U=4,H=2,S=8,z=9,C=286,W=30,q=19,V=2*C+1,G=15,P=3,T=258,j=T+P+1,E=42,A=113,L=1,O=2,$=3,D=4,F=[new o(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===w)return L;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,u(t,!1),0===t.strm.avail_out))return L;if(t.strstart-t.block_start>=t.w_size-j&&(u(t,!1),0===t.strm.avail_out))return L}return t.insert=0,e===x?(u(t,!0),0===t.strm.avail_out?$:D):(t.strstart>t.block_start&&(u(t,!1),t.strm.avail_out),L)}),new o(4,4,8,4,n),new o(4,5,16,8,n),new o(4,6,32,32,n),new o(4,4,16,16,i),new o(8,16,32,32,i),new o(8,16,128,128,i),new o(8,32,128,256,i),new o(32,128,258,1024,i),new o(32,258,258,4096,i)];e.deflateInit=function(t,e){return g(t,e,S,15,8,0)},e.deflateInit2=g,e.deflateReset=m,e.deflateResetKeep=a,e.deflateSetHeader=function(t,e){return!t||!t.state||2!==t.state.wrap?k:(t.state.gzhead=e,_)},e.deflate=function(t,e){var n,i,o,r;if(!t||!t.state||5<e||e<0)return t?l(t,k):k;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==x)return l(t,0===t.avail_out?-5:k);if(i.strm=t,n=i.last_flush,i.last_flush=e,i.status===E&&(2===i.wrap?(t.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=y(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),p(i,3),i.status=A)):(a=S+(i.w_bits-8<<4)<<8,a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=A,f(i,a),0!==i.strstart&&(f(i,t.adler>>>16),f(i,65535&t.adler)),t.adler=1)),69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(t.adler=y(t.adler,i.pending_buf,i.pending-o,o)),c(t),o=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(t.adler=y(t.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=y(t.adler,i.pending_buf,i.pending-o,o)),c(t),o=i.pending,i.pending===i.pending_buf_size)){r=1;break}}while(r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,r),0!==r);i.gzhead.hcrc&&i.pending>o&&(t.adler=y(t.adler,i.pending_buf,i.pending-o,o)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=y(t.adler,i.pending_buf,i.pending-o,o)),c(t),o=i.pending,i.pending===i.pending_buf_size)){r=1;break}}while(r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,r),0!==r);i.gzhead.hcrc&&i.pending>o&&(t.adler=y(t.adler,i.pending_buf,i.pending-o,o)),0===r&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&c(t),i.pending+2<=i.pending_buf_size&&(p(i,255&t.adler),p(i,t.adler>>8&255),t.adler=0,i.status=A)):i.status=A),0!==i.pending){if(c(t),0===t.avail_out)return i.last_flush=-1,_}else if(0===t.avail_in&&s(e)<=s(n)&&e!==x)return l(t,-5);if(666===i.status&&0!==t.avail_in)return l(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==w&&666!==i.status){var a=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===w)return L;break}if(t.match_length=0,n=b._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(u(t,!1),0===t.strm.avail_out))return L}return t.insert=0,e===x?(u(t,!0),0===t.strm.avail_out?$:D):t.last_lit&&(u(t,!1),0===t.strm.avail_out)?L:O}(i,e):3===i.strategy?function(t,e){for(var n,i,o,r,a=t.window;;){if(t.lookahead<=T){if(h(t),t.lookahead<=T&&e===w)return L;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=P&&0<t.strstart&&(i=a[o=t.strstart-1])===a[++o]&&i===a[++o]&&i===a[++o]){for(r=t.strstart+T;i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&o<r;);t.match_length=T-(r-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=P?(n=b._tr_tally(t,1,t.match_length-P),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=b._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(u(t,!1),0===t.strm.avail_out))return L}return t.insert=0,e===x?(u(t,!0),0===t.strm.avail_out?$:D):t.last_lit&&(u(t,!1),0===t.strm.avail_out)?L:O}(i,e):F[i.level].func(i,e);if(a!==$&&a!==D||(i.status=666),a===L||a===$)return 0===t.avail_out&&(i.last_flush=-1),_;if(a===O&&(1===e?b._tr_align(i):5!==e&&(b._tr_stored_block(i,0,0,!1),3===e)&&(d(i.head),0===i.lookahead)&&(i.strstart=0,i.block_start=0,i.insert=0),c(t),0===t.avail_out))return i.last_flush=-1,_}return e!==x||!(i.wrap<=0)&&(2===i.wrap?(p(i,255&t.adler),p(i,t.adler>>8&255),p(i,t.adler>>16&255),p(i,t.adler>>24&255),p(i,255&t.total_in),p(i,t.total_in>>8&255),p(i,t.total_in>>16&255),p(i,t.total_in>>24&255)):(f(i,t.adler>>>16),f(i,65535&t.adler)),c(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending)?_:1},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==E&&69!==e&&73!==e&&91!==e&&103!==e&&e!==A&&666!==e?l(t,k):(t.state=null,e===A?l(t,-3):_):k},e.deflateSetDictionary=function(t,e){var n,i,o,r,a,s,l,c=e.length;if(!t||!t.state)return k;if(2===(r=(n=t.state).wrap)||1===r&&n.status!==E||n.lookahead)return k;for(1===r&&(t.adler=B(t.adler,e,c,0)),n.wrap=0,c>=n.w_size&&(0===r&&(d(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new v.Buf8(n.w_size),v.arraySet(l,e,c-n.w_size,n.w_size,0),e=l,c=n.w_size),l=t.avail_in,a=t.next_in,s=t.input,t.avail_in=c,t.next_in=0,t.input=e,h(n);n.lookahead>=P;){for(i=n.strstart,o=n.lookahead-(P-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+P-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--o;);n.strstart=i,n.lookahead=P-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=P-1,n.match_available=0,t.next_in=a,t.input=s,t.avail_in=l,n.wrap=r,_},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(t,e,n){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],69:[function(t,e,n){e.exports=function(t,e){var n,i,o,r,a,s,l=t.state,c=t.next_in,d=t.input,u=c+(t.avail_in-5),p=t.next_out,f=t.output,h=p-(e-t.avail_out),m=p+(t.avail_out-257),g=l.dmax,v=l.wsize,b=l.whave,y=l.wnext,w=l.window,x=l.hold,_=l.bits,k=l.lencode,S=l.distcode,C=(1<<l.lenbits)-1,P=(1<<l.distbits)-1;t:do{for(_<15&&(x+=d[c++]<<_,_+=8,x+=d[c++]<<_,_+=8),n=k[x&C];;){if(x>>>=i=n>>>24,_-=i,0===(i=n>>>16&255))f[p++]=65535&n;else{if(!(16&i)){if(0==(64&i)){n=k[(65535&n)+(x&(1<<i)-1)];continue}if(32&i){l.mode=12;break t}t.msg="invalid literal/length code",l.mode=30;break t}for(o=65535&n,(i&=15)&&(_<i&&(x+=d[c++]<<_,_+=8),o+=x&(1<<i)-1,x>>>=i,_-=i),_<15&&(x+=d[c++]<<_,_+=8,x+=d[c++]<<_,_+=8),n=S[x&P];;){if(x>>>=i=n>>>24,_-=i,!(16&(i=n>>>16&255))){if(0==(64&i)){n=S[(65535&n)+(x&(1<<i)-1)];continue}t.msg="invalid distance code",l.mode=30;break t}if(r=65535&n,_<(i&=15)&&(x+=d[c++]<<_,(_+=8)<i)&&(x+=d[c++]<<_,_+=8),g<(r+=x&(1<<i)-1)){t.msg="invalid distance too far back",l.mode=30;break t}if(x>>>=i,_-=i,(i=p-h)<r){if(b<(i=r-i)&&l.sane){t.msg="invalid distance too far back",l.mode=30;break t}if(s=w,(a=0)===y){if(a+=v-i,i<o){for(o-=i;f[p++]=w[a++],--i;);a=p-r,s=f}}else if(y<i){if(a+=v+y-i,(i-=y)<o){for(o-=i;f[p++]=w[a++],--i;);if(a=0,y<o){for(o-=i=y;f[p++]=w[a++],--i;);a=p-r,s=f}}}else if(a+=y-i,i<o){for(o-=i;f[p++]=w[a++],--i;);a=p-r,s=f}for(;2<o;)f[p++]=s[a++],f[p++]=s[a++],f[p++]=s[a++],o-=3;o&&(f[p++]=s[a++],1<o)&&(f[p++]=s[a++])}else{for(a=p-r;f[p++]=f[a++],f[p++]=f[a++],f[p++]=f[a++],2<(o-=3););o&&(f[p++]=f[a++],1<o)&&(f[p++]=f[a++])}break}}break}}while(c<u&&p<m);x&=(1<<(_-=(o=_>>3)<<3))-1,t.next_in=c-=o,t.next_out=p,t.avail_in=c<u?u-c+5:5-(c-u),t.avail_out=p<m?m-p+257:257-(p-m),l.hold=x,l.bits=_}},{}],70:[function(t,e,n){function L(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new F.Buf16(320),this.work=new F.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=W,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new F.Buf32(l),e.distcode=e.distdyn=new F.Buf32(c),e.sane=1,e.back=-1,H):z}function r(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,o(t)):z}function a(t,e){var n,i;return!t||!t.state||(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e))?z:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,r(t))}function s(t,e){var n;return t?(n=new i,(t.state=n).window=null,(n=a(t,e))!==H&&(t.state=null),n):z}function O(t,e,n,i){var o,t=t.state;return null===t.window&&(t.wsize=1<<t.wbits,t.wnext=0,t.whave=0,t.window=new F.Buf8(t.wsize)),i>=t.wsize?(F.arraySet(t.window,e,n-t.wsize,t.wsize,0),t.wnext=0,t.whave=t.wsize):(i<(o=t.wsize-t.wnext)&&(o=i),F.arraySet(t.window,e,n-i,o,t.wnext),(i-=o)?(F.arraySet(t.window,e,n-i,i,0),t.wnext=i,t.whave=t.wsize):(t.wnext+=o,t.wnext===t.wsize&&(t.wnext=0),t.whave<t.wsize&&(t.whave+=o))),0}var $,D,F=t("../utils/common"),I=t("./adler32"),M=t("./crc32"),B=t("./inffast"),N=t("./inftrees"),R=1,U=2,H=0,z=-2,W=1,l=852,c=592,q=!0;n.inflateReset=r,n.inflateReset2=a,n.inflateResetKeep=o,n.inflateInit=function(t){return s(t,15)},n.inflateInit2=s,n.inflate=function(t,e){var n,i,o,r,a,s,l,c,d,u,p,f,h,m,g,v,b,y,w,x,_,k,S,C,P=0,T=new F.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return z;12===(n=t.state).mode&&(n.mode=13),a=t.next_out,o=t.output,l=t.avail_out,r=t.next_in,i=t.input,s=t.avail_in,c=n.hold,d=n.bits,u=s,p=l,k=H;t:for(;;)switch(n.mode){case W:if(0===n.wrap)n.mode=13;else{for(;d<16;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}if(2&n.wrap&&35615===c)T[n.check=0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0),d=c=0,n.mode=2;else if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31)t.msg="incorrect header check",n.mode=30;else if(8!=(15&c))t.msg="unknown compression method",n.mode=30;else{if(d-=4,_=8+(15&(c>>>=4)),0===n.wbits)n.wbits=_;else if(_>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<_,t.adler=n.check=1,n.mode=512&c?10:12,d=c=0}}break;case 2:for(;d<16;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}if(n.flags=c,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0)),d=c=0,n.mode=3;case 3:for(;d<32;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,n.check=M(n.check,T,4,0)),d=c=0,n.mode=4;case 4:for(;d<16;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0)),d=c=0,n.mode=5;case 5:if(1024&n.flags){for(;d<16;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0)),d=c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=s<(f=n.length)?s:f)&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),F.arraySet(n.head.extra,i,r,f,_)),512&n.flags&&(n.check=M(n.check,i,f,r)),s-=f,r+=f,n.length-=f),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break t;for(f=0;_=i[r+f++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_)),_&&f<s;);if(512&n.flags&&(n.check=M(n.check,i,f,r)),s-=f,r+=f,_)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break t;for(f=0;_=i[r+f++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_)),_&&f<s;);if(512&n.flags&&(n.check=M(n.check,i,f,r)),s-=f,r+=f,_)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;d<16;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}if(c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}d=c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;d<32;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}t.adler=n.check=L(c),d=c=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=a,t.avail_out=l,t.next_in=r,t.avail_in=s,n.hold=c,n.bits=d,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last)c>>>=7&d,d-=7&d,n.mode=27;else{for(;d<3;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}switch(n.last=1&c,--d,3&(c>>>=1)){case 0:n.mode=14;break;case 1:E=A=void 0;var E,A=n;if(q){for($=new F.Buf32(512),D=new F.Buf32(32),E=0;E<144;)A.lens[E++]=8;for(;E<256;)A.lens[E++]=9;for(;E<280;)A.lens[E++]=7;for(;E<288;)A.lens[E++]=8;for(N(R,A.lens,0,288,$,0,A.work,{bits:9}),E=0;E<32;)A.lens[E++]=5;N(U,A.lens,0,32,D,0,A.work,{bits:5}),q=!1}if(A.lencode=$,A.lenbits=9,A.distcode=D,A.distbits=5,n.mode=20,6!==e)break;c>>>=2,d-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}c>>>=2,d-=2}break;case 14:for(c>>>=7&d,d-=7&d;d<32;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,d=c=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(f=n.length){if(0===(f=l<(f=s<f?s:f)?l:f))break t;F.arraySet(o,i,r,f,a),s-=f,r+=f,l-=f,a+=f,n.length-=f}else n.mode=12;break;case 17:for(;d<14;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;d<3;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}n.lens[j[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S={bits:n.lenbits},k=N(0,n.lens,0,19,n.lencode,0,n.work,S),n.lenbits=S.bits,k){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(P=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&P,!((g=P>>>24)<=d);){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}if(b<16)c>>>=g,d-=g,n.lens[n.have++]=b;else{if(16===b){for(C=g+2;d<C;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}if(c>>>=g,d-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}_=n.lens[n.have-1],f=3+(3&c),c>>>=2,d-=2}else if(17===b){for(C=g+3;d<C;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}_=0,f=3+(7&(c>>>=g)),c>>>=3,d=d-g-3}else{for(C=g+7;d<C;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}_=0,f=11+(127&(c>>>=g)),c>>>=7,d=d-g-7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;f--;)n.lens[n.have++]=_}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,S={bits:n.lenbits},k=N(R,n.lens,0,n.nlen,n.lencode,0,n.work,S),n.lenbits=S.bits,k){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,S={bits:n.distbits},k=N(U,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,S),n.distbits=S.bits,k){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=s&&258<=l){t.next_out=a,t.avail_out=l,t.next_in=r,t.avail_in=s,n.hold=c,n.bits=d,B(t,p),a=t.next_out,o=t.output,l=t.avail_out,r=t.next_in,i=t.input,s=t.avail_in,c=n.hold,d=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;v=(P=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&P,!((g=P>>>24)<=d);){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}if(v&&0==(240&v)){for(y=g,w=v,x=b;v=(P=n.lencode[x+((c&(1<<y+w)-1)>>y)])>>>16&255,b=65535&P,!(y+(g=P>>>24)<=d);){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,n.length=b,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=12;break}if(64&v){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(C=n.extra;d<C;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(P=n.distcode[c&(1<<n.distbits)-1])>>>16&255,b=65535&P,!((g=P>>>24)<=d);){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}if(0==(240&v)){for(y=g,w=v,x=b;v=(P=n.distcode[x+((c&(1<<y+w)-1)>>y)])>>>16&255,b=65535&P,!(y+(g=P>>>24)<=d);){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,64&v){t.msg="invalid distance code",n.mode=30;break}n.offset=b,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(C=n.extra;d<C;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break t;if(n.offset>(f=p-l)){if((f=n.offset-f)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}h=f>n.wnext?(f-=n.wnext,n.wsize-f):n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=o,h=a-n.offset,f=n.length;for(l-=f=l<f?l:f,n.length-=f;o[a++]=m[h++],--f;);0===n.length&&(n.mode=21);break;case 26:if(0===l)break t;o[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;d<32;){if(0===s)break t;s--,c|=i[r++]<<d,d+=8}if(p-=l,t.total_out+=p,n.total+=p,p&&(t.adler=n.check=(n.flags?M:I)(n.check,o,p,a-p)),p=l,(n.flags?c:L(c))!==n.check){t.msg="incorrect data check",n.mode=30;break}d=c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;d<32;){if(0===s)break t;s--,c+=i[r++]<<d,d+=8}if(c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}d=c=0}n.mode=29;case 29:k=1;break t;case 30:k=-3;break t;case 31:return-4;default:return z}return t.next_out=a,t.avail_out=l,t.next_in=r,t.avail_in=s,n.hold=c,n.bits=d,(n.wsize||p!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&O(t,t.output,t.next_out,p-t.avail_out)?(n.mode=31,-4):(u-=t.avail_in,p-=t.avail_out,t.total_in+=u,t.total_out+=p,n.total+=p,n.wrap&&p&&(t.adler=n.check=(n.flags?M:I)(n.check,o,p,t.next_out-p)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),k=(0==u&&0===p||4===e)&&k===H?-5:k)},n.inflateEnd=function(t){var e;return t&&t.state?((e=t.state).window&&(e.window=null),t.state=null,H):z},n.inflateGetHeader=function(t,e){return!t||!t.state||0==(2&(t=t.state).wrap)?z:((t.head=e).done=!1,H)},n.inflateSetDictionary=function(t,e){var n,i=e.length;return!t||!t.state||0!==(n=t.state).wrap&&11!==n.mode?z:11===n.mode&&I(1,e,i,0)!==n.check?-3:O(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,H)},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(t,e,n){var D=t("../utils/common"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],I=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],M=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],B=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,i,o,r,a,s){for(var l,c,d,u,p,f,h,m,g,v=s.bits,b=0,y=0,w=0,x=0,_=0,k=0,S=0,C=0,P=0,T=0,j=null,E=0,A=new D.Buf16(16),L=new D.Buf16(16),O=null,$=0,b=0;b<=15;b++)A[b]=0;for(y=0;y<i;y++)A[e[n+y]]++;for(_=v,x=15;1<=x&&0===A[x];x--);if(x<_&&(_=x),0===x)o[r++]=20971520,o[r++]=20971520,s.bits=1;else{for(w=1;w<x&&0===A[w];w++);for(_<w&&(_=w),b=C=1;b<=15;b++)if((C=(C<<=1)-A[b])<0)return-1;if(0<C&&(0===t||1!==x))return-1;for(L[1]=0,b=1;b<15;b++)L[b+1]=L[b]+A[b];for(y=0;y<i;y++)0!==e[n+y]&&(a[L[e[n+y]]++]=y);if(f=0===t?(j=O=a,19):1===t?(j=F,E-=257,O=I,$-=257,256):(j=M,O=B,-1),b=w,p=r,S=y=T=0,d=-1,u=(P=1<<(k=_))-1,1===t&&852<P||2===t&&592<P)return 1;for(;;){for(g=a[y]<f?(m=0,a[y]):a[y]>f?(m=O[$+a[y]],j[E+a[y]]):(m=96,0),l=1<<(h=b-S),w=c=1<<k;o[p+(T>>S)+(c-=l)]=h<<24|m<<16|g|0,0!==c;);for(l=1<<b-1;T&l;)l>>=1;if(0!==l?T=(T&l-1)+l:T=0,y++,0==--A[b]){if(b===x)break;b=e[n+a[y]]}if(_<b&&(T&u)!==d){for(p+=w,C=1<<(k=b-(S=0===S?_:S));k+S<x&&!((C-=A[k+S])<=0);)k++,C<<=1;if(P+=1<<k,1===t&&852<P||2===t&&592<P)return 1;o[d=T&u]=_<<24|k<<16|p-r|0}}0!==T&&(o[p+T]=b-S<<24|64<<16|0),s.bits=_}return 0}},{"../utils/common":62}],72:[function(t,e,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(n,a,t){function e(t){for(var e=t.length;0<=--e;)t[e]=0}function s(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length}function l(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function c(t){return t<256?D[t]:D[256+(t>>>7)]}function o(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function d(t,e,n){t.bi_valid>i-n?(t.bi_buf|=e<<t.bi_valid&65535,o(t,t.bi_buf),t.bi_buf=e>>i-t.bi_valid,t.bi_valid+=n-i):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function u(t,e,n){d(t,n[2*e],n[2*e+1])}function p(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function C(t,e,n){for(var i,o=new Array(j+1),r=0,a=1;a<=j;a++)o[a]=r=r+n[a-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=p(o[s]++,s))}}function f(t){for(var e=0;e<k;e++)t.dyn_ltree[2*e]=0;for(e=0;e<S;e++)t.dyn_dtree[2*e]=0;for(e=0;e<T;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*E]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function h(t){8<t.bi_valid?o(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function r(t,e,n,i){var o=2*e,r=2*n;return t[o]<t[r]||t[o]===t[r]&&i[e]<=i[n]}function P(t,e,n){for(var i=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&r(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!r(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i}function m(t,e,n){var i,o,r,a,s=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],o=t.pending_buf[t.l_buf+s],s++,0==i?u(t,o,e):(u(t,(r=F[o])+_+1,e),0!==(a=A[r])&&d(t,o-=I[r],a),u(t,r=c(--i),n),0!==(a=L[r])&&d(t,i-=M[r],a)),s<t.last_lit;);u(t,E,e)}function g(t,e){var n,i,o,r=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=R,n=0;n<l;n++)0!==r[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):r[2*n+1]=0;for(;t.heap_len<2;)r[2*(o=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=a[2*o+1]);for(e.max_code=c,n=t.heap_len>>1;1<=n;n--)P(t,r,n);for(o=l;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],P(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,r[2*o]=r[2*n]+r[2*i],t.depth[o]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,r[2*n+1]=r[2*i+1]=o,t.heap[1]=o++,P(t,r,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1];for(var d,u,p,f,h,m=t,g=e.dyn_tree,v=e.max_code,b=e.stat_desc.static_tree,y=e.stat_desc.has_stree,w=e.stat_desc.extra_bits,x=e.stat_desc.extra_base,_=e.stat_desc.max_length,k=0,S=0;S<=j;S++)m.bl_count[S]=0;for(g[2*m.heap[m.heap_max]+1]=0,d=m.heap_max+1;d<R;d++)_<(S=g[2*g[2*(u=m.heap[d])+1]+1]+1)&&(S=_,k++),g[2*u+1]=S,v<u||(m.bl_count[S]++,f=0,x<=u&&(f=w[u-x]),h=g[2*u],m.opt_len+=h*(S+f),y&&(m.static_len+=h*(b[2*u+1]+f)));if(0!==k){do{for(S=_-1;0===m.bl_count[S];)S--}while(m.bl_count[S]--,m.bl_count[S+1]+=2,m.bl_count[_]--,0<(k-=2));for(S=_;0!==S;S--)for(u=m.bl_count[S];0!==u;)v<(p=m.heap[--d])||(g[2*p+1]!==S&&(m.opt_len+=(S-g[2*p+1])*g[2*p],g[2*p+1]=S),u--)}C(r,c,t.bl_count)}function v(t,e,n){var i,o,r=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)o=a,a=e[2*(i+1)+1],++s<l&&o===a||(s<c?t.bl_tree[2*o]+=s:0!==o?(o!==r&&t.bl_tree[2*o]++,t.bl_tree[2*H]++):s<=10?t.bl_tree[2*z]++:t.bl_tree[2*W]++,r=o,c=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4))}function b(t,e,n){var i,o,r=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),i=0;i<=n;i++)if(o=a,a=e[2*(i+1)+1],!(++s<l&&o===a)){if(s<c)for(;u(t,o,t.bl_tree),0!=--s;);else 0!==o?(o!==r&&(u(t,o,t.bl_tree),s--),u(t,H,t.bl_tree),d(t,s-3,2)):s<=10?(u(t,z,t.bl_tree),d(t,s-3,3)):(u(t,W,t.bl_tree),d(t,s-11,7));r=o,c=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4)}}function y(t,e,n,i){d(t,0+(i?1:0),3),i=e,e=n,n=!0,h(t=t),n&&(o(t,e),o(t,~e)),B.arraySet(t.pending_buf,t.window,i,e,t.pending),t.pending+=e}var B=n("../utils/common"),w=0,N=1,x=29,_=256,k=_+1+x,S=30,T=19,R=2*k+1,j=15,i=16,U=7,E=256,H=16,z=17,W=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(k+2)),$=(e(O),new Array(2*S)),D=(e($),new Array(512)),F=(e(D),new Array(256)),I=(e(F),new Array(x)),M=(e(I),new Array(S));e(M);var G,J,Y,K=!1;t._tr_init=function(t){if(!K){for(var e,n,i,o=new Array(j+1),r=0,a=0;a<x-1;a++)for(I[a]=r,e=0;e<1<<A[a];e++)F[r++]=a;for(F[r-1]=a,a=i=0;a<16;a++)for(M[a]=i,e=0;e<1<<L[a];e++)D[i++]=a;for(i>>=7;a<S;a++)for(M[a]=i<<7,e=0;e<1<<L[a]-7;e++)D[256+i++]=a;for(n=0;n<=j;n++)o[n]=0;for(e=0;e<=143;)O[2*e+1]=8,e++,o[8]++;for(;e<=255;)O[2*e+1]=9,e++,o[9]++;for(;e<=279;)O[2*e+1]=7,e++,o[7]++;for(;e<=287;)O[2*e+1]=8,e++,o[8]++;for(C(O,k+1,o),e=0;e<S;e++)$[2*e+1]=5,$[2*e]=p(e,5);G=new s(O,A,_+1,k,j),J=new s($,L,0,S,j),Y=new s(new Array(0),q,0,T,U),K=!0}t.l_desc=new l(t.dyn_ltree,G),t.d_desc=new l(t.dyn_dtree,J),t.bl_desc=new l(t.bl_tree,Y),t.bi_buf=0,t.bi_valid=0,f(t)},t._tr_stored_block=y,t._tr_flush_block=function(t,e,n,i){var o,r,a,s=0;if(0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){for(var e=4093624447,n=0;n<=31;n++,e>>>=1)if(1&e&&0!==t.dyn_ltree[2*n])return w;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return N;for(n=32;n<_;n++)if(0!==t.dyn_ltree[2*n])return N;return w}(t)),g(t,t.l_desc),g(t,t.d_desc),s=function(t){var e;for(v(t,t.dyn_ltree,t.l_desc.max_code),v(t,t.dyn_dtree,t.d_desc.max_code),g(t,t.bl_desc),e=T-1;3<=e&&0===t.bl_tree[2*V[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),o=t.opt_len+3+7>>>3,(r=t.static_len+3+7>>>3)<=o&&(o=r)):o=r=n+5,n+4<=o&&-1!==e)y(t,e,n,i);else if(4===t.strategy||r===o)d(t,2+(i?1:0),3),m(t,O,$);else{d(t,4+(i?1:0),3);var l=t,c=(e=t.l_desc.max_code+1,n=t.d_desc.max_code+1,s+1);for(d(l,e-257,5),d(l,n-1,5),d(l,c-4,4),a=0;a<c;a++)d(l,l.bl_tree[2*V[a]+1],3);b(l,l.dyn_ltree,e-1),b(l,l.dyn_dtree,n-1),m(t,t.dyn_ltree,t.dyn_dtree)}f(t),i&&h(t)},t._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(F[n]+_+1)]++,t.dyn_dtree[2*c(e)]++),t.last_lit===t.lit_bufsize-1},t._tr_align=function(t){d(t,2,3),u(t,E,O),16===(t=t).bi_valid?(o(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":62}],74:[function(t,e,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[10])(10)},"object"==m(i)&&void 0!==e?e.exports=t():void 0!==(t="function"==typeof(t=t)?t.apply(i,[]):t)&&(e.exports=t)}.call(this,t(370).Buffer,t(44))},function(t,e,n){"use strict";e.byteLength=function(t){var t=d(t),e=t[0],t=t[1];return 3*(e+t)/4-t},e.toByteArray=function(t){var e,n,i=d(t),o=i[0],i=i[1],r=new c(function(t,e){return 3*(t+e)/4-e}(o,i)),a=0,s=0<i?o-4:o;for(n=0;n<s;n+=4)e=l[t.charCodeAt(n)]<<18|l[t.charCodeAt(n+1)]<<12|l[t.charCodeAt(n+2)]<<6|l[t.charCodeAt(n+3)],r[a++]=e>>16&255,r[a++]=e>>8&255,r[a++]=255&e;2===i&&(e=l[t.charCodeAt(n)]<<2|l[t.charCodeAt(n+1)]>>4,r[a++]=255&e);1===i&&(e=l[t.charCodeAt(n)]<<10|l[t.charCodeAt(n+1)]<<4|l[t.charCodeAt(n+2)]>>2,r[a++]=e>>8&255,r[a++]=255&e);return r},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],r=0,a=n-i;r<a;r+=16383)o.push(function(t,e,n){for(var i,o=[],r=e;r<n;r+=3)i=(t[r]<<16&16711680)+(t[r+1]<<8&65280)+(255&t[r+2]),o.push(function(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}(i));return o.join("")}(t,r,a<r+16383?a:r+16383));1==i?(e=t[n-1],o.push(s[e>>2]+s[e<<4&63]+"==")):2==i&&(e=(t[n-2]<<8)+t[n-1],o.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return o.join("")};for(var s=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,r=i.length;o<r;++o)s[o]=i[o],l[i.charCodeAt(o)]=o;function d(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("="),e=(t=-1===t?e:t)===e?0:4-t%4;return[t,e]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,o){var r,a,s=8*o-i-1,l=(1<<s)-1,c=l>>1,d=-7,u=n?o-1:0,p=n?-1:1,o=t[e+u];for(u+=p,r=o&(1<<-d)-1,o>>=-d,d+=s;0<d;r=256*r+t[e+u],u+=p,d-=8);for(a=r&(1<<-d)-1,r>>=-d,d+=i;0<d;a=256*a+t[e+u],u+=p,d-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:1/0*(o?-1:1);a+=Math.pow(2,i),r-=c}return(o?-1:1)*a*Math.pow(2,r-i)},e.write=function(t,e,n,i,o,r){var a,s,l=8*r-o-1,c=(1<<l)-1,d=c>>1,u=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,f=i?1:-1,r=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(i=Math.pow(2,-a))<1&&(a--,i*=2),2<=(e+=1<=a+d?u/i:u*Math.pow(2,1-d))*i&&(a++,i/=2),c<=a+d?(s=0,a=c):1<=a+d?(s=(e*i-1)*Math.pow(2,o),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,o),a=0));8<=o;t[n+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,l+=o;0<l;t[n+p]=255&a,p+=f,a/=256,l-=8);t[n+p-f]|=128*r}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=function(){return function i(o,r,a){function s(n,t){if(!r[n]){if(!o[n]){if(l)return l(n,!0);throw new Error("Cannot find module '"+n+"'")}var e=r[n]={exports:{}};o[n][0].call(e.exports,function(t){var e=o[n][1][t];return s(e||t)},e,e.exports,i,o,r,a)}return r[n].exports}for(var l=!1,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e){function n(){try{return new window.XMLHttpRequest}catch(t){}}var r={_getBinaryFromXHR:function(t){return t.response||t.responseText}},a=window.ActiveXObject?function(){return n()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:n;r.getBinaryContent=function(n,i){try{var o=a();o.open("GET",n,!0),"responseType"in o&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=function(){var t,e;if(4===o.readyState)if(200===o.status||0===o.status){e=t=null;try{t=r._getBinaryFromXHR(o)}catch(t){e=new Error(t)}i(e,t)}else i(new Error("Ajax error for "+n+" : "+this.status+" "+this.statusText),null)},o.send()}catch(t){i(new Error(t),null)}},e.exports=r},{}]},{},[1])(1)},"object"==o(e)?t.exports=i():void 0!==(i="function"==typeof(o=i)?o.call(e,n,e,t):o)&&(t.exports=i)},function(n,i,t){"use strict";!function(t){var e,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};void 0!==(e="function"==typeof(e=function(){"use strict";function o(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=(typeof e==="undefined"?"undefined":p(e))&&(console.warn("Depricated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function d(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){s(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&299>=e.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var u="object"==(typeof window==="undefined"?"undefined":p(window))&&window.window===window?window:"object"==(typeof self==="undefined"?"undefined":p(self))&&self.self===self?self:"object"==(typeof t==="undefined"?"undefined":p(t))&&t.global===t?t:void 0,s=u.saveAs||("object"!=(typeof window==="undefined"?"undefined":p(window))||window!==u?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=u.URL||u.webkitURL,o=document.createElement("a");e=e||t.name||"download",o.download=e,o.rel="noopener","string"==typeof t?(o.href=t,o.origin===location.origin?a(o):r(o.href)?d(t,e,n):a(o,o.target="_blank")):(o.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(o.href)},4e4),setTimeout(function(){a(o)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(o(t,n),e);else if(r(t))d(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){a(i)})}}:function(t,e,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return d(t,e,n);var o="application/octet-stream"===t.type,r=/constructor/i.test(u.HTMLElement)||u.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||o&&r)&&"object"==(typeof FileReader==="undefined"?"undefined":p(FileReader))){var s=new FileReader;s.onloadend=function(){var t=s.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},s.readAsDataURL(t)}else{var l=u.URL||u.webkitURL,c=l.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});u.saveAs=s.saveAs=s,true&&(n.exports=s)})?e.apply(i,[]):e)&&(n.exports=e)}.call(this,t(44))},function(t,e,n){"use strict";var i,z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=[n(137)],void 0!==(e="function"==typeof(i=function(_){_.ui=_.ui||{},_.ui.version="1.12.1";var i=0,s=Array.prototype.slice;function k(t,e,n){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?n/100:1)]}function S(t,e){return parseInt(_.css(t,e),10)||0}function e(t){var e=t[0];return 9===e.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:_.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}_.cleanData=function(o){return function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{e=_._data(n,"events"),e&&e.remove&&_(n).triggerHandler("remove")}catch(t){}o(t)}}(_.cleanData),_.widget=function(t,n,e){var i,o,r,a={},s=t.split(".")[0];t=t.split(".")[1];var l=s+"-"+t;return e||(e=n,n=_.Widget),_.isArray(e)&&(e=_.extend.apply(null,[{}].concat(e))),_.expr[":"][l.toLowerCase()]=function(t){return!!_.data(t,l)},_[s]=_[s]||{},i=_[s][t],o=_[s][t]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},_.extend(o,i,{version:e.version,_proto:_.extend({},e),_childConstructors:[]}),r=new n,r.options=_.widget.extend({},r.options),_.each(e,function(e,r){return _.isFunction(r)?(a[e]=function(){function i(){return n.prototype[e].apply(this,arguments)}function o(t){return n.prototype[e].apply(this,t)}return function(){var t,e=this._super,n=this._superApply;return this._super=i,this._superApply=o,t=r.apply(this,arguments),this._super=e,this._superApply=n,t}}(),void 0):(a[e]=r,void 0)}),o.prototype=_.widget.extend(r,{widgetEventPrefix:i?r.widgetEventPrefix||t:t},a,{constructor:o,namespace:s,widgetName:t,widgetFullName:l}),i?(_.each(i._childConstructors,function(t,e){var n=e.prototype;_.widget(n.namespace+"."+n.widgetName,o,e._proto)}),delete i._childConstructors):n._childConstructors.push(o),_.widget.bridge(t,o),o},_.widget.extend=function(t){for(var e,n,i=s.call(arguments,1),o=0,r=i.length;r>o;o++)for(e in i[o])n=i[o][e],i[o].hasOwnProperty(e)&&void 0!==n&&(t[e]=_.isPlainObject(n)?_.isPlainObject(t[e])?_.widget.extend({},t[e],n):_.widget.extend({},n):n);return t},_.widget.bridge=function(r,e){var a=e.prototype.widgetFullName||r;_.fn[r]=function(n){var t="string"==typeof n,i=s.call(arguments,1),o=this;return t?this.length||"instance"!==n?this.each(function(){var t,e=_.data(this,a);return"instance"===n?(o=e,!1):e?_.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i),t!==e&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0):_.error("no such method '"+n+"' for "+r+" widget instance"):_.error("cannot call methods on "+r+" prior to initialization; "+"attempted to call method '"+n+"'")}):o=void 0:(i.length&&(n=_.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=_.data(this,a);t?(t.option(n||{}),t._init&&t._init()):_.data(this,a,new e(n,this))})),o}},_.Widget=function(){},_.Widget._childConstructors=[],_.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function t(e,n){n=_(n||this.defaultElement||this)[0],this.element=_(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=_(),this.hoverable=_(),this.focusable=_(),this.classesElementLookup={},n!==this&&(_.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function t(e){e.target===n&&this.destroy()}}),this.document=_(n.style?n.ownerDocument:n.document||n),this.window=_(this.document[0].defaultView||this.document[0].parentWindow)),this.options=_.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function t(){return{}},_getCreateEventData:_.noop,_create:_.noop,_init:_.noop,destroy:function t(){var n=this;this._destroy(),_.each(this.classesElementLookup,function(t,e){n._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:_.noop,widget:function t(){return this.element},option:function t(e,n){var i,o,r,a=e;if(0===arguments.length)return _.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(o=a[e]=_.widget.extend({},this.options[e]),r=0;i.length-1>r;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function t(e){var n;for(n in e)this._setOption(n,e[n]);return this},_setOption:function t(e,n){return"classes"===e&&this._setOptionClasses(n),this.options[e]=n,"disabled"===e&&this._setOptionDisabled(n),this},_setOptionClasses:function t(e){var n,i,o;for(n in e)o=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&o&&o.length&&(i=_(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function t(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function t(){return this._setOptions({disabled:!1})},disable:function t(){return this._setOptions({disabled:!0})},_classes:function t(o){function e(t,e){var n,i;for(i=0;t.length>i;i++)n=a.classesElementLookup[t[i]]||_(),n=o.add?_(_.unique(n.get().concat(o.element.get()))):_(n.not(o.element).get()),a.classesElementLookup[t[i]]=n,r.push(t[i]),e&&o.classes[t[i]]&&r.push(o.classes[t[i]])}var r=[],a=this;return o=_.extend({element:this.element,classes:this.options.classes||{}},o),this._on(o.element,{remove:"_untrackClassesElement"}),o.keys&&e(o.keys.match(/\S+/g)||[],!0),o.extra&&e(o.extra.match(/\S+/g)||[]),r.join(" ")},_untrackClassesElement:function t(n){var i=this;_.each(i.classesElementLookup,function(t,e){-1!==_.inArray(n.target,e)&&(i.classesElementLookup[t]=_(e.not(n.target).get()))})},_removeClass:function t(e,n,i){return this._toggleClass(e,n,i,!1)},_addClass:function t(e,n,i){return this._toggleClass(e,n,i,!0)},_toggleClass:function t(e,n,i,o){o="boolean"==typeof o?o:i;var r="string"==typeof e||null===e,a={extra:r?n:i,keys:r?e:n,element:r?this.element:e,add:o};return a.element.toggleClass(this._classes(a),o),this},_on:function t(a,s,e){var l,c=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=l=_(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,l=this.widget()),_.each(e,function(t,e){function n(){return a||c.options.disabled!==!0&&!_(this).hasClass("ui-state-disabled")?("string"==typeof e?c[e]:e).apply(c,arguments):void 0}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||_.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),o=i[1]+c.eventNamespace,r=i[2];r?l.on(o,r,n):s.on(o,n)})},_off:function t(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=_(this.bindings.not(e).get()),this.focusable=_(this.focusable.not(e).get()),this.hoverable=_(this.hoverable.not(e).get())},_delay:function t(e,n){function i(){return("string"==typeof e?o[e]:e).apply(o,arguments)}var o=this;return setTimeout(i,n||0)},_hoverable:function t(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function t(e){this._addClass(_(e.currentTarget),null,"ui-state-hover")},mouseleave:function t(e){this._removeClass(_(e.currentTarget),null,"ui-state-hover")}})},_focusable:function t(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function t(e){this._addClass(_(e.currentTarget),null,"ui-state-focus")},focusout:function t(e){this._removeClass(_(e.currentTarget),null,"ui-state-focus")}})},_trigger:function t(e,n,i){var o,r,a=this.options[e];if(i=i||{},n=_.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(_.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},_.each({show:"fadeIn",hide:"fadeOut"},function(r,a){_.Widget.prototype["_"+r]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,o=t?t===!0||"number"==typeof t?a:t.effect||a:r;t=t||{},"number"==typeof t&&(t={duration:t}),i=!_.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&_.effects&&_.effects.effect[o]?e[r](t):o!==r&&e[o]?e[o](t.duration,t.easing,n):e.queue(function(t){_(this)[r](),n&&n.call(e[0]),t()})}}),_.widget;var r,C=Math.max,P=Math.abs,o=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,I=_.fn.position,u=(_.position={scrollbarWidth:function t(){if(void 0!==r)return r;var e,n,i=_("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return _("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function t(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,r="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:r?_.position.scrollbarWidth():0,height:o?_.position.scrollbarWidth():0}},getWithinInfo:function t(e){var n=_(e||window),i=_.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType,r=!i&&!o;return{element:n,isWindow:i,isDocument:o,offset:r?_(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},_.fn.position=function(u){if(!u||!u.of)return I.apply(this,arguments);u=_.extend({},u);var p,f,h,m,g,t,v=_(u.of),b=_.position.getWithinInfo(u.within),y=_.position.getScrollInfo(b),w=(u.collision||"flip").split(" "),x={};return t=e(v),v[0].preventDefault&&(u.at="left top"),f=t.width,h=t.height,m=t.offset,g=_.extend({},m),_.each(["my","at"],function(){var t,e,n=(u[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",t=l.exec(n[0]),e=l.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],u[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===u.at[0]?g.left+=f:"center"===u.at[0]&&(g.left+=f/2),"bottom"===u.at[1]?g.top+=h:"center"===u.at[1]&&(g.top+=h/2),p=k(x.at,f,h),g.left+=p[0],g.top+=p[1],this.each(function(){var n,t,a=_(this),s=a.outerWidth(),l=a.outerHeight(),e=S(this,"marginLeft"),i=S(this,"marginTop"),o=s+e+S(this,"marginRight")+y.width,r=l+i+S(this,"marginBottom")+y.height,c=_.extend({},g),d=k(x.my,a.outerWidth(),a.outerHeight());"right"===u.my[0]?c.left-=s:"center"===u.my[0]&&(c.left-=s/2),"bottom"===u.my[1]?c.top-=l:"center"===u.my[1]&&(c.top-=l/2),c.left+=d[0],c.top+=d[1],n={marginLeft:e,marginTop:i},_.each(["left","top"],function(t,e){_.ui.position[w[t]]&&_.ui.position[w[t]][e](c,{targetWidth:f,targetHeight:h,elemWidth:s,elemHeight:l,collisionPosition:n,collisionWidth:o,collisionHeight:r,offset:[p[0]+d[0],p[1]+d[1]],my:u.my,at:u.at,within:b,elem:a})}),u.using&&(t=function t(e){var n=m.left-c.left,i=n+f-s,o=m.top-c.top,t=o+h-l,r={target:{element:v,left:m.left,top:m.top,width:f,height:h},element:{element:a,left:c.left,top:c.top,width:s,height:l},horizontal:0>i?"left":n>0?"right":"center",vertical:0>t?"top":o>0?"bottom":"middle"};s>f&&f>P(n+i)&&(r.horizontal="center"),l>h&&h>P(o+t)&&(r.vertical="middle"),r.important=C(P(n),P(i))>C(P(o),P(t))?"horizontal":"vertical",u.using.call(this,e,r)}),a.offset(_.extend(c,{using:t}))})},_.ui.position={fit:{left:function t(e,n){var i,o=n.within,r=o.isWindow?o.scrollLeft:o.offset.left,a=o.width,s=e.left-n.collisionPosition.marginLeft,l=r-s,c=s+n.collisionWidth-a-r;n.collisionWidth>a?l>0&&0>=c?(i=e.left+l+n.collisionWidth-a-r,e.left+=l-i):e.left=c>0&&0>=l?r:l>c?r+a-n.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=C(e.left-s,e.left)},top:function t(e,n){var i,o=n.within,r=o.isWindow?o.scrollTop:o.offset.top,a=n.within.height,s=e.top-n.collisionPosition.marginTop,l=r-s,c=s+n.collisionHeight-a-r;n.collisionHeight>a?l>0&&0>=c?(i=e.top+l+n.collisionHeight-a-r,e.top+=l-i):e.top=c>0&&0>=l?r:l>c?r+a-n.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=C(e.top-s,e.top)}},flip:{left:function t(e,n){var i,o,r=n.within,a=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-n.collisionPosition.marginLeft,d=c-l,u=c+n.collisionWidth-s-l,p="left"===n.my[0]?-n.elemWidth:"right"===n.my[0]?n.elemWidth:0,f="left"===n.at[0]?n.targetWidth:"right"===n.at[0]?-n.targetWidth:0,h=-2*n.offset[0];0>d?(i=e.left+p+f+h+n.collisionWidth-s-a,(0>i||P(d)>i)&&(e.left+=p+f+h)):u>0&&(o=e.left-n.collisionPosition.marginLeft+p+f+h-l,(o>0||u>P(o))&&(e.left+=p+f+h))},top:function t(e,n){var i,o,r=n.within,a=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-n.collisionPosition.marginTop,d=c-l,u=c+n.collisionHeight-s-l,p="top"===n.my[1],f=p?-n.elemHeight:"bottom"===n.my[1]?n.elemHeight:0,h="top"===n.at[1]?n.targetHeight:"bottom"===n.at[1]?-n.targetHeight:0,m=-2*n.offset[1];0>d?(o=e.top+f+h+m+n.collisionHeight-s-a,(0>o||P(d)>o)&&(e.top+=f+h+m)):u>0&&(i=e.top-n.collisionPosition.marginTop+f+h+m-l,(i>0||u>P(i))&&(e.top+=f+h+m))}},flipfit:{left:function t(){_.ui.position.flip.left.apply(this,arguments),_.ui.position.fit.left.apply(this,arguments)},top:function t(){_.ui.position.flip.top.apply(this,arguments),_.ui.position.fit.top.apply(this,arguments)}}},_.ui.position,_.extend(_.expr[":"],{data:_.expr.createPseudo?_.expr.createPseudo(function(e){return function(t){return!!_.data(t,e)}}):function(t,e,n){return!!_.data(t,n[3])}}),_.fn.scrollParent=function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=_(this);return n&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&o.length?o:_(this[0].ownerDocument||document)},_.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1),p=(_(document).on("mouseup",function(){u=!1}),_.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function t(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){return!0===_.data(t.target,e.widgetName+".preventClickEvent")?(_.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function t(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function t(e){if(!u){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,o="string"==typeof this.options.cancel&&e.target.nodeName?_(e.target).closest(this.options.cancel).length:!1;return i&&!o&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===_.data(e.target,this.widgetName+".preventClickEvent")&&_.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),u=!0,!0)):!0}},_mouseMove:function t(e){if(this._mouseMoved){if(_.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function t(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&_.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,u=!1,e.preventDefault()},_mouseDistanceMet:function t(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function t(){return this.mouseDelayMet},_mouseStart:function t(){},_mouseDrag:function t(){},_mouseStop:function t(){},_mouseCapture:function t(){return!0}}),_.widget("ui.sortable",_.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function t(e,n,i){return e>=n&&n+i>e},_isFloating:function t(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function t(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function t(e,n){this._super(e,n),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function t(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),_.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function t(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function t(e,n){var i=null,o=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),_(e.target).parents().each(function(){return _.data(this,r.widgetName+"-item")===r?(i=_(this),!1):void 0}),_.data(e.target,r.widgetName+"-item")===r&&(i=_(e.target)),i?!this.options.handle||n||(_(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(o=!0)}),o)?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function t(e,n,i){var o,r,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},_.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",a.cursor),this.storedStylesheet=_("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(r)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return _.ui.ddmanager&&(_.ui.ddmanager.current=this),_.ui.ddmanager&&!a.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function t(e){var n,i,o,r,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&_.ui.ddmanager&&!a.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],o=i.item[0],r=this._intersectsWithPointer(i),r&&i.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!_.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!_.contains(this.element[0],o):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),_.ui.ddmanager&&_.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function t(e,n){if(e){if(_.ui.ddmanager&&!this.options.dropBehaviour&&_.ui.ddmanager.drop(this,e),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,a={};r&&"x"!==r||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,_(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function t(){if(this.dragging){this._mouseUp(new _.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),_.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?_(this.domPosition.prev).after(this.currentItem):_(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function t(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},_(n).each(function(){var t=(_(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function t(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(_(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function t(e){var n=this.positionAbs.left,i=n+this.helperProportions.width,o=this.positionAbs.top,r=o+this.helperProportions.height,a=e.left,s=a+e.width,l=e.top,c=l+e.height,d=this.offset.click.top,u=this.offset.click.left,p="x"===this.options.axis||o+d>l&&c>o+d,f="y"===this.options.axis||n+u>a&&s>n+u,h=p&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:n+this.helperProportions.width/2>a&&s>i-this.helperProportions.width/2&&o+this.helperProportions.height/2>l&&c>r-this.helperProportions.height/2},_intersectsWithPointer:function t(e){var n,i,o="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),a=o&&r;return a?(n=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===n?2:1:n&&("down"===n?2:1)):!1},_intersectsWithSides:function t(e){var n=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:o&&("down"===o&&n||"up"===o&&!n)},_getDragVerticalDirection:function t(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function t(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function t(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function t(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function t(e){function n(){s.push(this)}var i,o,r,a,s=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(r=_(c[i],this.document[0]),o=r.length-1;o>=0;o--)a=_.data(r[o],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([_.isFunction(a.options.items)?a.options.items.call(a.element):_(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([_.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):_(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return _(s)},_removeCurrentsFromItems:function t(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=_.grep(this.items,function(t){for(var e=0;n.length>e;e++)if(n[e]===t.item[0])return!1;return!0})},_refreshItems:function t(e){this.items=[],this.containers=[this];var n,i,o,r,a,s,l,c,d=this.items,u=[[_.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):_(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(n=p.length-1;n>=0;n--)for(o=_(p[n],this.document[0]),i=o.length-1;i>=0;i--)r=_.data(o[i],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(u.push([_.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):_(r.options.items,r.element),r]),this.containers.push(r));for(n=u.length-1;n>=0;n--)for(a=u[n][1],s=u[n][0],i=0,c=s.length;c>i;i++)l=_(s[i]),l.data(this.widgetName+"-item",a),d.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function t(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,o,r;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?_(this.options.toleranceElement,i.item):i.item,e||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function t(i){i=i||this;var o,r=i.options;r.placeholder&&r.placeholder.constructor!==String||(o=r.placeholder,r.placeholder={element:function t(){var e=i.currentItem[0].nodeName.toLowerCase(),n=_("<"+e+">",i.document[0]);return i._addClass(n,"ui-sortable-placeholder",o||i.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===e?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),_("<tr>",i.document[0]).appendTo(n)):"tr"===e?i._createTrPlaceholder(i.currentItem,n):"img"===e&&n.attr("src",i.currentItem.attr("src")),o||n.css("visibility","hidden"),n},update:function t(e,n){(!o||r.forcePlaceholderSize)&&(n.height()||n.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=_(r.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),r.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function t(e,n){var i=this;e.children().each(function(){_("<td>&#160;</td>",i.document[0]).attr("colspan",_(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function t(e){var n,i,o,r,a,s,l,c,d,u,p=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!_.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(p&&_.contains(this.containers[n].element[0],p.element[0]))continue;p=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,r=null,d=p.floating||this._isFloating(this.currentItem),a=d?"left":"top",s=d?"width":"height",u=d?"pageX":"pageY",i=this.items.length-1;i>=0;i--)_.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],c=!1,e[u]-l>this.items[i][s]/2&&(c=!0),o>Math.abs(e[u]-l)&&(o=Math.abs(e[u]-l),r=this.items[i],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function t(e){var n=this.options,i=_.isFunction(n.helper)?_(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||_("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function t(e){"string"==typeof e&&(e=e.split(" ")),_.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function t(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&_.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function t(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function t(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function t(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function t(){var e,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=_(o.containment)[0],n=_(o.containment).offset(),i="hidden"!==_(e).css("overflow"),this.containment=[n.left+(parseInt(_(e).css("borderLeftWidth"),10)||0)+(parseInt(_(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(_(e).css("borderTopWidth"),10)||0)+(parseInt(_(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(_(e).css("borderLeftWidth"),10)||0)-(parseInt(_(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(_(e).css("borderTopWidth"),10)||0)-(parseInt(_(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function t(e,n){n||(n=this.position);var i="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function t(e){var n,i,o=this.options,r=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function t(e,n,i,o){i?i[0].appendChild(this.placeholder[0]):n.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?n.item[0]:n.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!o)})},_clear:function t(e,n){function i(e,n,i){return function(t){i._trigger(e,t,n._uiHash(n))}}this.reverting=!1;var o,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(o in this._storedCSS)("auto"===this._storedCSS[o]||"static"===this._storedCSS[o])&&(this._storedCSS[o]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!n&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||n||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(n||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),o=this.containers.length-1;o>=0;o--)n||r.push(i("deactivate",this,this.containers[o])),this.containers[o].containerCache.over&&(r.push(i("out",this,this.containers[o])),this.containers[o].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,n||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!n){for(o=0;r.length>o;o++)r[o].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function t(){_.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function t(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||_([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),"ui-effects-"),n="ui-effects-style",f="ui-effects-animated",h=_,m=(_.effects={effect:{}},h),g=void 0;function v(t,e,n){var i=j[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function b(a){var s=x(),l=s._rgba=[];return a=a.toLowerCase(),A(N,function(t,e){var n,i=e.re.exec(a),o=i&&e.parse(i),r=e.space||"rgba";return o?(n=s[r](o),s[T[r].cache]=n[T[r].cache],l=s._rgba=n._rgba,!1):g}),l.length?("0,0,0,0"===l.join()&&m.extend(l,w.transparent),s):w[a]}function y(t,e,n){return n=(n+1)%1,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var w,M="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",B=/^([\-+])=\s*(\d+\.?\d*)/,N=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function t(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function t(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function t(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function t(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function t(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],x=m.Color=function(t,e,n,i){return new m.Color.fn.parse(t,e,n,i)},T={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},j={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},E=x.support={},t=m("<p>")[0],A=m.each;function L(t){var e,n,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)e=i[n],"string"==typeof i[e]&&(o[_.camelCase(e)]=i[e]);else for(e in i)"string"==typeof i[e]&&(o[e]=i[e]);return o}function R(t,e){var n,i,o={};for(n in e)i=e[n],t[n]!==i&&(H[n]||(_.fx.step[n]||!isNaN(parseFloat(i)))&&(o[n]=i));return o}t.style.cssText="background-color:rgba(1,1,1,.5)",E.rgba=t.style.backgroundColor.indexOf("rgba")>-1,A(T,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),(x.fn=m.extend(x.prototype,{parse:function t(o,e,n,i){if(o===g)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=m(o).css(e),e=g);var r=this,a=m.type(o),s=this._rgba=[];return e!==g&&(o=[o,e,n,i],a="array"),"string"===a?this.parse(b(o)||w._default):"array"===a?(A(T.rgba.props,function(t,e){s[e.idx]=v(o[e.idx],e)}),this):"object"===a?(o instanceof x?A(T,function(t,e){o[e.cache]&&(r[e.cache]=o[e.cache].slice())}):A(T,function(t,n){var i=n.cache;A(n.props,function(t,e){if(!r[i]&&n.to){if("alpha"===t||null==o[t])return;r[i]=n.to(r._rgba)}r[i][e.idx]=v(o[t],e,!0)}),r[i]&&0>m.inArray(null,r[i].slice(0,3))&&(r[i][3]=1,n.from&&(r._rgba=n.from(r[i])))}),this):g},is:function t(e){var o=x(e),r=!0,a=this;return A(T,function(t,e){var n,i=o[e.cache];return i&&(n=a[e.cache]||e.to&&e.to(a._rgba)||[],A(e.props,function(t,e){return null!=i[e.idx]?r=i[e.idx]===n[e.idx]:g})),r}),r},_space:function t(){var n=[],i=this;return A(T,function(t,e){i[e.cache]&&n.push(t)}),n.pop()},transition:function t(e,a){var s=x(e),n=s._space(),i=T[n],o=0===this.alpha()?x("transparent"):this,l=o[i.cache]||i.to(o._rgba),c=l.slice();return s=s[i.cache],A(i.props,function(t,e){var n=e.idx,i=l[n],o=s[n],r=j[e.type]||{};null!==o&&(null===i?c[n]=o:(r.mod&&(o-i>r.mod/2?i+=r.mod:i-o>r.mod/2&&(i-=r.mod)),c[n]=v((o-i)*a+i,e)))}),this[n](c)},blend:function t(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=x(e)._rgba;return x(m.map(n,function(t,e){return(1-i)*o[e]+i*t}))},toRgbaString:function t(){var e="rgba(",n=m.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function t(){var e="hsla(",n=m.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function t(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+m.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function t(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=x.fn,T.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,o=t[1]/255,r=t[2]/255,a=t[3],s=Math.max(i,o,r),l=Math.min(i,o,r),c=s-l,d=s+l,u=.5*d;return e=l===s?0:i===s?60*(o-r)/c+360:o===s?60*(r-i)/c+120:60*(i-o)/c+240,n=0===c?0:.5>=u?c/d:c/(2-d),[Math.round(e)%360,n,u,null==a?1:a]},T.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],r=.5>=i?i*(1+n):i+n-i*n,a=2*i-r;return[Math.round(255*y(a,r,e+1/3)),Math.round(255*y(a,r,e)),Math.round(255*y(a,r,e-1/3)),o]},A(T,function(l,t){var n=t.props,a=t.cache,s=t.to,c=t.from;x.fn[l]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),t===g)return this[a].slice();var e,i=m.type(t),o="array"===i||"object"===i?t:arguments,r=this[a].slice();return A(n,function(t,e){var n=o["object"===i?t:e.idx];null==n&&(n=r[e.idx]),r[e.idx]=v(n,e)}),c?(e=x(c(r)),e[a]=r,e):x(r)},A(n,function(a,s){x.fn[a]||(x.fn[a]=function(t){var e,n=m.type(t),i="alpha"===a?this._hsla?"hsla":"rgba":l,o=this[i](),r=o[s.idx];return"undefined"===n?r:("function"===n&&(t=t.call(this,r),n=m.type(t)),null==t&&s.empty?this:("string"===n&&(e=B.exec(t),e&&(t=r+parseFloat(e[2])*("+"===e[1]?1:-1))),o[s.idx]=t,this[i](o)))})})}),(x.hook=function(t){var e=t.split(" ");A(e,function(t,a){m.cssHooks[a]={set:function t(e,n){var i,o,r="";if("transparent"!==n&&("string"!==m.type(n)||(i=b(n)))){if(n=x(i||n),!E.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===a?e.parentNode:e;(""===r||"transparent"===r)&&o&&o.style;)try{r=m.css(o,"backgroundColor"),o=o.parentNode}catch(t){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[a]=n}catch(t){}}},m.fx.step[a]=function(t){t.colorInit||(t.start=x(t.elem,a),t.end=x(t.end),t.colorInit=!0),m.cssHooks[a].set(t.elem,t.start.transition(t.end,t.pos))}})})(M),m.cssHooks.borderColor={expand:function t(n){var i={};return A(["Top","Right","Bottom","Left"],function(t,e){i["border"+e+"Color"]=n}),i}},w=m.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};var U=["add","remove","toggle"],H={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function O(t,e,n,i){return _.isPlainObject(t)&&(e=t,t=t.effect),t={effect:t},null==e&&(e={}),_.isFunction(e)&&(i=e,n=null,e={}),("number"==typeof e||_.fx.speeds[e])&&(i=n,n=e,e={}),_.isFunction(n)&&(i=n,n=null),e&&_.extend(t,e),n=n||e.duration,t.duration=_.fx.off?0:"number"==typeof n?n:n in _.fx.speeds?_.fx.speeds[n]:_.fx.speeds._default,t.complete=i||e.complete,t}function $(t){return!t||"number"==typeof t||_.fx.speeds[t]?!0:"string"!=typeof t||_.effects.effect[t]?_.isFunction(t)?!0:"object"!=(typeof t==="undefined"?"undefined":z(t))||t.effect?!1:!0:!0}function D(t,e){var n=e.outerWidth(),i=e.outerHeight(),o=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,r=o.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}_.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){_.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(h.style(t.elem,e,t.end),t.setAttr=!0)}}),_.fn.addBack||(_.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),_.effects.animateClass=function(o,t,e,n){var r=_.speed(t,e,n);return this.queue(function(){var t,n=_(this),e=n.attr("class")||"",i=r.children?n.find("*").addBack():n;i=i.map(function(){var t=_(this);return{el:t,start:L(this)}}),t=function t(){_.each(U,function(t,e){o[e]&&n[e+"Class"](o[e])})},t(),i=i.map(function(){return this.end=L(this.el[0]),this.diff=R(this.start,this.end),this}),n.attr("class",e),i=i.map(function(){var e=this,n=_.Deferred(),t=_.extend({},r,{queue:!1,complete:function t(){n.resolve(e)}});return this.el.animate(this.diff,t),n.promise()}),_.when.apply(_,i.get()).done(function(){t(),_.each(arguments,function(){var e=this.el;_.each(this.diff,function(t){e.css(t,"")})}),r.complete.call(n[0])})})},_.fn.extend({addClass:function(o){return function(t,e,n,i){return e?_.effects.animateClass.call(this,{add:t},e,n,i):o.apply(this,arguments)}}(_.fn.addClass),removeClass:function(o){return function(t,e,n,i){return arguments.length>1?_.effects.animateClass.call(this,{remove:t},e,n,i):o.apply(this,arguments)}}(_.fn.removeClass),toggleClass:function(r){return function(t,e,n,i,o){return"boolean"==typeof e||void 0===e?n?_.effects.animateClass.call(this,e?{add:t}:{remove:t},n,i,o):r.apply(this,arguments):_.effects.animateClass.call(this,{toggle:t},e,n,i)}}(_.fn.toggleClass),switchClass:function t(e,n,i,o,r){return _.effects.animateClass.call(this,{add:n,remove:e},i,o,r)}}),_.expr&&_.expr.filters&&_.expr.filters.animated&&(_.expr.filters.animated=function(e){return function(t){return!!_(t).data(f)||e(t)}}(_.expr.filters.animated)),_.uiBackCompat!==!1&&_.extend(_.effects,{save:function t(e,n){for(var i=0,o=n.length;o>i;i++)null!==n[i]&&e.data(p+n[i],e[0].style[n[i]])},restore:function t(e,n){for(var i,o=0,r=n.length;r>o;o++)null!==n[o]&&(i=e.data(p+n[o]),e.css(n[o],i))},setMode:function t(e,n){return"toggle"===n&&(n=e.is(":hidden")?"show":"hide"),n},createWrapper:function t(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},e=_("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return n.wrap(e),(n[0]===r||_.contains(n[0],r))&&_(r).trigger("focus"),e=n.parent(),"static"===n.css("position")?(e.css({position:"relative"}),n.css({position:"relative"})):(_.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),_.each(["top","left","bottom","right"],function(t,e){i[e]=n.css(e),isNaN(parseInt(i[e],10))&&(i[e]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(o),e.css(i).show()},removeWrapper:function t(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||_.contains(e[0],n))&&_(n).trigger("focus")),e}}),_.extend(_.effects,{version:"1.12.1",define:function t(e,n,i){return i||(i=n,n="effect"),_.effects.effect[e]=i,_.effects.effect[e].mode=n,i},scaledDimensions:function t(e,n,i){if(0===n)return{height:0,width:0,outerHeight:0,outerWidth:0};var o="horizontal"!==i?(n||100)/100:1,r="vertical"!==i?(n||100)/100:1;return{height:e.height()*r,width:e.width()*o,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*o}},clipToBox:function t(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function t(e,n,i){var o=e.queue();n>1&&o.splice.apply(o,[1,0].concat(o.splice(n,i))),e.dequeue()},saveStyle:function t(e){e.data(n,e[0].style.cssText)},restoreStyle:function t(e){e[0].style.cssText=e.data(n)||"",e.removeData(n)},mode:function t(e,n){var i=e.is(":hidden");return"toggle"===n&&(n=i?"show":"hide"),(i?"hide"===n:"show"===n)&&(n="none"),n},getBaseline:function t(e,n){var i,o;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/n.height}switch(e[1]){case"left":o=0;break;case"center":o=.5;break;case"right":o=1;break;default:o=e[1]/n.width}return{x:o,y:i}},createPlaceholder:function t(e){var n,i=e.css("position"),o=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=_("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(p+"placeholder",n)),e.css({position:i,left:o.left,top:o.top}),n},removePlaceholder:function t(e){var n=p+"placeholder",i=e.data(n);i&&(i.remove(),e.removeData(n))},cleanUp:function t(e){_.effects.restoreStyle(e),_.effects.removePlaceholder(e)},setTransition:function t(i,e,o,r){return r=r||{},_.each(e,function(t,e){var n=i.cssUnit(e);n[0]>0&&(r[e]=n[0]*o+n[1])}),r}}),_.fn.extend({effect:function t(){function e(t){function e(){i.removeData(f),_.effects.cleanUp(i),"hide"===o.mode&&i.hide(),n()}function n(){_.isFunction(s)&&s.call(i[0]),_.isFunction(t)&&t()}var i=_(this);o.mode=c.shift(),_.uiBackCompat===!1||a?"none"===o.mode?(i[l](),n()):r.call(i[0],o,e):(i.is(":hidden")?"hide"===l:"show"===l)?(i[l](),n()):r.call(i[0],o,n)}var o=O.apply(this,arguments),r=_.effects.effect[o.effect],a=r.mode,n=o.queue,i=n||"fx",s=o.complete,l=o.mode,c=[],d=function t(e){var n=_(this),i=_.effects.mode(n,l)||a;n.data(f,!0),c.push(i),a&&("show"===i||i===a&&"hide"===i)&&n.show(),a&&"none"===i||_.effects.saveStyle(n),_.isFunction(e)&&e()};return _.fx.off||!r?l?this[l](o.duration,s):this.each(function(){s&&s.call(this)}):n===!1?this.each(d).each(e):this.queue(i,d).queue(i,e)},show:function(n){return function(t){if($(t))return n.apply(this,arguments);var e=O.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}(_.fn.show),hide:function(n){return function(t){if($(t))return n.apply(this,arguments);var e=O.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}(_.fn.hide),toggle:function(n){return function(t){if($(t)||"boolean"==typeof t)return n.apply(this,arguments);var e=O.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}(_.fn.toggle),cssUnit:function t(e){var n=this.css(e),i=[];return _.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function t(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):D(this.css("clip"),this)},transfer:function t(e,n){var i=_(this),o=_(e.to),r="fixed"===o.css("position"),a=_("body"),s=r?a.scrollTop():0,l=r?a.scrollLeft():0,c=o.offset(),d={top:c.top-s,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},u=i.offset(),p=_("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-s,left:u.left-l,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(d,e.duration,e.easing,function(){p.remove(),_.isFunction(n)&&n()})}}),_.fx.step.clip=function(t){t.clipInit||(t.start=_(t.elem).cssClip(),"string"==typeof t.end&&(t.end=D(t.end,t.elem)),t.clipInit=!0),_(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})};var F={};_.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){F[t]=function(t){return Math.pow(t,e+2)}}),_.extend(F,{Sine:function t(e){return 1-Math.cos(e*Math.PI/2)},Circ:function t(e){return 1-Math.sqrt(1-e*e)},Elastic:function t(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function t(e){return e*e*(3*e-2)},Bounce:function t(e){for(var n,i=4;((n=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*n-2)/22-e,2)}}),_.each(F,function(t,e){_.easing["easeIn"+t]=e,_.easing["easeOut"+t]=function(t){return 1-e(1-t)},_.easing["easeInOut"+t]=function(t){return.5>t?e(2*t)/2:1-e(-2*t+2)/2}}),_.effects,_.effects.define("slide","show",function(t,e){var n,i,o=_(this),r={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,s=t.direction||"left",l="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s,d=t.distance||o["top"===l?"outerHeight":"outerWidth"](!0),u={};_.effects.createPlaceholder(o),n=o.cssClip(),i=o.position()[l],u[l]=(c?-1:1)*d+i,u.clip=o.cssClip(),u.clip[r[s][1]]=u.clip[r[s][0]],"show"===a&&(o.cssClip(u.clip),o.css(l,u[l]),u.clip=n,u[l]=i),o.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:e})})})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){"use strict";
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011â€“2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */function i(t,e){var n,i;1<t.originalEvent.touches.length||(t.preventDefault(),n=t.originalEvent.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i))}var o,r,a,s,l;(o=jQuery).support.touch="ontouchend"in document,o.support.touch&&(a=o.ui.mouse.prototype,s=a._mouseInit,l=a._mouseDestroy,a._touchStart=function(t){!r&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(r=!0,this._touchMoved=!1,i(t,"mouseover"),i(t,"mousemove"),i(t,"mousedown"))},a._touchMove=function(t){r&&(this._touchMoved=!0,i(t,"mousemove"))},a._touchEnd=function(t){r&&(i(t,"mouseup"),i(t,"mouseout"),this._touchMoved||i(t,"click"),r=!1)},a._mouseInit=function(){this.element.bind({touchstart:o.proxy(this,"_touchStart"),touchmove:o.proxy(this,"_touchMove"),touchend:o.proxy(this,"_touchEnd")}),s.call(this)},a._mouseDestroy=function(){this.element.unbind({touchstart:o.proxy(this,"_touchStart"),touchmove:o.proxy(this,"_touchMove"),touchend:o.proxy(this,"_touchEnd")}),l.call(this)})},function(t,e,n){"use strict";var i,K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=[n(137)],void 0!==(e="function"==typeof(i=function(Bt,Nt){"use strict";var i={beforeShow:t,move:t,change:t,show:t,hide:t,color:false,flat:false,showInput:false,allowEmpty:false,showButtons:true,clickoutFiresChange:true,showInitial:false,showPalette:false,showPaletteOnly:false,hideAfterPaletteSelect:false,togglePaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:false,className:"",containerClassName:"",replacerClassName:"",showAlpha:false,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:false,offset:null},Rt=[],Ut=!!/msie/i.exec(window.navigator.userAgent),Ht=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div");var n=e.style;n.cssText="background-color:rgba(0,0,0,.5)";return t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),zt=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),Wt=function(){var t="";if(Ut)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function qt(t,e,n,i){var o=[];for(var r=0;r<t.length;r++){var a=t[r];if(a){var s=tinycolor(a);var l=s.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(e,a)?" sp-thumb-active":"";var c=s.toString(i.preferredFormat||"rgb");var d=Ht?"background-color:"+s.toRgbString():"filter:"+s.toFilter();o.push('<span title="'+c+'" data-color="'+s.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+d+';"></span></span>')}else{var u="sp-clear-display";o.push(Bt("<div />").append(Bt('<span data-color="" style="background-color:transparent;" class="'+u+'"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+o.join("")+"</div>"}function Vt(){for(var t=0;t<Rt.length;t++)if(Rt[t])Rt[t].hide()}function Gt(t,e){var n=Bt.extend({},i,t);n.callbacks={move:o(n.move,e),change:o(n.change,e),show:o(n.show,e),hide:o(n.hide,e),beforeShow:o(n.beforeShow,e)};return n}function r(t,M){var c=Gt(M,t),i=c.flat,B=c.showSelectionPalette,n=c.localStorageKey,N=c.theme,o=c.callbacks,R=Qt(I,10),e=false,U=false,l=0,d=0,a=0,s=0,H=0,z=0,W=0,q=0,u=0,p=0,f=0,h=1,V=[],r=[],G={},m=c.selectionPalette.slice(0),J=c.maxSelectionSize,Y="sp-dragging",g=null;var v=t.ownerDocument,K=v.body,b=Bt(t),X=false,y=Bt(Wt,v).addClass(N),Q=y.find(".sp-picker-container"),Z=y.find(".sp-color"),tt=y.find(".sp-dragger"),et=y.find(".sp-hue"),nt=y.find(".sp-slider"),w=y.find(".sp-alpha-inner"),it=y.find(".sp-alpha"),ot=y.find(".sp-alpha-handle"),x=y.find(".sp-input"),rt=y.find(".sp-palette"),at=y.find(".sp-initial"),st=y.find(".sp-cancel"),lt=y.find(".sp-clear"),ct=y.find(".sp-choose"),dt=y.find(".sp-palette-toggle"),ut=b.is("input"),pt=ut&&b.attr("type")==="color"&&Kt(),ft=ut&&!i,_=ft?Bt(zt).addClass(N).addClass(c.className).addClass(c.replacerClassName):Bt([]),k=ft?_:b,S=_.find(".sp-preview-inner"),C=c.color||ut&&b.val(),P=false,T=c.preferredFormat,ht=!c.showButtons||c.clickoutFiresChange,j=!C,E=c.allowEmpty&&!pt;function mt(){if(c.showPaletteOnly)c.showPalette=true;dt.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText);if(c.palette){V=c.palette.slice(0);r=Bt.isArray(V[0])?V:[V];G={};for(var t=0;t<r.length;t++)for(var e=0;e<r[t].length;e++){var n=tinycolor(r[t][e]).toRgbString();G[n]=true}}y.toggleClass("sp-flat",i);y.toggleClass("sp-input-disabled",!c.showInput);y.toggleClass("sp-alpha-enabled",c.showAlpha);y.toggleClass("sp-clear-enabled",E);y.toggleClass("sp-buttons-disabled",!c.showButtons);y.toggleClass("sp-palette-buttons-disabled",!c.togglePaletteOnly);y.toggleClass("sp-palette-disabled",!c.showPalette);y.toggleClass("sp-palette-only",c.showPaletteOnly);y.toggleClass("sp-initial-disabled",!c.showInitial);y.addClass(c.className).addClass(c.containerClassName);I()}function gt(){if(Ut)y.find("*:not(input)").attr("unselectable","on");mt();if(ft)b.after(_).hide();if(!E)lt.hide();if(i)b.after(y).hide();else{var t=c.appendTo==="parent"?b.parent():Bt(c.appendTo);if(t.length!==1)t=Bt("body");t.append(y)}vt();k.on("click.spectrum touchstart.spectrum",function(t){if(!X)Ct();t.stopPropagation();if(!Bt(t.target).is("input"))t.preventDefault()});if(b.is(":disabled")||c.disabled===true)Ft();y.click(Xt);x.change(St);x.on("paste",function(){setTimeout(St,1)});x.keydown(function(t){if(t.keyCode==13)St()});st.text(c.cancelText);st.on("click.spectrum",function(t){t.stopPropagation();t.preventDefault();Et();A()});lt.attr("title",c.clearText);lt.on("click.spectrum",function(t){t.stopPropagation();t.preventDefault();j=true;$();if(i)F(true)});ct.text(c.chooseText);ct.on("click.spectrum",function(t){t.stopPropagation();t.preventDefault();if(Ut&&x.is(":focus"))x.trigger("change");if(At()){F(true);A()}});dt.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText);dt.on("click.spectrum",function(t){t.stopPropagation();t.preventDefault();c.showPaletteOnly=!c.showPaletteOnly;if(!c.showPaletteOnly&&!i)y.css("left","-="+(Q.outerWidth(true)+5));mt()});Yt(it,function(t,e,n){h=t/z;j=false;if(n.shiftKey)h=Math.round(h*10)/10;$()},_t,kt);Yt(et,function(t,e){u=parseFloat(e/s);j=false;if(!c.showAlpha)h=1;$()},_t,kt);Yt(Z,function(t,e,n){if(!n.shiftKey)g=null;else if(!g){var i=p*l;var o=d-f*d;var r=Math.abs(t-i)>Math.abs(e-o);g=r?"x":"y"}var a=!g||g==="x";var s=!g||g==="y";if(a)p=parseFloat(t/l);if(s)f=parseFloat((d-e)/d);j=false;if(!c.showAlpha)h=1;$()},_t,kt);if(!!C){L(C);D();T=c.preferredFormat||tinycolor(C).format;bt(C)}else D();if(i)Pt();function e(t){if(t.data&&t.data.ignore){L(Bt(t.target).closest(".sp-thumb-el").data("color"));$()}else{L(Bt(t.target).closest(".sp-thumb-el").data("color"));$();if(c.hideAfterPaletteSelect){F(true);A()}else F()}return false}var n=Ut?"mousedown.spectrum":"click.spectrum touchstart.spectrum";rt.on(n,".sp-thumb-el",e);at.on(n,".sp-thumb-el:nth-child(1)",{ignore:true},e)}function vt(){if(n&&window.localStorage){try{var t=window.localStorage[n].split(",#");if(t.length>1){delete window.localStorage[n];Bt.each(t,function(t,e){bt(e)})}}catch(t){}try{m=window.localStorage[n].split(";")}catch(t){}}}function bt(t){if(B){var e=tinycolor(t).toRgbString();if(!G[e]&&Bt.inArray(e,m)===-1){m.push(e);while(m.length>J)m.shift()}if(n&&window.localStorage)try{window.localStorage[n]=m.join(";")}catch(t){}}}function yt(){var t=[];if(c.showPalette)for(var e=0;e<m.length;e++){var n=tinycolor(m[e]).toRgbString();if(!G[n])t.push(m[e])}return t.reverse().slice(0,c.maxSelectionSize)}function wt(){var n=O();var t=Bt.map(r,function(t,e){return qt(t,n,"sp-palette-row sp-palette-row-"+e,c)});vt();if(m)t.push(qt(yt(),n,"sp-palette-row sp-palette-row-selection",c));rt.html(t.join(""))}function xt(){if(c.showInitial){var t=P;var e=O();at.html(qt([t,e],e,"sp-palette-row-initial",c))}}function _t(){if(d<=0||l<=0||s<=0)I();U=true;y.addClass(Y);g=null;b.trigger("dragstart.spectrum",[O()])}function kt(){U=false;y.removeClass(Y);b.trigger("dragstop.spectrum",[O()])}function St(){var t=x.val();if((t===null||t==="")&&E){L(null);$();F()}else{var e=tinycolor(t);if(e.isValid()){L(e);$();F()}else x.addClass("sp-validation-error")}}function Ct(){if(e)A();else Pt()}function Pt(){var t=Bt.Event("beforeShow.spectrum");if(e){I();return}b.trigger(t,[O()]);if(o.beforeShow(O())===false||t.isDefaultPrevented())return;Vt();e=true;Bt(v).on("keydown.spectrum",Tt);Bt(v).on("click.spectrum",jt);Bt(window).on("resize.spectrum",R);_.addClass("sp-active");y.removeClass("sp-hidden");I();D();P=O();xt();o.show(P);b.trigger("show.spectrum",[P])}function Tt(t){if(t.keyCode===27)A()}function jt(t){if(t.button==2)return;if(U)return;if(ht)F(true);else Et();A()}function A(){if(!e||i)return;e=false;Bt(v).off("keydown.spectrum",Tt);Bt(v).off("click.spectrum",jt);Bt(window).off("resize.spectrum",R);_.removeClass("sp-active");y.addClass("sp-hidden");o.hide(O());b.trigger("hide.spectrum",[O()])}function Et(){L(P,true);F(true)}function L(t,e){if(tinycolor.equals(t,O())){D();return}var n,i;if(!t&&E)j=true;else{j=false;n=tinycolor(t);i=n.toHsv();u=i.h%360/360;p=i.s;f=i.v;h=i.a}D();if(n&&n.isValid()&&!e)T=c.preferredFormat||n.getFormat()}function O(t){t=t||{};if(E&&j)return null;return tinycolor.fromRatio({h:u,s:p,v:f,a:Math.round(h*1e3)/1e3},{format:t.format||T})}function At(){return!x.hasClass("sp-validation-error")}function $(){D();o.move(O());b.trigger("move.spectrum",[O()])}function D(){x.removeClass("sp-validation-error");Lt();var t=tinycolor.fromRatio({h:u,s:1,v:1});Z.css("background-color",t.toHexString());var e=T;if(h<1&&!(h===0&&e==="name"))if(e==="hex"||e==="hex3"||e==="hex6"||e==="name")e="rgb";var n=O({format:e}),i="";S.removeClass("sp-clear-display");S.css("background-color","transparent");if(!n&&E)S.addClass("sp-clear-display");else{var o=n.toHexString(),r=n.toRgbString();if(Ht||n.alpha===1)S.css("background-color",r);else{S.css("background-color","transparent");S.css("filter",n.toFilter())}if(c.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString();var l="linear-gradient(left, "+s+", "+o+")";if(Ut)w.css("filter",tinycolor(s).toFilter({gradientType:1},o));else{w.css("background","-webkit-"+l);w.css("background","-moz-"+l);w.css("background","-ms-"+l);w.css("background","linear-gradient(to right, "+s+", "+o+")")}}i=n.toString(e)}if(c.showInput)x.val(i);if(c.showPalette)wt();xt()}function Lt(){var t=p;var e=f;if(E&&j){ot.hide();nt.hide();tt.hide()}else{ot.show();nt.show();tt.show();var n=t*l;var i=d-e*d;n=Math.max(-a,Math.min(l-a,n-a));i=Math.max(-a,Math.min(d-a,i-a));tt.css({top:i+"px",left:n+"px"});var o=h*z;ot.css({left:o-W/2+"px"});var r=u*s;nt.css({top:r-q+"px"})}}function F(t){var e=O(),n="",i=!tinycolor.equals(e,P);if(e){n=e.toString(T);bt(e)}if(ut)b.val(n);if(t&&i){o.change(e);b.trigger("change",[e])}}function I(){if(!e)return;l=Z.width();d=Z.height();a=tt.height();H=et.width();s=et.height();q=nt.height();z=it.width();W=ot.width();if(!i){y.css("position","absolute");if(c.offset)y.offset(c.offset);else y.offset(Jt(y,k))}Lt();if(c.showPalette)wt();b.trigger("reflow.spectrum")}function Ot(){b.show();k.off("click.spectrum touchstart.spectrum");y.remove();_.remove();Rt[Mt.id]=null}function $t(t,e){if(t===Nt)return Bt.extend({},c);if(e===Nt)return c[t];c[t]=e;if(t==="preferredFormat")T=c.preferredFormat;mt()}function Dt(){X=false;b.attr("disabled",false);k.removeClass("sp-disabled")}function Ft(){A();X=true;b.attr("disabled",true);k.addClass("sp-disabled")}function It(t){c.offset=t;I()}gt();var Mt={show:Pt,hide:A,toggle:Ct,reflow:I,option:$t,enable:Dt,disable:Ft,offset:It,set:function t(e){L(e);F()},get:O,destroy:Ot,container:y};Mt.id=Rt.push(Mt)-1;return Mt}function Jt(t,e){var n=0;var i=t.outerWidth();var o=t.outerHeight();var r=e.outerHeight();var a=t[0].ownerDocument;var s=a.documentElement;var l=s.clientWidth+Bt(a).scrollLeft();var c=s.clientHeight+Bt(a).scrollTop();var d=e.offset();var u=d.left;var p=d.top;p+=r;u-=Math.min(u,u+i>l&&l>i?Math.abs(u+i-l):0);p-=Math.min(p,p+o>c&&c>o?Math.abs(o+r-n):n);return{top:p,bottom:d.bottom,left:u,right:d.right,width:d.width,height:d.height}}function t(){}function Xt(t){t.stopPropagation()}function o(t,e){var n=Array.prototype.slice;var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function Yt(a,s,n,t){s=s||function(){};n=n||function(){};t=t||function(){};var l=document;var c=false;var d={};var u=0;var p=0;var f="ontouchstart"in window;var i={};i["selectstart"]=h;i["dragstart"]=h;i["touchmove mousemove"]=o;i["touchend mouseup"]=m;function h(t){if(t.stopPropagation)t.stopPropagation();if(t.preventDefault)t.preventDefault();t.returnValue=false}function o(t){if(c){if(Ut&&l.documentMode<9&&!t.button)return m();var e=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0];var n=e&&e.pageX||t.pageX;var i=e&&e.pageY||t.pageY;var o=Math.max(0,Math.min(n-d.left,p));var r=Math.max(0,Math.min(i-d.top,u));if(f)h(t);s.apply(a,[o,r,t])}}function e(t){var e=t.which?t.which==3:t.button==2;if(!e&&!c)if(n.apply(a,arguments)!==false){c=true;u=Bt(a).height();p=Bt(a).width();d=Bt(a).offset();Bt(l).on(i);Bt(l.body).addClass("sp-dragging");o(t);h(t)}}function m(){if(c){Bt(l).off(i);Bt(l.body).removeClass("sp-dragging");setTimeout(function(){t.apply(a,arguments)},0)}c=false}Bt(a).on("touchstart mousedown",e)}function Qt(i,o,r){var a;return function(){var e=this,n=arguments;var t=function t(){a=null;i.apply(e,n)};if(r)clearTimeout(a);if(r||!a)a=setTimeout(t,o)}}function Kt(){return Bt.fn.spectrum.inputTypeColorSupport()}var a="spectrum.id",k=(Bt.fn.spectrum=function(n,t){if(typeof n=="string"){var i=this;var o=Array.prototype.slice.call(arguments,1);this.each(function(){var t=Rt[Bt(this).data(a)];if(t){var e=t[n];if(!e)throw new Error("Spectrum: no such method: '"+n+"'");if(n=="get")i=t.get();else if(n=="container")i=t.container;else if(n=="option")i=t.option.apply(t,o);else if(n=="destroy"){t.destroy();Bt(this).removeData(a)}else e.apply(t,o)}});return i}return this.spectrum("destroy").each(function(){var t=Bt.extend({},Bt(this).data(),n);var e=r(this,t);Bt(this).data(a,e.id)})},Bt.fn.spectrum.load=true,Bt.fn.spectrum.loadOpts={},Bt.fn.spectrum.draggable=Yt,Bt.fn.spectrum.defaults=i,Bt.fn.spectrum.inputTypeColorSupport=function t(){if(typeof t._cachedResult==="undefined"){var e=Bt("<input type='color'/>")[0];t._cachedResult=e.type==="color"&&e.value!==""}return t._cachedResult},Bt.spectrum={},Bt.spectrum.localization={},Bt.spectrum.palettes={},Bt.fn.spectrum.processNativeColorInputs=function(){var t=Bt("input[type=color]");if(t.length&&!Kt())t.spectrum({preferredFormat:"hex6"})},/^[\s,#]+/),S=/\s+$/,C=0,p=Math,s=p.round,c=p.min,d=p.max,e=p.random,u=function t(e,n){e=e?e:"";n=n||{};if(e instanceof t)return e;if(!(this instanceof t))return new t(e,n);var i=P(e);this._originalInput=e;this._r=i.r;this._g=i.g;this._b=i.b;this._a=i.a;this._roundA=s(1e3*this._a)/1e3;this._format=n.format||i.format;this._gradientType=n.gradientType;if(this._r<1)this._r=s(this._r);if(this._g<1)this._g=s(this._g);if(this._b<1)this._b=s(this._b);this._ok=i.ok;this._tc_id=C++};function P(t){var e={r:0,g:0,b:0};var n=1;var i=false;var o=false;if(typeof t=="string")t=Y(t);if((typeof t==="undefined"?"undefined":K(t))=="object"){if(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")){e=T(t.r,t.g,t.b);i=true;o=String(t.r).substr(-1)==="%"?"prgb":"rgb"}else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")){t.s=x(t.s);t.v=x(t.v);e=E(t.h,t.s,t.v);i=true;o="hsv"}else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")){t.s=x(t.s);t.l=x(t.l);e=j(t.h,t.s,t.l);i=true;o="hsl"}if(t.hasOwnProperty("a"))n=t.a}n=g(n);return{ok:i,format:t.format||o,r:c(255,d(e.r,0)),g:c(255,d(e.g,0)),b:c(255,d(e.b,0)),a:n}}function T(t,e,n){return{r:v(t,255)*255,g:v(e,255)*255,b:v(n,255)*255}}function l(t,e,n){t=v(t,255);e=v(e,255);n=v(n,255);var i=d(t,e,n),o=c(t,e,n);var r,a,s=(i+o)/2;if(i==o)r=a=0;else{var l=i-o;a=s>.5?l/(2-i-o):l/(i+o);switch(i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:a,l:s}}function j(t,e,n){var i,o,r;t=v(t,360);e=v(e,100);n=v(n,100);function a(t,e,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return t+(e-t)*6*n;if(n<1/2)return e;if(n<2/3)return t+(e-t)*(2/3-n)*6;return t}if(e===0)i=o=r=n;else{var s=n<.5?n*(1+e):n+e-n*e;var l=2*n-s;i=a(l,s,t+1/3);o=a(l,s,t);r=a(l,s,t-1/3)}return{r:i*255,g:o*255,b:r*255}}function f(t,e,n){t=v(t,255);e=v(e,255);n=v(n,255);var i=d(t,e,n),o=c(t,e,n);var r,a,s=i;var l=i-o;a=i===0?0:l/i;if(i==o)r=0;else{switch(i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:a,v:s}}function E(t,e,n){t=v(t,360)*6;e=v(e,100);n=v(n,100);var i=p.floor(t),o=t-i,r=n*(1-e),a=n*(1-o*e),s=n*(1-(1-o)*e),l=i%6,c=[n,a,r,r,s,n][l],d=[s,n,n,a,r,r][l],u=[r,r,s,n,n,a][l];return{r:c*255,g:d*255,b:u*255}}function n(t,e,n,i){var o=[w(s(t).toString(16)),w(s(e).toString(16)),w(s(n).toString(16))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0);return o.join("")}function h(t,e,n,i){var o=[w(G(i)),w(s(t).toString(16)),w(s(e).toString(16)),w(s(n).toString(16))];return o.join("")}function A(t,e){e=e===0?0:e||10;var n=u(t).toHsl();n.s-=e/100;n.s=b(n.s);return u(n)}function L(t,e){e=e===0?0:e||10;var n=u(t).toHsl();n.s+=e/100;n.s=b(n.s);return u(n)}function O(t){return u(t).desaturate(100)}function $(t,e){e=e===0?0:e||10;var n=u(t).toHsl();n.l+=e/100;n.l=b(n.l);return u(n)}function D(t,e){e=e===0?0:e||10;var n=u(t).toRgb();n.r=d(0,c(255,n.r-s(255*-(e/100))));n.g=d(0,c(255,n.g-s(255*-(e/100))));n.b=d(0,c(255,n.b-s(255*-(e/100))));return u(n)}function F(t,e){e=e===0?0:e||10;var n=u(t).toHsl();n.l-=e/100;n.l=b(n.l);return u(n)}function I(t,e){var n=u(t).toHsl();var i=(s(n.h)+e)%360;n.h=i<0?360+i:i;return u(n)}function M(t){var e=u(t).toHsl();e.h=(e.h+180)%360;return u(e)}function B(t){var e=u(t).toHsl();var n=e.h;return[u(t),u({h:(n+120)%360,s:e.s,l:e.l}),u({h:(n+240)%360,s:e.s,l:e.l})]}function N(t){var e=u(t).toHsl();var n=e.h;return[u(t),u({h:(n+90)%360,s:e.s,l:e.l}),u({h:(n+180)%360,s:e.s,l:e.l}),u({h:(n+270)%360,s:e.s,l:e.l})]}function R(t){var e=u(t).toHsl();var n=e.h;return[u(t),u({h:(n+72)%360,s:e.s,l:e.l}),u({h:(n+216)%360,s:e.s,l:e.l})]}function U(t,e,n){e=e||6;n=n||30;var i=u(t).toHsl();var o=360/n;var r=[u(t)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;){i.h=(i.h+o)%360;r.push(u(i))}return r}function H(t,e){e=e||6;var n=u(t).toHsv();var i=n.h,o=n.s,r=n.v;var a=[];var s=1/e;while(e--){a.push(u({h:i,s:o,v:r}));r=(r+s)%1}return a}u.prototype={isDark:function t(){return this.getBrightness()<128},isLight:function t(){return!this.isDark()},isValid:function t(){return this._ok},getOriginalInput:function t(){return this._originalInput},getFormat:function t(){return this._format},getAlpha:function t(){return this._a},getBrightness:function t(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},setAlpha:function t(e){this._a=g(e);this._roundA=s(1e3*this._a)/1e3;return this},toHsv:function t(){var e=f(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function t(){var e=f(this._r,this._g,this._b);var n=s(e.h*360),i=s(e.s*100),o=s(e.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+o+"%)":"hsva("+n+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function t(){var e=l(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function t(){var e=l(this._r,this._g,this._b);var n=s(e.h*360),i=s(e.s*100),o=s(e.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+o+"%)":"hsla("+n+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function t(e){return n(this._r,this._g,this._b,e)},toHexString:function t(e){return"#"+this.toHex(e)},toHex8:function t(){return h(this._r,this._g,this._b,this._a)},toHex8String:function t(){return"#"+this.toHex8()},toRgb:function t(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function t(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function t(){return{r:s(v(this._r,255)*100)+"%",g:s(v(this._g,255)*100)+"%",b:s(v(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function t(){return this._a==1?"rgb("+s(v(this._r,255)*100)+"%, "+s(v(this._g,255)*100)+"%, "+s(v(this._b,255)*100)+"%)":"rgba("+s(v(this._r,255)*100)+"%, "+s(v(this._g,255)*100)+"%, "+s(v(this._b,255)*100)+"%, "+this._roundA+")"},toName:function t(){if(this._a===0)return"transparent";if(this._a<1)return false;return z[n(this._r,this._g,this._b,true)]||false},toFilter:function t(e){var n="#"+h(this._r,this._g,this._b,this._a);var i=n;var o=this._gradientType?"GradientType = 1, ":"";if(e){var r=u(e);i=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+n+",endColorstr="+i+")"},toString:function t(e){var n=!!e;e=e||this._format;var i=false;var o=this._a<1&&this._a>=0;var r=!n&&o&&(e==="hex"||e==="hex6"||e==="hex3"||e==="name");if(r){if(e==="name"&&this._a===0)return this.toName();return this.toRgbString()}if(e==="rgb")i=this.toRgbString();if(e==="prgb")i=this.toPercentageRgbString();if(e==="hex"||e==="hex6")i=this.toHexString();if(e==="hex3")i=this.toHexString(true);if(e==="hex8")i=this.toHex8String();if(e==="name")i=this.toName();if(e==="hsl")i=this.toHslString();if(e==="hsv")i=this.toHsvString();return i||this.toHexString()},_applyModification:function t(e,n){var i=e.apply(null,[this].concat([].slice.call(n)));this._r=i._r;this._g=i._g;this._b=i._b;this.setAlpha(i._a);return this},lighten:function t(){return this._applyModification($,arguments)},brighten:function t(){return this._applyModification(D,arguments)},darken:function t(){return this._applyModification(F,arguments)},desaturate:function t(){return this._applyModification(A,arguments)},saturate:function t(){return this._applyModification(L,arguments)},greyscale:function t(){return this._applyModification(O,arguments)},spin:function t(){return this._applyModification(I,arguments)},_applyCombination:function t(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function t(){return this._applyCombination(U,arguments)},complement:function t(){return this._applyCombination(M,arguments)},monochromatic:function t(){return this._applyCombination(H,arguments)},splitcomplement:function t(){return this._applyCombination(R,arguments)},triad:function t(){return this._applyCombination(B,arguments)},tetrad:function t(){return this._applyCombination(N,arguments)}},u.fromRatio=function(t,e){if((typeof t==="undefined"?"undefined":K(t))=="object"){var n={};for(var i in t)if(t.hasOwnProperty(i))if(i==="a")n[i]=t[i];else n[i]=x(t[i]);t=n}return u(t,e)},u.equals=function(t,e){if(!t||!e)return false;return u(t).toRgbString()==u(e).toRgbString()},u.random=function(){return u.fromRatio({r:e(),g:e(),b:e()})},u.mix=function(t,e,n){n=n===0?0:n||50;var i=u(t).toRgb();var o=u(e).toRgb();var r=n/100;var a=r*2-1;var s=o.a-i.a;var l;if(a*s==-1)l=a;else l=(a+s)/(1+a*s);l=(l+1)/2;var c=1-l;var d={r:o.r*l+i.r*c,g:o.g*l+i.g*c,b:o.b*l+i.b*c,a:o.a*r+i.a*(1-r)};return u(d)},u.readability=function(t,e){var n=u(t);var i=u(e);var o=n.toRgb();var r=i.toRgb();var a=n.getBrightness();var s=i.getBrightness();var l=Math.max(o.r,r.r)-Math.min(o.r,r.r)+Math.max(o.g,r.g)-Math.min(o.g,r.g)+Math.max(o.b,r.b)-Math.min(o.b,r.b);return{brightness:Math.abs(a-s),color:l}},u.isReadable=function(t,e){var n=u.readability(t,e);return n.brightness>125&&n.color>500},u.mostReadable=function(t,e){var n=null;var i=0;var o=false;for(var r=0;r<e.length;r++){var a=u.readability(t,e[r]);var s=a.brightness>125&&a.color>500;var l=3*(a.brightness/125)+a.color/500;if(s&&!o||s&&o&&l>i||!s&&!o&&l>i){o=s;i=l;n=u(e[r])}}return n};var m=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=u.hexNames=W(m);function W(t){var e={};for(var n in t)if(t.hasOwnProperty(n))e[t[n]]=n;return e}function g(t){t=parseFloat(t);if(isNaN(t)||t<0||t>1)t=1;return t}function v(t,e){if(q(t))t="100%";var n=V(t);t=c(e,d(0,parseFloat(t)));if(n)t=parseInt(t*e,10)/100;if(p.abs(t-e)<1e-6)return 1;return t%e/parseFloat(e)}function b(t){return c(1,d(0,t))}function y(t){return parseInt(t,16)}function q(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function V(t){return typeof t==="string"&&t.indexOf("%")!=-1}function w(t){return t.length==1?"0"+t:""+t}function x(t){if(t<=1)t=t*100+"%";return t}function G(t){return Math.round(parseFloat(t)*255).toString(16)}function J(t){return y(t)/255}var _=function(){var t="[-\\+]?\\d+%?";var e="[-\\+]?\\d*\\.\\d+%?";var n="(?:"+e+")|(?:"+t+")";var i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";var o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Y(t){t=t.replace(k,"").replace(S,"").toLowerCase();var e=false;if(m[t]){t=m[t];e=true}else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;if(n=_.rgb.exec(t))return{r:n[1],g:n[2],b:n[3]};if(n=_.rgba.exec(t))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=_.hsl.exec(t))return{h:n[1],s:n[2],l:n[3]};if(n=_.hsla.exec(t))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=_.hsv.exec(t))return{h:n[1],s:n[2],v:n[3]};if(n=_.hsva.exec(t))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=_.hex8.exec(t))return{a:J(n[1]),r:y(n[2]),g:y(n[3]),b:y(n[4]),format:e?"name":"hex8"};if(n=_.hex6.exec(t))return{r:y(n[1]),g:y(n[2]),b:y(n[3]),format:e?"name":"hex"};if(n=_.hex3.exec(t))return{r:y(n[1]+""+n[1]),g:y(n[2]+""+n[2]),b:y(n[3]+""+n[3]),format:e?"name":"hex"};return false}window.tinycolor=u,Bt(function(){if(Bt.fn.spectrum.load)Bt.fn.spectrum.processNativeColorInputs()})})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){"use strict";var $,D,i,s,d,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function l(t,e){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=$(t),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=$.extend({},s,e),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function a(n,i){var o=!0;return $.each(n,function(t,e){if(void 0===i[t]||n[t]!==i[t])return o=!1}),o}function c(){return!o&&d}function u(){var t=(i.body||i.documentElement).style;if("string"==typeof t[e="transition"])return 1;v=["Moz","Webkit","Khtml","O","ms"];for(var e=e.charAt(0).toUpperCase()+e.substr(1),n=0;n<v.length;n++)if("string"==typeof t[v[n]+e])return 1}$=jQuery,D=window,i=document,s={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(t,e){},functionBefore:function(t,e){e()},functionReady:function(t,e){},functionAfter:function(t){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(t){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},l.prototype={_init:function(){var t,e=this;i.querySelector&&(t=null,void 0===e.$el.data("tooltipster-initialTitle")&&(t=e.$el.attr("title"),e.$el.data("tooltipster-initialTitle",t=void 0===t?null:t)),null!==e.options.content?e._content_set(e.options.content):e._content_set(t),void 0!==(t=e.options.functionInit.call(e.$el,e.$el,e.Content))&&e._content_set(t),e.$el.removeAttr("title").addClass("tooltipstered"),!d&&e.options.iconDesktop||d&&e.options.iconTouch?("string"==typeof e.options.icon?(e.$elProxy=$('<span class="'+e.options.iconTheme+'"></span>'),e.$elProxy.text(e.options.icon)):e.options.iconCloning?e.$elProxy=e.options.icon.clone(!0):e.$elProxy=e.options.icon,e.$elProxy.insertAfter(e.$el)):e.$elProxy=e.$el,"hover"==e.options.trigger?(e.$elProxy.on("mouseenter."+e.namespace,function(){c()&&!e.options.touchDevices||(e.mouseIsOverProxy=!0,e._show())}).on("mouseleave."+e.namespace,function(){c()&&!e.options.touchDevices||(e.mouseIsOverProxy=!1)}),d&&e.options.touchDevices&&e.$elProxy.on("touchstart."+e.namespace,function(){e._showNow()})):"click"==e.options.trigger&&e.$elProxy.on("click."+e.namespace,function(){c()&&!e.options.touchDevices||e._show()}))},_show:function(){var t=this;"shown"!=t.Status&&"appearing"!=t.Status&&(t.options.delay?t.timerShow=setTimeout(function(){("click"==t.options.trigger||"hover"==t.options.trigger&&t.mouseIsOverProxy)&&t._showNow()},t.options.delay):t._showNow())},_showNow:function(l){var c=this;c.options.functionBefore.call(c.$el,c.$el,function(){var t,e,n,i,o,r,a,s;c.enabled&&null!==c.Content&&(l&&c.callbacks.show.push(l),c.callbacks.hide=[],clearTimeout(c.timerShow),c.timerShow=null,clearTimeout(c.timerHide),c.timerHide=null,c.options.onlyOne&&$(".tooltipstered").not(c.$el).each(function(t,e){var o=$(e),e=o.data("tooltipster-ns");$.each(e,function(t,e){var e=o.data(e),n=e.status(),i=e.option("autoClose");"hidden"!==n&&"disappearing"!==n&&i&&e.hide()})}),t=function(){c.Status="shown",$.each(c.callbacks.show,function(t,e){e.call(c.$el)}),c.callbacks.show=[]},"hidden"!==c.Status?(e=0,"disappearing"===c.Status?(c.Status="appearing",u()?(c.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+c.options.animation+"-show"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(t)):c.$tooltip.stop().fadeIn(t)):"shown"===c.Status&&t()):(c.Status="appearing",e=c.options.speed,c.bodyOverflowX=$("body").css("overflow-x"),$("body").css("overflow-x","hidden"),n="tooltipster-"+c.options.animation,i="-webkit-transition-duration: "+c.options.speed+"ms; -webkit-animation-duration: "+c.options.speed+"ms; -moz-transition-duration: "+c.options.speed+"ms; -moz-animation-duration: "+c.options.speed+"ms; -o-transition-duration: "+c.options.speed+"ms; -o-animation-duration: "+c.options.speed+"ms; -ms-transition-duration: "+c.options.speed+"ms; -ms-animation-duration: "+c.options.speed+"ms; transition-duration: "+c.options.speed+"ms; animation-duration: "+c.options.speed+"ms;",o=c.options.minWidth?"min-width:"+Math.round(c.options.minWidth)+"px;":"",r=c.options.maxWidth?"max-width:"+Math.round(c.options.maxWidth)+"px;":"",a=c.options.interactive?"pointer-events: auto;":"",c.$tooltip=$('<div class="tooltipster-base '+c.options.theme+'" style="'+o+" "+r+" "+a+" "+i+'"><div class="tooltipster-content"></div></div>'),u()&&c.$tooltip.addClass(n),c._content_insert(),c.$tooltip.appendTo("body"),c.reposition(),c.options.functionReady.call(c.$el,c.$el,c.$tooltip),u()?(c.$tooltip.addClass(n+"-show"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(t)):c.$tooltip.css("display","none").fadeIn(c.options.speed,t),c._interval_set(),$(D).on("scroll."+c.namespace+" resize."+c.namespace,function(){c.reposition()}),c.options.autoClose&&($("body").off("."+c.namespace),"hover"==c.options.trigger?(d&&setTimeout(function(){$("body").on("touchstart."+c.namespace,function(){c.hide()})},0),c.options.interactive?(d&&c.$tooltip.on("touchstart."+c.namespace,function(t){t.stopPropagation()}),s=null,c.$elProxy.add(c.$tooltip).on("mouseleave."+c.namespace+"-autoClose",function(){clearTimeout(s),s=setTimeout(function(){c.hide()},c.options.interactiveTolerance)}).on("mouseenter."+c.namespace+"-autoClose",function(){clearTimeout(s)})):c.$elProxy.on("mouseleave."+c.namespace+"-autoClose",function(){c.hide()}),c.options.hideOnClick&&c.$elProxy.on("click."+c.namespace+"-autoClose",function(){c.hide()})):"click"==c.options.trigger&&(setTimeout(function(){$("body").on("click."+c.namespace+" touchstart."+c.namespace,function(){c.hide()})},0),c.options.interactive)&&c.$tooltip.on("click."+c.namespace+" touchstart."+c.namespace,function(t){t.stopPropagation()}))),0<c.options.timer)&&(c.timerHide=setTimeout(function(){c.timerHide=null,c.hide()},c.options.timer+e))})},_interval_set:function(){var n=this;n.checkInterval=setInterval(function(){var t,e;0===$("body").find(n.$el).length||0===$("body").find(n.$elProxy).length||"hidden"==n.Status||0===$("body").find(n.$tooltip).length?("shown"!=n.Status&&"appearing"!=n.Status||n.hide(),n._interval_cancel()):n.options.positionTracker&&(e=!1,a((t=n._repositionInfo(n.$elProxy)).dimension,n.elProxyPosition.dimension)&&("fixed"===n.$elProxy.css("position")?a(t.position,n.elProxyPosition.position)&&(e=!0):a(t.offset,n.elProxyPosition.offset)&&(e=!0)),e||(n.reposition(),n.options.positionTrackerCallback.call(n,n.$el)))},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(t){"object"===(void 0===t?"undefined":r(t))&&null!==t&&this.options.contentCloning&&(t=t.clone(!0)),this.Content=t},_content_insert:function(){var t=this.$tooltip.find(".tooltipster-content");"string"!=typeof this.Content||this.options.contentAsHTML?t.empty().append(this.Content):t.text(this.Content)},_update:function(t){var e=this;e._content_set(t),null!==e.Content?"hidden"!==e.Status&&(e._content_insert(),e.reposition(),e.options.updateAnimation)&&(u()?(e.$tooltip.css({width:"","-webkit-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=e.Status&&(e.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==e.Status&&e.$tooltip.css({"-webkit-transition":e.options.speed+"ms","-moz-transition":e.options.speed+"ms","-o-transition":e.options.speed+"ms","-ms-transition":e.options.speed+"ms",transition:e.options.speed+"ms"})},e.options.speed))},e.options.speed)):e.$tooltip.fadeTo(e.options.speed,.5,function(){"hidden"!=e.Status&&e.$tooltip.fadeTo(e.options.speed,1)})):e.hide()},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(!1),width:t.outerWidth(!1)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(t){var n=this,e=(t&&n.callbacks.hide.push(t),n.callbacks.show=[],clearTimeout(n.timerShow),n.timerShow=null,clearTimeout(n.timerHide),n.timerHide=null,function(){$.each(n.callbacks.hide,function(t,e){e.call(n.$el)}),n.callbacks.hide=[]});return"shown"==n.Status||"appearing"==n.Status?(n.Status="disappearing",t=function(){n.Status="hidden","object"==r(n.Content)&&null!==n.Content&&n.Content.detach(),n.$tooltip.remove(),n.$tooltip=null,$(D).off("."+n.namespace),$("body").off("."+n.namespace).css("overflow-x",n.bodyOverflowX),$("body").off("."+n.namespace),n.$elProxy.off("."+n.namespace+"-autoClose"),n.options.functionAfter.call(n.$el,n.$el),e()},u()?(n.$tooltip.clearQueue().removeClass("tooltipster-"+n.options.animation+"-show").addClass("tooltipster-dying"),0<n.options.speed&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(t)):n.$tooltip.stop().fadeOut(n.options.speed,t)):"hidden"==n.Status&&e(),n},show:function(t){return this._showNow(t),this},update:function(t){return this.content(t)},content:function(t){return void 0===t?this.Content:(this._update(t),this)},reposition:function(){var t=this;if(0!==$("body").find(t.$tooltip).length){var e=function(){var t=$(D).scrollLeft();E-t<0&&(i=E-t,E=t),o<E+a-t&&(i=E-(o+t-a),E=o+t-a)},n=function(t,e){r.offset.top-$(D).scrollTop()-s-L-12<0&&-1<e.indexOf("top")&&(O=t),r.offset.top+r.dimension.height+s+12+L>$(D).scrollTop()+$(D).height()&&-1<e.indexOf("bottom")&&(O=t,A=r.offset.top-s-L-12)},i=(t.$tooltip.css("width",""),t.elProxyPosition=t._repositionInfo(t.$elProxy),null),o=$(D).width(),r=t.elProxyPosition,a=t.$tooltip.outerWidth(!1),s=(t.$tooltip.innerWidth(),t.$tooltip.outerHeight(!1));if(t.$elProxy.is("area")){var l=t.$elProxy.attr("shape"),c=t.$elProxy.parent().attr("name"),c=$('img[usemap="#'+c+'"]'),d=c.offset().left,u=c.offset().top,p=void 0!==t.$elProxy.attr("coords")?t.$elProxy.attr("coords").split(","):void 0;if("circle"==l){var f=parseInt(p[0]),h=parseInt(p[1]),m=parseInt(p[2]);r.dimension.height=2*m,r.dimension.width=2*m,r.offset.top=u+h-m,r.offset.left=d+f-m}else if("rect"==l){var f=parseInt(p[0]),h=parseInt(p[1]),m=parseInt(p[2]),g=parseInt(p[3]);r.dimension.height=g-h,r.dimension.width=m-f,r.offset.top=u+h,r.offset.left=d+f}else if("poly"==l){for(var v=0,b=0,y=0,w=0,x="even",_=0;_<p.length;_++)var k=parseInt(p[_]),x="even"==x?(k<(v=y<k&&(y=k,0===_)?y:v)&&(v=k),"odd"):(k<(b=w<k&&(w=k,1==_)?w:b)&&(b=k),"even");r.dimension.height=w-b,r.dimension.width=y-v,r.offset.top=u+b,r.offset.left=d+v}else r.dimension.height=c.outerHeight(!1),r.dimension.width=c.outerWidth(!1),r.offset.top=u,r.offset.left=d}var S,C,P,T,j,E=0,g=0,A=0,L=parseInt(t.options.offsetY),m=parseInt(t.options.offsetX),O=t.options.position;"top"==O&&(j=r.offset.left+a-(r.offset.left+r.dimension.width),E=r.offset.left+m-j/2,A=r.offset.top-s-L-12,e(),n("bottom","top")),"top-left"==O&&(E=r.offset.left+m,A=r.offset.top-s-L-12,e(),n("bottom-left","top-left")),"top-right"==O&&(E=r.offset.left+r.dimension.width+m-a,A=r.offset.top-s-L-12,e(),n("bottom-right","top-right")),"bottom"==O&&(j=r.offset.left+a-(r.offset.left+r.dimension.width),E=r.offset.left-j/2+m,A=r.offset.top+r.dimension.height+L+12,e(),n("top","bottom")),"bottom-left"==O&&(E=r.offset.left+m,A=r.offset.top+r.dimension.height+L+12,e(),n("top-left","bottom-left")),"bottom-right"==O&&(E=r.offset.left+r.dimension.width+m-a,A=r.offset.top+r.dimension.height+L+12,e(),n("top-right","bottom-right")),"left"==O&&(E=r.offset.left-m-a-12,g=r.offset.left+m+r.dimension.width+12,S=r.offset.top+s-(r.offset.top+r.dimension.height),A=r.offset.top-S/2-L,E<0&&o<g+a?(C=2*parseFloat(t.$tooltip.css("border-width")),P=a+E-C,t.$tooltip.css("width",P+"px"),s=t.$tooltip.outerHeight(!1),E=r.offset.left-m-P-12-C,S=r.offset.top+s-(r.offset.top+r.dimension.height),A=r.offset.top-S/2-L):E<0&&(E=r.offset.left+m+r.dimension.width+12,i="left")),"right"==O&&(E=r.offset.left+m+r.dimension.width+12,g=r.offset.left-m-a-12,S=r.offset.top+s-(r.offset.top+r.dimension.height),A=r.offset.top-S/2-L,o<E+a&&g<0?(C=2*parseFloat(t.$tooltip.css("border-width")),P=o-E-C,t.$tooltip.css("width",P+"px"),s=t.$tooltip.outerHeight(!1),S=r.offset.top+s-(r.offset.top+r.dimension.height),A=r.offset.top-S/2-L):o<E+a&&(E=r.offset.left-m-a-12,i="right")),t.options.arrow&&(h="tooltipster-arrow-"+O,f=t.options.arrowColor.length<1?t.$tooltip.css("background-color"):t.options.arrowColor,i=i?"left"==i?(h="tooltipster-arrow-right",""):"right"==i?(h="tooltipster-arrow-left",""):"left:"+Math.round(i)+"px;":"",l="top"==O||"top-left"==O||"top-right"==O?(T=parseFloat(t.$tooltip.css("border-bottom-width")),t.$tooltip.css("border-bottom-color")):"bottom"==O||"bottom-left"==O||"bottom-right"==O?(T=parseFloat(t.$tooltip.css("border-top-width")),t.$tooltip.css("border-top-color")):"left"==O?(T=parseFloat(t.$tooltip.css("border-right-width")),t.$tooltip.css("border-right-color")):"right"==O?(T=parseFloat(t.$tooltip.css("border-left-width")),t.$tooltip.css("border-left-color")):(T=parseFloat(t.$tooltip.css("border-bottom-width")),t.$tooltip.css("border-bottom-color")),1<T&&T++,c="",0!==T&&(u="",d="border-color: "+l+";",-1!==h.indexOf("bottom")?u="margin-top: -"+Math.round(T)+"px;":-1!==h.indexOf("top")?u="margin-bottom: -"+Math.round(T)+"px;":-1!==h.indexOf("left")?u="margin-right: -"+Math.round(T)+"px;":-1!==h.indexOf("right")&&(u="margin-left: -"+Math.round(T)+"px;"),c='<span class="tooltipster-arrow-border" style="'+u+" "+d+';"></span>'),t.$tooltip.find(".tooltipster-arrow").remove(),j='<div class="'+h+' tooltipster-arrow" style="'+i+'">'+c+'<span style="border-color:'+f+';"></span></div>',t.$tooltip.append(j)),t.$tooltip.css({top:Math.round(A)+"px",left:Math.round(E)+"px"})}return t},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var t,n=this,e=(n.hide(),n.$el[0]!==n.$elProxy[0]&&n.$elProxy.remove(),n.$el.removeData(n.namespace).off("."+n.namespace),n.$el.data("tooltipster-ns"));return 1===e.length?(t=null,"previous"===n.options.restoration?t=n.$el.data("tooltipster-initialTitle"):"current"===n.options.restoration&&(t="string"==typeof n.Content?n.Content:$("<div></div>").append(n.Content).html()),t&&n.$el.attr("title",t),n.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(e=$.grep(e,function(t,e){return t!==n.namespace}),n.$el.data("tooltipster-ns",e)),n},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(t,e){return void 0===e?this.options[t]:(this.options[t]=e,this)},status:function(){return this.Status}},$.fn.tooltipster=function(){var n,i,o,t,r,a=arguments;return 0===this.length?"string"==typeof a[0]&&(t=!0,"setDefaults"===a[0]?$.extend(s,a[1]):t=!1,!!t)||this:"string"==typeof a[0]?(n="#*$~&",this.each(function(){var t=$(this).data("tooltipster-ns"),t=t?$(this).data(t[0]):null;if(!t)throw new Error("You called Tooltipster's \""+a[0]+'" method on an uninitialized element');if("function"!=typeof t[a[0]])throw new Error('Unknown method .tooltipster("'+a[0]+'")');var e=t[a[0]](a[1],a[2]);if(e!==t)return n=e,!1}),"#*$~&"!==n?n:this):(i=[],t=a[0]&&void 0!==a[0].multiple,o=t&&a[0].multiple||!t&&s.multiple,t=a[0]&&void 0!==a[0].debug,r=t&&a[0].debug||!t&&s.debug,this.each(function(){var t=!1,e=$(this).data("tooltipster-ns"),n=null;!e||o?t=!0:r&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'),t&&(n=new l(this,a[0]),(e=e||[]).push(n.namespace),$(this).data("tooltipster-ns",e),$(this).data(n.namespace,n)),i.push(n)}),o?i:this)},d=!!("ontouchstart"in D),o=!1,$("body").one("mousemove",function(){o=!0})},function(t,e,n){"use strict";var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window,
/*!
 * Cropper v3.1.6
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright (c) 2014-2018 Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-03-01T13:33:48.179Z
 */
i=function(C){C=C&&C.hasOwnProperty("default")?C.default:C;var t="undefined"!=typeof window?window:{},l="cropper",o=l+"-crop",e=l+"-disabled",P=l+"-hidden",s=l+"-hide",c=l+"-modal",d=l+"-move",u="action",h="preview",p="crop",r="cropend",a="cropmove",f="cropstart",i=t.PointerEvent?"pointerdown":"touchstart mousedown",m=t.PointerEvent?"pointermove":"touchmove mousemove",g=t.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",v="wheel mousewheel DOMMouseScroll",I=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,M=/^data:/,B=/^data:image\/jpeg;base64,/,N=/^(img|canvas)$/i,b={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},R=function(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t};function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function w(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var U=Number.isNaN||t.isNaN;function x(t){return"number"==typeof t&&!U(t)}function _(t){return void 0===t}function k(i,o){for(var t=arguments.length,r=Array(2<t?t-2:0),e=2;e<t;e++)r[e-2]=arguments[e];return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(o,r.concat(e))}}var T=Object.keys||function(t){var e=[];return C.each(t,function(t){e.push(t)}),e},H=/\.\d*(?:0|9){12}\d*$/i;function S(t,e){e=1<arguments.length&&void 0!==e?e:1e11;return H.test(t)?Math.round(t*e)/e:t}var n=t.location,z=/^(https?:)\/\/([^:/?#]+):?(\d*)/i;function j(t){t=t.match(z);return t&&(t[1]!==n.protocol||t[2]!==n.hostname||t[3]!==n.port)}function E(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function A(t){var e=t.rotate,n=t.scaleX,i=t.scaleY,o=t.translateX,t=t.translateY,r=[];return x(o)&&0!==o&&r.push("translateX("+o+"px)"),x(t)&&0!==t&&r.push("translateY("+t+"px)"),x(e)&&0!==e&&r.push("rotate("+e+"deg)"),x(n)&&1!==n&&r.push("scaleX("+n+")"),x(i)&&1!==i&&r.push("scaleY("+i+")"),r.length?r.join(" "):"none"}var L=t.navigator,W=L&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(L.userAgent);function O(t,e){var n=t.pageX,t=t.pageY,i={endX:n,endY:t};return e?i:C.extend({startX:n,startY:t},i)}var q=Number.isFinite||t.isFinite;function $(t,e){function n(t){return q(t)&&0<t}var i,o=t.aspectRatio,r=t.height,t=t.width,e=1<arguments.length&&void 0!==e?e:"contain";return n(t)&&n(r)?(i=r*o,"contain"===e&&t<i||"cover"===e&&i<t?r=t/o:t=r*o):n(t)?r=t/o:n(r)&&(t=r*o),{width:t,height:r}}var V=String.fromCharCode;var G=/^data:.*,/;function J(t){var e,n=new DataView(t),i=void 0,o=void 0,r=void 0,a=void 0;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var s=n.byteLength,l=2;l<s;){if(255===n.getUint8(l)&&225===n.getUint8(l+1)){r=l;break}l+=1}if(a=r&&(t=r+10,"Exif"===function(t,e,n){var i="",o=void 0;for(n+=e,o=e;o<n;o+=1)i+=V(t.getUint8(o));return i}(n,r+4,4))&&((o=18761===(e=n.getUint16(t)))||19789===e)&&42===n.getUint16(t+2,o)&&8<=(e=n.getUint32(t+4,o))?t+e:a)for(var c,d=n.getUint16(a,o),u=void 0,u=0;u<d;u+=1)if(274===n.getUint16(c=a+12*u+2,o)){c+=8,i=n.getUint16(c,o),n.setUint16(c,1,o);break}return i}var Y,L={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.$element,e=this.options,n=this.$container,i=this.$cropper;i.addClass(P),t.removeClass(P),i.css(this.container={width:Math.max(n.width(),Number(e.minContainerWidth)||200),height:Math.max(n.height(),Number(e.minContainerHeight)||100)}),t.addClass(P),i.removeClass(P)},initCanvas:function(){var t=this.container,e=this.image,n=this.options.viewMode,i=Math.abs(e.rotate)%180==90,o=i?e.naturalHeight:e.naturalWidth,i=i?e.naturalWidth:e.naturalHeight,r=o/i,a=t.width,s=t.height,r=(t.height*r>t.width?3===n?a=t.height*r:s=t.width/r:3===n?s=t.width/r:a=t.height*r,{aspectRatio:r,naturalWidth:o,naturalHeight:i,width:a,height:s});r.left=(t.width-a)/2,r.top=(t.height-s)/2,r.oldLeft=r.left,r.oldTop=r.top,this.canvas=r,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImage=C.extend({},e),this.initialCanvas=C.extend({},r)},limitCanvas:function(t,e){var n=this.options,i=this.container,o=this.canvas,r=this.cropBox,a=n.viewMode,s=o.aspectRatio,l=this.cropped&&r;t&&(t=Number(n.minCanvasWidth)||0,n=Number(n.minCanvasHeight)||0,0<a&&(1<a?(t=Math.max(t,i.width),n=Math.max(n,i.height),3===a&&(t<n*s?t=n*s:n=t/s)):t?t=Math.max(t,l?r.width:0):n?n=Math.max(n,l?r.height:0):l&&((t=r.width)<(n=r.height)*s?t=n*s:n=t/s)),t=(s=$({aspectRatio:s,width:t,height:n})).width,n=s.height,o.minWidth=t,o.minHeight=n,o.maxWidth=1/0,o.maxHeight=1/0),e&&(0<a?(s=i.width-o.width,t=i.height-o.height,o.minLeft=Math.min(0,s),o.minTop=Math.min(0,t),o.maxLeft=Math.max(0,s),o.maxTop=Math.max(0,t),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+r.width-o.width),o.minTop=Math.min(r.top,r.top+r.height-o.height),o.maxLeft=r.left,o.maxTop=r.top,2===a)&&(o.width>=i.width&&(o.minLeft=Math.min(0,s),o.maxLeft=Math.max(0,s)),o.height>=i.height)&&(o.minTop=Math.min(0,t),o.maxTop=Math.max(0,t))):(o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height))},renderCanvas:function(t,e){var n,i,o,r,a=this.canvas,s=this.image;e&&(e={width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0},s=e.width,r=e.height,e=e.degree,n=90==(e=Math.abs(e)%180)?{width:r,height:s}:(i=e%90*Math.PI/180,n=Math.sin(i),o=s*(i=Math.cos(i))+r*n,s=s*n+r*i,90<e?{width:s,height:o}:{width:o,height:s}),i=a.width*((r=n.width)/a.naturalWidth),o=a.height*((e=n.height)/a.naturalHeight),a.left-=(i-a.width)/2,a.top-=(o-a.height)/2,a.width=i,a.height=o,a.aspectRatio=r/e,a.naturalWidth=r,a.naturalHeight=e,this.limitCanvas(!0,!1)),(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,this.$canvas.css({width:a.width,height:a.height,transform:A({translateX:a.left,translateY:a.top})}),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvas,n=this.image,i=n.naturalWidth*(e.width/e.naturalWidth),o=n.naturalHeight*(e.height/e.naturalHeight);C.extend(n,{width:i,height:o,left:(e.width-i)/2,top:(e.height-o)/2}),this.$clone.css({width:n.width,height:n.height,transform:A(C.extend({translateX:n.left,translateY:n.top},n))}),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvas,n=t.aspectRatio,t=Number(t.autoCropArea)||.8,i={width:e.width,height:e.height};n&&(e.height*n>e.width?i.height=i.width/n:i.width=i.height*n),this.cropBox=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*t),i.height=Math.max(i.minHeight,i.height*t),i.left=e.left+(e.width-i.width)/2,i.top=e.top+(e.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBox=C.extend({},i)},limitCropBox:function(t,e){var n,i,o=this.options,r=this.container,a=this.canvas,s=this.cropBox,l=this.limited,c=o.aspectRatio;t&&(t=Number(o.minCropBoxWidth)||0,o=Number(o.minCropBoxHeight)||0,n=Math.min(r.width,(l?a:r).width),i=Math.min(r.height,(l?a:r).height),t=Math.min(t,r.width),o=Math.min(o,r.height),c&&(t&&o?t<o*c?o=t/c:t=o*c:t?o=t/c:o&&(t=o*c),n<i*c?i=n/c:n=i*c),s.minWidth=Math.min(t,n),s.minHeight=Math.min(o,i),s.maxWidth=n,s.maxHeight=i),e&&(l?(s.minLeft=Math.max(0,a.left),s.minTop=Math.max(0,a.top),s.maxLeft=Math.min(r.width,a.left+a.width)-s.width,s.maxTop=Math.min(r.height,a.top+a.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=r.width-s.width,s.maxTop=r.height-s.height))},renderCropBox:function(){var t=this.options,e=this.container,n=this.cropBox;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&this.$face.data(u,n.width>=e.width&&n.height>=e.height?"move":"all"),this.$cropBox.css({width:n.width,height:n.height,transform:A({translateX:n.left,translateY:n.top})}),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),this.completed&&this.trigger(p,this.getData())}},t={initPreview:function(){var i=this.crossOrigin,o=i?this.crossOriginUrl:this.url,t=document.createElement("img"),t=(i&&(t.crossOrigin=i),t.src=o,C(t));this.$preview=C(this.options.preview),this.$clone2=t,this.$viewBox.html(t),this.$preview.each(function(t,e){var e=C(e),n=document.createElement("img");e.data(h,{width:e.width(),height:e.height(),html:e.html()}),i&&(n.crossOrigin=i),n.src=o,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.html(n)})},resetPreview:function(){this.$preview.each(function(t,e){var e=C(e),n=e.data(h);e.css({width:n.width,height:n.height}).html(n.html).removeData(h)})},preview:function(){var s=this.image,t=this.canvas,e=this.cropBox,l=e.width,c=e.height,d=s.width,u=s.height,p=e.left-t.left-s.left,f=e.top-t.top-s.top;this.cropped&&!this.disabled&&(this.$clone2.css({width:d,height:u,transform:A(C.extend({translateX:-p,translateY:-f},s))}),this.$preview.each(function(t,e){var e=C(e),n=e.data(h),i=n.width,n=n.height,o=i,r=n,a=1;l&&(r=c*(a=i/l)),c&&n<r&&(o=l*(a=n/c),r=n),e.css({width:o,height:r}).find("img").css({width:d*a,height:u*a,transform:A(C.extend({translateX:-p*a,translateY:-f*a},s))})}))}},K={bind:function(){var t=this.$element,e=this.options,n=this.$cropper;C.isFunction(e.cropstart)&&t.on(f,e.cropstart),C.isFunction(e.cropmove)&&t.on(a,e.cropmove),C.isFunction(e.cropend)&&t.on(r,e.cropend),C.isFunction(e.crop)&&t.on(p,e.crop),C.isFunction(e.zoom)&&t.on("zoom",e.zoom),n.on(i,k(this.cropStart,this)),e.zoomable&&e.zoomOnWheel&&n.on(v,k(this.wheel,this)),e.toggleDragModeOnDblclick&&n.on("dblclick",k(this.dblclick,this)),C(this.element.ownerDocument).on(m,this.onCropMove=k(this.cropMove,this)).on(g,this.onCropEnd=k(this.cropEnd,this)),e.responsive&&C(window).on("resize",this.onResize=k(this.resize,this))},unbind:function(){var t=this.$element,e=this.options,n=this.$cropper;C.isFunction(e.cropstart)&&t.off(f,e.cropstart),C.isFunction(e.cropmove)&&t.off(a,e.cropmove),C.isFunction(e.cropend)&&t.off(r,e.cropend),C.isFunction(e.crop)&&t.off(p,e.crop),C.isFunction(e.zoom)&&t.off("zoom",e.zoom),n.off(i,this.cropStart),e.zoomable&&e.zoomOnWheel&&n.off(v,this.wheel),e.toggleDragModeOnDblclick&&n.off("dblclick",this.dblclick),C(this.element.ownerDocument).off(m,this.onCropMove).off(g,this.onCropEnd),e.responsive&&C(window).off("resize",this.onResize)}},X={resize:function(){var n,i,o,t=this.options,e=this.$container,r=this.container,a=Number(t.minContainerWidth)||200,s=Number(t.minContainerHeight)||100;this.disabled||r.width<=a||r.height<=s||1==(n=e.width()/r.width)&&e.height()===r.height||(o=i=void 0,t.restore&&(i=this.getCanvasData(),o=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(C.each(i,function(t,e){i[t]=e*n})),this.setCropBoxData(C.each(o,function(t,e){o[t]=e*n}))))},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(this.$dragBox.hasClass(o)?"move":"crop")},wheel:function(t){var e,n=this,i=t.originalEvent||t,o=Number(this.options.wheelZoomRatio)||.1;this.disabled||(t.preventDefault(),this.wheeling)||(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e=1,i.deltaY?e=0<i.deltaY?1:-1:i.wheelDelta?e=-i.wheelDelta/120:i.detail&&(e=0<i.detail?1:-1),this.zoom(-e*o,t))},cropStart:function(t){var e,n,i,o;this.disabled||(e=this.options,n=this.pointers,o=void 0,(i=t.originalEvent)&&i.changedTouches?C.each(i.changedTouches,function(t,e){n[e.identifier]=O(e)}):n[i&&i.pointerId||0]=O(i||t),o=1<T(n).length&&e.zoomable&&e.zoomOnTouch?"zoom":C(t.target).data(u),!I.test(o))||this.trigger(f,{originalEvent:i,action:o}).isDefaultPrevented()||(t.preventDefault(),this.action=o,this.cropping=!1,"crop"===o&&(this.cropping=!0,this.$dragBox.addClass(c)))},cropMove:function(t){var n,e,i=this.action;this.disabled||!i||(n=this.pointers,e=t.originalEvent,t.preventDefault(),this.trigger(a,{originalEvent:e,action:i}).isDefaultPrevented())||(e&&e.changedTouches?C.each(e.changedTouches,function(t,e){C.extend(n[e.identifier],O(e,!0))}):C.extend(n[e&&e.pointerId||0],O(e||t,!0)),this.change(t))},cropEnd:function(t){var e,n,i;this.disabled||(e=this.action,n=this.pointers,(i=t.originalEvent)&&i.changedTouches?C.each(i.changedTouches,function(t,e){delete n[e.identifier]}):delete n[i&&i.pointerId||0],e&&(t.preventDefault(),T(n).length||(this.action=""),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(c,this.cropped&&this.options.modal)),this.trigger(r,{originalEvent:i,action:e})))}},Q={change:function(t){function e(t){switch(t){case"e":g+S.x>w&&(S.x=w-g);break;case"w":p+S.x<b&&(S.x=b-p);break;case"n":f+S.y<y&&(S.y=y-f);break;case"s":v+S.y>x&&(S.y=x-v)}}var n,i,a,o=this.options,r=this.pointers,s=this.container,l=this.canvas,c=this.cropBox,d=this.action,u=o.aspectRatio,p=c.left,f=c.top,h=c.width,m=c.height,g=p+h,v=f+m,b=0,y=0,w=s.width,x=s.height,_=!0,k=(!u&&t.shiftKey&&(u=h&&m?h/m:1),this.limited&&(b=c.minLeft,y=c.minTop,w=b+Math.min(s.width,l.width,l.left+l.width),x=y+Math.min(s.height,l.height,l.top+l.height)),r[T(r)[0]]),S={x:k.endX-k.startX,y:k.endY-k.startY};switch(d){case"all":p+=S.x,f+=S.y;break;case"e":0<=S.x&&(w<=g||u&&(f<=y||x<=v))?_=!1:(e("e"),h+=S.x,u&&(m=h/u,f-=S.x/u/2),h<0&&(d="w",h=0));break;case"n":S.y<=0&&(f<=y||u&&(p<=b||w<=g))?_=!1:(e("n"),m-=S.y,f+=S.y,u&&(h=m*u,p+=S.y*u/2),m<0&&(d="s",m=0));break;case"w":S.x<=0&&(p<=b||u&&(f<=y||x<=v))?_=!1:(e("w"),h-=S.x,p+=S.x,u&&(m=h/u,f+=S.x/u/2),h<0&&(d="e",h=0));break;case"s":0<=S.y&&(x<=v||u&&(p<=b||w<=g))?_=!1:(e("s"),m+=S.y,u&&(h=m*u,p-=S.y*u/2),m<0&&(d="n",m=0));break;case"ne":if(u){if(S.y<=0&&(f<=y||w<=g)){_=!1;break}e("n"),m-=S.y,f+=S.y,h=m*u}else e("n"),e("e"),!(0<=S.x)||g<w?h+=S.x:S.y<=0&&f<=y&&(_=!1),(!(S.y<=0)||y<f)&&(m-=S.y,f+=S.y);h<0&&m<0?(d="sw",h=m=0):h<0?(d="nw",h=0):m<0&&(d="se",m=0);break;case"nw":if(u){if(S.y<=0&&(f<=y||p<=b)){_=!1;break}e("n"),m-=S.y,f+=S.y,h=m*u,p+=S.y*u}else e("n"),e("w"),!(S.x<=0)||b<p?(h-=S.x,p+=S.x):S.y<=0&&f<=y&&(_=!1),(!(S.y<=0)||y<f)&&(m-=S.y,f+=S.y);h<0&&m<0?(d="se",h=m=0):h<0?(d="ne",h=0):m<0&&(d="sw",m=0);break;case"sw":if(u){if(S.x<=0&&(p<=b||x<=v)){_=!1;break}e("w"),h-=S.x,p+=S.x,m=h/u}else e("s"),e("w"),!(S.x<=0)||b<p?(h-=S.x,p+=S.x):0<=S.y&&x<=v&&(_=!1),(!(0<=S.y)||v<x)&&(m+=S.y);h<0&&m<0?(d="ne",h=m=0):h<0?(d="se",h=0):m<0&&(d="nw",m=0);break;case"se":if(u){if(0<=S.x&&(w<=g||x<=v)){_=!1;break}e("e"),m=(h+=S.x)/u}else e("s"),e("e"),!(0<=S.x)||g<w?h+=S.x:0<=S.y&&x<=v&&(_=!1),(!(0<=S.y)||v<x)&&(m+=S.y);h<0&&m<0?(d="nw",h=m=0):h<0?(d="sw",h=0):m<0&&(d="ne",m=0);break;case"move":this.move(S.x,S.y),_=!1;break;case"zoom":this.zoom((n=r,i=C.extend({},n),a=[],C.each(n,function(t,r){delete i[t],C.each(i,function(t,e){var n=Math.abs(r.startX-e.startX),i=Math.abs(r.startY-e.startY),o=Math.abs(r.endX-e.endX),e=Math.abs(r.endY-e.endY),n=Math.sqrt(n*n+i*i),i=Math.sqrt(o*o+e*e);a.push((i-n)/n)})}),a.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),a[0]),t.originalEvent),_=!1;break;case"crop":S.x&&S.y?(n=this.$cropper.offset(),p=k.startX-n.left,f=k.startY-n.top,h=c.minWidth,m=c.minHeight,0<S.x?d=0<S.y?"se":"ne":S.x<0&&(p-=h,d=0<S.y?"sw":"nw"),S.y<0&&(f-=m),this.cropped||(this.$cropBox.removeClass(P),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))):_=!1}_&&(c.width=h,c.height=m,c.left=p,c.top=f,this.action=d,this.renderCropBox()),C.each(r,function(t,e){e.startX=e.endX,e.startY=e.endY})}},Z={crop:function(){this.ready&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass(c),this.$cropBox.removeClass(P)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.ready&&!this.disabled&&(this.image=C.extend({},this.initialImage),this.canvas=C.extend({},this.initialCanvas),this.cropBox=C.extend({},this.initialCropBox),this.renderCanvas(),this.cropped)&&this.renderCropBox()},clear:function(){this.cropped&&!this.disabled&&(C.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass(c),this.$cropBox.addClass(P))},replace:function(t,e){!this.disabled&&t&&(this.isImg&&this.$element.attr("src",t),e?(this.url=t,this.$clone.attr("src",t),this.ready&&this.$preview.find("img").add(this.$clone2).attr("src",t)):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(t)))},enable:function(){this.ready&&(this.disabled=!1,this.$cropper.removeClass(e))},disable:function(){this.ready&&(this.disabled=!0,this.$cropper.addClass(e))},destroy:function(){var t=this.$element;this.loaded?(this.isImg&&this.replaced&&t.attr("src",this.originalUrl),this.unbuild(),t.removeClass(P)):this.isImg?t.off("load",this.start):this.$clone&&this.$clone.remove(),t.removeData(l)},move:function(t,e){var n=this.canvas,i=n.left,n=n.top;this.moveTo(_(t)?t:i+Number(t),_(e)?e:n+Number(e))},moveTo:function(t,e){var n=this.canvas,i=!1;_(e)&&(e=t),t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(x(t)&&(n.left=t,i=!0),x(e)&&(n.top=e,i=!0),i)&&this.renderCanvas(!0)},zoom:function(t,e){var n=this.canvas;t=Number(t),this.zoomTo(n.width*(t=t<0?1/(1-t):1+t)/n.naturalWidth,e)},zoomTo:function(t,e){var i,o,r,n=this.options,a=this.pointers,s=this.canvas,l=s.width,c=s.height,d=s.naturalWidth,u=s.naturalHeight;0<=(t=Number(t))&&this.ready&&!this.disabled&&n.zoomable&&(n=u*t,u=void 0,e&&(u=e.originalEvent),this.trigger("zoom",{originalEvent:u,oldRatio:l/d,ratio:(t=d*t)/d}).isDefaultPrevented()||(u?(d=this.$cropper.offset(),a=a&&T(a).length?(r=o=i=0,C.each(a,function(t,e){var n=e.startX,e=e.startY;i+=n,o+=e,r+=1}),{pageX:i/=r,pageY:o/=r}):{pageX:e.pageX||u.pageX||0,pageY:e.pageY||u.pageY||0},s.left-=(t-l)*((a.pageX-d.left-s.left)/l),s.top-=(n-c)*((a.pageY-d.top-s.top)/c)):(s.left-=(t-l)/2,s.top-=(n-c)/2),s.width=t,s.height=n,this.renderCanvas(!0)))},rotate:function(t){this.rotateTo((this.image.rotate||0)+Number(t))},rotateTo:function(t){x(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.image.rotate=t%360,this.renderCanvas(!0,!0))},scaleX:function(t){var e=this.image.scaleY;this.scale(t,x(e)?e:1)},scaleY:function(t){var e=this.image.scaleX;this.scale(x(e)?e:1,t)},scale:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,n=this.image,i=!1;t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(x(t)&&(n.scaleX=t,i=!0),x(e)&&(n.scaleY=e,i=!0),i)&&this.renderCanvas(!0,!0)},getData:function(){var n,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.options,e=this.image,o=this.canvas,r=this.cropBox,a=void 0;return this.ready&&this.cropped?(a={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height},n=e.width/e.naturalWidth,C.each(a,function(t,e){e/=n,a[t]=i?Math.round(e):e})):a={x:0,y:0,width:0,height:0},t.rotatable&&(a.rotate=e.rotate||0),t.scalable&&(a.scaleX=e.scaleX||1,a.scaleY=e.scaleY||1),a},setData:function(t){var e,n=this.options,i=this.image,o=this.canvas,r={};C.isFunction(t)&&(t=t.call(this.element)),this.ready&&!this.disabled&&C.isPlainObject(t)&&(e=!1,n.rotatable&&x(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,e=!0),n.scalable&&(x(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,e=!0),x(t.scaleY))&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,e=!0),e&&this.renderCanvas(!0,!0),n=i.width/i.naturalWidth,x(t.x)&&(r.left=t.x*n+o.left),x(t.y)&&(r.top=t.y*n+o.top),x(t.width)&&(r.width=t.width*n),x(t.height)&&(r.height=t.height*n),this.setCropBoxData(r))},getContainerData:function(){return this.ready?C.extend({},this.container):{}},getImageData:function(){return this.loaded?C.extend({},this.image):{}},getCanvasData:function(){var n=this.canvas,i={};return this.ready&&C.each(["left","top","width","height","naturalWidth","naturalHeight"],function(t,e){i[e]=n[e]}),i},setCanvasData:function(t){var e=this.canvas,n=e.aspectRatio;C.isFunction(t)&&(t=t.call(this.$element)),this.ready&&!this.disabled&&C.isPlainObject(t)&&(x(t.left)&&(e.left=t.left),x(t.top)&&(e.top=t.top),x(t.width)?(e.width=t.width,e.height=t.width/n):x(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0))},getCropBoxData:function(){var t=this.cropBox;return this.ready&&this.cropped?{left:t.left,top:t.top,width:t.width,height:t.height}:{}},setCropBoxData:function(t){var e=this.cropBox,n=this.options.aspectRatio,i=void 0,o=void 0;C.isFunction(t)&&(t=t.call(this.$element)),this.ready&&this.cropped&&!this.disabled&&C.isPlainObject(t)&&(x(t.left)&&(e.left=t.left),x(t.top)&&(e.top=t.top),x(t.width)&&t.width!==e.width&&(i=!0,e.width=t.width),x(t.height)&&t.height!==e.height&&(o=!0,e.height=t.height),n&&(i?e.height=e.width/n:o&&(e.width=e.height*n)),this.renderCropBox())},getCroppedCanvas:function(){var t,e,n,i,o,r,a,s,l,c,d,u,p,f,h,m,g,v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.ready&&window.HTMLCanvasElement?(a=this.canvas,f=this.$clone[0],p=this.image,m=a,o=v,s=void 0===(s=p.rotate)?0:s,u=void 0===(u=p.scaleX)?1:u,p=void 0===(p=p.scaleY)?1:p,n=m.aspectRatio,t=m.naturalWidth,m=m.naturalHeight,e=void 0===(e=o.fillColor)?"transparent":e,d=void 0===(d=o.imageSmoothingEnabled)||d,i=void 0===(i=o.imageSmoothingQuality)?"low":i,l=void 0===(l=o.maxWidth)?1/0:l,g=void 0===(g=o.maxHeight)?1/0:g,c=void 0===(c=o.minWidth)?0:c,o=void 0===(o=o.minHeight)?0:o,h=document.createElement("canvas"),r=h.getContext("2d"),l=$({aspectRatio:n,width:l,height:g}),g=$({aspectRatio:n,width:c,height:o},"cover"),n=Math.min(l.width,Math.max(g.width,t)),c=Math.min(l.height,Math.max(g.height,m)),o=[-n/2,-c/2,n,c],h.width=S(n),h.height=S(c),r.fillStyle=e,r.fillRect(0,0,n,c),r.save(),r.translate(n/2,c/2),r.rotate(s*Math.PI/180),r.scale(u,p),r.imageSmoothingEnabled=d,r.imageSmoothingQuality=i,r.drawImage.apply(r,[f].concat(w(C.map(o,function(t){return Math.floor(S(t))})))),r.restore(),t=h,this.cropped?(g=(l=this.getData()).x,m=l.y,e=l.width,n=l.height,1!=(c=t.width/Math.floor(a.naturalWidth))&&(g*=c,m*=c,e*=c,n*=c),u=$({aspectRatio:s=e/n,width:v.maxWidth||1/0,height:v.maxHeight||1/0}),p=$({aspectRatio:s,width:v.minWidth||0,height:v.minHeight||0},"cover"),i=(d=$({aspectRatio:s,width:v.width||(1!=c?t.width:e),height:v.height||(1!=c?t.height:n)})).width,f=d.height,i=Math.min(u.width,Math.max(p.width,i)),f=Math.min(u.height,Math.max(p.height,f)),r=(o=document.createElement("canvas")).getContext("2d"),o.width=S(i),o.height=S(f),r.fillStyle=v.fillColor||"transparent",r.fillRect(0,0,i,f),h=v.imageSmoothingEnabled,l=v.imageSmoothingQuality,r.imageSmoothingEnabled=void 0===h||h,l&&(r.imageSmoothingQuality=l),a=t.width,s=t.height,c=m,h=v=f=p=u=d=void 0,(l=g)<=-e||a<l?v=p=d=l=0:l<=0?(p=-l,l=0,v=d=Math.min(a,e+l)):l<=a&&(p=0,v=d=Math.min(e,a-l)),d<=0||c<=-n||s<c?h=f=u=c=0:c<=0?(f=-c,c=0,h=u=Math.min(s,n+c)):c<=s&&(f=0,h=u=Math.min(n,s-c)),m=[l,c,d,u],0<v&&0<h&&m.push(p*(g=i/e),f*g,v*g,h*g),r.drawImage.apply(r,[t].concat(w(C.map(m,function(t){return Math.floor(S(t))})))),o):t):null},setAspectRatio:function(t){var e=this.options;this.disabled||_(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped)&&this.renderCropBox())},setDragMode:function(t){var e,n,i=this.options;this.loaded&&!this.disabled&&(n=i.movable&&"move"===t,this.$dragBox.data(u,t=(e="crop"===t)||n?t:"none").toggleClass(o,e).toggleClass(d,n),i.cropBoxMovable||this.$face.data(u,t).toggleClass(o,e).toggleClass(d,n))}},D=(R(F,[{key:"init",value:function(){var t=this.$element,e=void 0;if(t.is("img")){if(this.isImg=!0,e=t.attr("src")||"",!(this.originalUrl=e))return;e=t.prop("src")}else t.is("canvas")&&window.HTMLCanvasElement&&(e=t[0].toDataURL());this.load(e)}},{key:"trigger",value:function(t,e){t=C.Event(t,e);return this.$element.trigger(t),t}},{key:"load",value:function(t){var e,n,i,o,r,a,s=this;t&&(this.url=t,this.image={},e=this.$element,(n=this.options).checkOrientation&&window.ArrayBuffer?M.test(t)?B.test(t)?this.read((i=(i=t).replace(G,""),o=atob(i),i=new ArrayBuffer(o.length),r=new Uint8Array(i),C.each(r,function(t){r[t]=o.charCodeAt(t)}),i)):this.clone():((a=new XMLHttpRequest).onerror=function(){s.clone()},a.onload=function(){s.read(a.response)},n.checkCrossOrigin&&j(t)&&!e.prop("crossOrigin")&&(t=E(t)),a.open("get",t),a.responseType="arraybuffer",a.withCredentials="use-credentials"===e.prop("crossOrigin"),a.send()):this.clone())}},{key:"read",value:function(t){var e,n,i,o=this.options,r=this.image,a=J(t),s=0,l=1,c=1;1<a&&(this.url=(e=t,n="image/jpeg",e=new Uint8Array(t),i="",C.each(e,function(t,e){i+=V(e)}),"data:"+n+";base64,"+btoa(i)),s=(t=function(t){var e=0,n=1,i=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:i}}(a)).rotate,l=t.scaleX,c=t.scaleY),o.rotatable&&(r.rotate=s),o.scalable&&(r.scaleX=l,r.scaleY=c),this.clone()}},{key:"clone",value:function(){var t=this.$element,e=this.options,n=this.url,i="",o=void 0,e=(e.checkCrossOrigin&&j(n)&&(o=(i=t.prop("crossOrigin"))?n:(i="anonymous",E(n))),this.crossOrigin=i,this.crossOriginUrl=o,document.createElement("img")),i=(i&&(e.crossOrigin=i),e.src=o||n,C(e));this.$clone=i,this.isImg?this.element.complete?this.start():t.one("load",C.proxy(this.start,this)):i.one("load",C.proxy(this.start,this)).one("error",C.proxy(this.stop,this)).addClass(s).insertAfter(t)}},{key:"start",value:function(){var t,e,n=this,i=this.$clone,o=this.$element;this.isImg||(i.off("error",this.stop),o=i),i=o[0],t=function(t,e){C.extend(n.image,{naturalWidth:t,naturalHeight:e,aspectRatio:t/e}),n.loaded=!0,n.build()},i.naturalWidth&&!W?t(i.naturalWidth,i.naturalHeight):((e=document.createElement("img")).onload=function(){t(e.width,e.height)},e.src=i.src)}},{key:"stop",value:function(){this.$clone.remove(),this.$clone=null}},{key:"build",value:function(){var t,e,n,i,o,r,a=this;this.loaded&&(this.ready&&this.unbuild(),t=this.$element,e=this.options,n=this.$clone,r=(o=(i=C('<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>')).find(".cropper-crop-box")).find(".cropper-face"),this.$container=t.parent(),this.$cropper=i,this.$canvas=i.find(".cropper-canvas").append(n),this.$dragBox=i.find(".cropper-drag-box"),this.$cropBox=o,this.$viewBox=i.find(".cropper-view-box"),this.$face=r,t.addClass(P).after(i),this.isImg||n.removeClass(s),this.initPreview(),this.bind(),e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,this.cropped=e.autoCrop,e.autoCrop?e.modal&&this.$dragBox.addClass(c):o.addClass(P),e.guides||o.find(".cropper-dashed").addClass(P),e.center||o.find(".cropper-center").addClass(P),e.cropBoxMovable&&r.addClass(d).data(u,"all"),e.highlight||r.addClass("cropper-invisible"),e.background&&i.addClass(l+"-bg"),e.cropBoxResizable||o.find(".cropper-line,.cropper-point").addClass(P),this.setDragMode(e.dragMode),this.render(),this.ready=!0,this.setData(e.data),this.completing=setTimeout(function(){C.isFunction(e.ready)&&t.one("ready",e.ready),a.trigger("ready"),a.trigger(p,a.getData()),a.completed=!0},0))}},{key:"unbuild",value:function(){this.ready&&(this.completed||clearTimeout(this.completing),this.ready=!1,this.completed=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)}}],[{key:"setDefaults",value:function(t){C.extend(b,C.isPlainObject(t)&&t)}}]),F);function F(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this,i=F;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");if(!t||!N.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.$element=C(t),this.options=C.extend({},b,C.isPlainObject(e)&&e),this.completed=!1,this.cropped=!1,this.disabled=!1,this.isImg=!1,this.limited=!1,this.loaded=!1,this.ready=!1,this.replaced=!1,this.wheeling=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.pointers={},this.init()}C.extend&&C.extend(D.prototype,L,t,K,X,Q,Z),C.fn&&(Y=C.fn.cropper,C.fn.cropper=function(r){for(var t=arguments.length,a=Array(1<t?t-1:0),e=1;e<t;e++)a[e-1]=arguments[e];var s=void 0;return this.each(function(t,e){var n=C(e);if(!(o=n.data(l))){if(/destroy/.test(r))return;var i=C.extend({},n.data(),C.isPlainObject(r)&&r),o=new D(e,i);n.data(l,o)}"string"==typeof r&&(e=o[r],C.isFunction(e))&&(s=e.apply(o,a))}),_(s)?this:s},C.fn.cropper.Constructor=D,C.fn.cropper.setDefaults=D.setDefaults,C.fn.cropper.noConflict=function(){return C.fn.cropper=Y,this})},"object"===o(e)&&void 0!==t?i(n(137)):(o=[n(137)],void 0!==(i="function"==typeof(n=i)?n.apply(e,o):n)&&(t.exports=i))},function(t,e,n){"use strict";window.ImageCompressor=function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}var j=t(function(e){(function(t){var o=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype;var d=t.Blob&&function(){try{return Boolean(new Blob)}catch(t){return false}}();var u=d&&t.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(t){return false}}();var p=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;var f=/^data:((.*?)(;charset=.*?)?)(;base64)?,/;var r=(d||p)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(t){var e,n,i,o,r,a,s,l,c;e=t.match(f);if(!e)throw new Error("invalid data URI");n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII");i=!!e[4];o=t.slice(e[0].length);if(i)r=atob(o);else r=decodeURIComponent(o);a=new ArrayBuffer(r.length);s=new Uint8Array(a);for(l=0;l<r.length;l+=1)s[l]=r.charCodeAt(l);if(d)return new Blob([u?s:a],{type:n});c=new p;c.append(a);return c.getBlob(n)};if(t.HTMLCanvasElement&&!o.toBlob)if(o.mozGetAsFile)o.toBlob=function(t,e,n){var i=this;setTimeout(function(){if(n&&o.toDataURL&&r)t(r(i.toDataURL(e,n)));else t(i.mozGetAsFile("blob",e))})};else if(o.toDataURL&&r)o.toBlob=function(t,e,n){var i=this;setTimeout(function(){t(r(i.toDataURL(e,n)))})};if(false);else if(true&&e.exports)e.exports=r;else t.dataURLtoBlob=r})(window)}),n=Object.prototype.toString,a=function t(e){return e instanceof Blob||n.call(e)==="[object Blob]"},e={checkOrientation:true,maxWidth:Infinity,maxHeight:Infinity,minWidth:0,minHeight:0,width:undefined,height:undefined,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},i=/^image\/.+$/;function E(t){return i.test(t)}function r(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var n=E(t)?t.substr(6):"";if(n==="jpeg")n="jpg";if(n&&e)n="."+n;return n}var s=String.fromCharCode;function m(t,e,n){var i="";var o=void 0;n+=e;for(o=e;o<n;o+=1)i+=s(t.getUint8(o));return i}var o,l=window.btoa;function c(t,e){var n=new Uint8Array(t);var i=n.length;var o="";var r=void 0;for(r=0;r<i;r+=1)o+=s(n[r]);return"data:"+e+";base64,"+l(o)}function d(t){var e=new DataView(t);var n=void 0;var i=void 0;var o=void 0;var r=void 0;if(e.getUint8(0)===255&&e.getUint8(1)===216){var a=e.byteLength;var s=2;while(s<a){if(e.getUint8(s)===255&&e.getUint8(s+1)===225){o=s;break}s+=1}}if(o){var l=o+4;var c=o+10;if(m(e,l,4)==="Exif"){var d=e.getUint16(c);i=d===18761;if(i||d===19789)if(e.getUint16(c+2,i)===42){var u=e.getUint32(c+4,i);if(u>=8)r=c+u}}}if(r){var p=e.getUint16(r,i);var f=void 0;var h=void 0;for(h=0;h<p;h+=1){f=r+h*12+2;if(e.getUint16(f,i)===274){f+=8;n=e.getUint16(f,i);e.setUint16(f,1,i);break}}}return n}function u(t){var e=0;var n=1;var i=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90;i=-1;break;case 6:e=90;break;case 7:e=90;n=-1;break;case 8:e=-90;break;default:}return{rotate:e,scaleX:n,scaleY:i}}var p=/\.\d*(?:0|9){12}\d*$/i;function A(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e11;return p.test(t)?Math.round(t*e)/e:t}var f=function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},h=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(t,e,n){if(e)i(t.prototype,e);if(n)i(t,n);return t}}(),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]}return t},v=window,b=v.ArrayBuffer,y=v.FileReader,w=window.URL||window.webkitURL,x=/\.\w+$/,_;function k(t,e){f(this,k);this.result=null;if(t)this.compress(t,e)}return h(k,[{key:"compress",value:function t(S,C){var P=this;var T=new Image;C=g({},e,C);if(!b)C.checkOrientation=false;return new Promise(function(i,t){if(!a(S)){t(new Error("The first argument must be a File or Blob object."));return}var o=S.type;if(!E(o)){t(new Error("The first argument must be an image File or Blob object."));return}if(!w&&!y){t(new Error("The current browser does not support image compression."));return}if(w&&!C.checkOrientation)i({url:w.createObjectURL(S)});else if(y){var e=new y;var r=C.checkOrientation&&o==="image/jpeg";e.onload=function(t){var e=t.target;var n=e.result;i(r?g({url:c(n,o)},u(d(n))):{url:n})};e.onabort=t;e.onerror=t;if(r)e.readAsArrayBuffer(S);else e.readAsDataURL(S)}}).then(function(n){return new Promise(function(t,e){T.onload=function(){return t(g({},n,{naturalWidth:T.naturalWidth,naturalHeight:T.naturalHeight}))};T.onabort=e;T.onerror=e;T.alt=S.name;T.src=n.url})}).then(function(t){var y=t.naturalWidth,w=t.naturalHeight,e=t.rotate,x=e===undefined?0:e,n=t.scaleX,_=n===undefined?1:n,i=t.scaleY,k=i===undefined?1:i;return new Promise(function(n){var t=document.createElement("canvas");var e=t.getContext("2d");var i=y/w;var o=Math.max(C.maxWidth,0)||Infinity;var r=Math.max(C.maxHeight,0)||Infinity;var a=Math.max(C.minWidth,0)||0;var s=Math.max(C.minHeight,0)||0;var l=y;var c=w;if(o<Infinity&&r<Infinity)if(r*i>o)r=o/i;else o=r*i;else if(o<Infinity)r=o/i;else if(r<Infinity)o=r*i;if(a>0&&s>0)if(s*i>a)s=a/i;else a=s*i;else if(a>0)s=a/i;else if(s>0)a=s*i;if(C.width>0){var d=C;l=d.width;c=l/i}else if(C.height>0){var u=C;c=u.height;l=c*i}l=Math.min(Math.max(l,a),o);c=Math.min(Math.max(c,s),r);var p=-l/2;var f=-c/2;var h=l;var m=c;if(Math.abs(x)%180===90){var g={width:c,height:l};l=g.width;c=g.height}t.width=A(l);t.height=A(c);if(!E(C.mimeType))C.mimeType=S.type;var v="transparent";if(S.size>C.convertSize&&C.mimeType==="image/png"){v="#fff";C.mimeType="image/jpeg"}e.fillStyle=v;e.fillRect(0,0,l,c);e.save();e.translate(l/2,c/2);e.rotate(x*Math.PI/180);e.scale(_,k);if(C.beforeDraw)C.beforeDraw.call(P,e,t);e.drawImage(T,Math.floor(A(p)),Math.floor(A(f)),Math.floor(A(h)),Math.floor(A(m)));if(C.drew)C.drew.call(P,e,t);e.restore();var b=function t(e){n({naturalWidth:y,naturalHeight:w,result:e})};if(t.toBlob)t.toBlob(b,C.mimeType,C.quality);else b(j(t.toDataURL(C.mimeType,C.quality)))})}).then(function(t){var e=t.naturalWidth,n=t.naturalHeight,i=t.result;if(w&&!C.checkOrientation)w.revokeObjectURL(T.src);if(i)if(i.size>S.size&&C.mimeType===S.type&&!(C.width>e||C.height>n||C.minWidth>e||C.minHeight>n))i=S;else{var o=new Date;i.lastModified=o.getTime();i.lastModifiedDate=o;i.name=S.name;if(i.name&&i.type!==S.type)i.name=i.name.replace(x,r(i.type))}else i=S;P.result=i;if(C.success)C.success.call(P,i);return Promise.resolve(i)}).catch(function(t){if(!C.error)throw t;C.error.call(P,t)})}}]),k}()},function(t,e,n){"use strict";var i,o,r,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function l(){if(i)o=!0;else{o=!(i=!0);for(var t=0;t<r.length;)!function(e){var t,n=[];if(e.deps){for(var i=0;i<e.deps.length;i++){var o=e.deps[i].replace(/\(\)$/,"");if(!(o in a))return;n.push(a[o])}for(i=0;i<e.deps.length;i++)if(/\(\)$/.test(e.deps[i]))try{n[i]=n[i](e)}catch(t){console.error("Error while execute include",e.deps[i],"for module",e,t)}}try{t=e.func.apply(e,n)}catch(t){console.error("Error while execute module ",e.path||e.name,t)}"object"==(void 0===t?"undefined":s(t))&&t.then?t.then(function(t){c(e,t)},function(t){console.error("Error while execute module ",e.path||e.name,t),c(e)}):c(e,t);return 1}(r[t])?t++:r.splice(t,1);o&&setTimeout(l,1),o=i=!1}}function c(t,e){t.result=e,(t.name||t.path)&&(t.name&&(a[t.name]=e),t.path&&(a[t.path]=e),l())}r=[],a={},window.defineM=function(t,e,n){for(var i={},o=0;o<3;o++)"string"==typeof arguments[o]?i.name=arguments[o]:"function"==typeof arguments[o]?i.func=arguments[o]:"object"==s(arguments[o])&&arguments[o]instanceof Array&&(i.deps=arguments[o]);if(i.func)return i.path=function(){var t=document.getElementsByTagName("script"),t=t[t.length-1],t=t&&t.src||"",e=/^([^?]*)\/[^?]*/.exec(window.location.href)[1]+"/";t.startsWith(e)&&(t=t.replace(e,""));return t}(),i.name=i.name||i.path.replace(/\.js$/,""),r.push(i),l(),i;console.error("Error: no function while module define",arguments)}},function(t,e,n){"use strict";defineM("mbrApp",function(i,r){function t(){this.$iframeOverlay=i("<div>").hide().css({position:"absolute",left:0,top:65,right:0,bottom:0}).appendTo("body"),r.isMobile&&i("html").addClass("device"),this.$window=i(window),this.$body=i("body")}var o={},a={},s=(t.prototype.on=function(t,e){if(i.isArray(t))for(var n in t)this.on(t[n],e);else if(t in a){if(e)try{e.apply(this,a[t])}catch(t){console.error(t)}}else(o[t]||(o[t]=[])).push(e)},t.prototype.off=function(t,e){if(!o[t])return!1;if(e)for(var n=0;n<o[t].length;n++)o[t][n]===e&&(o[t][n]=void 0);else delete o[t]},t.prototype.fire=function(t){r&&1&r.debug&&console.log("fire mbrApp::"+t);var e=[].slice.call(arguments,1);if(void 0!==o[t])for(var n in o[t])if(o[t][n])try{o[t][n].apply(this,e)}catch(t){console.error(t)}},t.prototype.fireOnce=function(t){if(r&&1&r.debug&&console.log("fire mbrApp::"+t),!(t in a)){var e,n=[].slice.call(arguments,1);for(e in a[t]=n,o[t])if(o[t][e])try{o[t][e].apply(this,n),o[t][e]=void 0}catch(t){console.error(t)}}},{}),l=(t.prototype.addFilter=function(t,e){(s[t]||(s[t]=[])).push(e)},t.prototype.applyFilter=function(t){r&&2&r.debug&&console.log("applyFilter App:"+t);var e=[].slice.call(arguments,1);if(s[t])for(var n=s[t],i=0,o=n.length;i<o;i++)try{e[0]=n[i].apply(this,e),void 0===e[0]&&console.warn("handle of "+t+" filter return undefined: ",n[i])}catch(t){console.error(t)}return e[0]},{}),e=(t.prototype.regExtension=t.prototype.registerExtension=function(t){if(!t.name||void 0!==l[t.name])return!1;if((l[t.name]=t).global)for(var e in t.global)e in this?console.error("Error re-definition method mbrApp."+e+" by module "+t.name):this[e]=t.global[e];if(t.events)for(var n in t.events)this.on(n,t.events[n]);if(t.filters)for(var n in t.filters)this.addFilter(n,t.filters[n]);return r&&8&r.debug&&console.log("mbrApp.regExtension"+t.name),!0},t.prototype.rmExtension=t.prototype.removeExtension=function(t){if(!l[t])return!1;var e=l[t].global;if(e)for(var n in e)this.k&&delete this.k;return delete l[t],!0},t.prototype.bridgeInit=function(){this.fireOnce("bridgeInit")},0);return t.prototype.uniqNum=function(){return e++},t.prototype.resetUniqNum=function(t){e=0,t&&this.Core.resetUniqNum()},window.mbrApp=new t,r.setOnReady(function(){r.bind("drop",function(t){for(var e in t)window.mbrApp.fire("incomingFile",t[e])}),i(function(){window.mbrApp.bridgeInit()})}),window.mbrApp},["jQuery","Bridge"])},function(t,e,n){"use strict";defineM("aws-app-core",function(n,t,e,i){var o=n(".app-template > iframe")[0];t.regExtension({name:"aws-app-core",global:{$iframe:n(o),iframe:o,iwindow:o.contentWindow||o,Core:void 0,appElements:{window:{width:0,height:0},iframe:{width:0,height:0},iframeBody:{width:0,height:0},sidebar:{width:0,height:0},componentsLayer:{width:0,height:0,left:0,top:0},paramsLayer:{width:0,height:0,left:0,top:0}},$template:void 0,publishKW:"",listKW:[""],preloaderHTML:'<div class="preloader preloader-spinner"><div class="mobirise-spinner"><i></i><i></i><i></i><i></i><i></i></div></div>',path2core:function(t){return t=i.path2app(t),/^(\w*\:)?\/\//.test(t)?t:"../../"+t},core2path:function(t){return/^(\w*\:)?\/\//.test(t)?t:i.path2app("web/app/builder/"+t)},appElementsUpdate:function(){var t=this;t.appElements={window:{width:t.$window.width(),height:t.$window.height()},iframe:{width:t.$iframe.width(),height:t.$iframe.height()},iframeBody:{width:t.Core.$body.width(),height:t.Core.$body.height()},sidebar:{width:t.$sidebar.width(),height:t.$sidebar.height()},componentsLayer:{width:t.$componentsLayer.width(),height:t.$componentsLayer.height()},paramsLayer:{width:t.$componentsParams.width(),height:t.$componentsParams.height()}}},coreInit:function(){var e=this;e.appElementsUpdate(),e.$window.on("resize",function(t){e.appElementsUpdate(),e.fire("resizeInterface",t)}),n(e.iwindow).on("resize",function(t){e.appElementsUpdate(),e.fire("resizeTemplate",t)}),n(e.$body).on("click",function(t){n(t.target).is(".modal")||n(t.target).parents(".modal").length||e.fire("clickBody",t)}),n(e.iwindow).on("click",function(t){e.fire("clickTemplate",t)})}},events:{bridgeInit:function(){var t=this,e=(t.fireOnce("createUI"),n(t.iframe).one("load",function(){t.$template=n(t.iframe.contentDocument||t.iframe.contentWindow.document),t.Core=t.iwindow.mbrAppCore,(t.iwindow.mbrAppCore.APP=t).fireOnce("beforeAppLoad"),t.on("addonsReady",function(){t.on("accountInited",function(){t.fireOnce("appLoaded")})})}),n(t.iframe).attr("data-src"));i.loadLocalFile(e,function(t){o.src="about:blank",o.contentWindow.document.open(),o.contentWindow.document.write(t.replace(/<head>/i,'<head><base href="'+i.path2app(e)+'"/>')),o.contentWindow.document.close()})},started:function(){n(".preloader").delay(100).fadeOut(1e3,function(){n(this).remove()})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var o=n(23);function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}defineM("app-init",function(t,r){r.regExtension({name:"app-init",global:{startApplicationProject:function(t,e,n){var i=this;function o(){i.fireOnce("beforeCoreLoad"),i.Core.fireOnce("load"),i.fireOnce("coreLoad"),i.coreInit(),i.fireOnce("load"),i._forceLoadProject(e,t,n)}r.loadThemeAddon(t&&t.settings&&t.settings.theme&&t.settings.theme.name||!1,function(t){t||console.error("Critical: default theme is wrong!"),i.getUserInfo()?i.loadAllAddons(o):o()})},_forceLoadProject:function(t,e,n){var i=this;function o(){i.createProject(e&&e.settings&&e.settings.name||"My Site",e,0,n,function(t){return n()})}t?i.loadProject(t,e,{noSave:!0,onError:o,onDone:function(){return n()}}):o()},startRecent:function(n){var i=this;r.getRecentProject(function(t,e){e?i._forceLoadProject(e,t,function(t){t&&r.showError(t);i._emitStartComplete(),n&&n()}):i.newProject(!0,function(){i._emitStartComplete(),n&&n()})})},startApplicationRecent:function(){var i=this;r.getRecentProject(function(t,e,n){if(t)return r.showError("Failed to load project list");n?r.startApplicationProject(e,n,function(t){t?r.showError(t.message||t):i._emitStartComplete()}):i.createProject("My Site",0,0,function(t){t&&r.showError(t.message||t)})},!0)},createProjectWithPresets:function(t,e,n){n=n||function(){},this._readProjectWithPresets(t,e).then(function(t){r.createProject(e.name,t,0,n,function(){return n()})}).catch(n)},_readProjectWithPresets:function(t,e){var n=this;return this._readPresetProject(t).then(function(t){return n.presetProjectParams(t,e)})},_readPresetProject:function(i){return new Promise(function(e,n){o.Bridge.loadLocalFile((r.theme&&r.theme.path||r.getAddonDir(r.DEFAULT_THEME))+"/projects/"+i+"/project.mobirise",function(t){t=t.replace(/\@PROJECT_PATH\@/g,"@THEME_PATH@/projects/"+i);try{e(JSON.parse(t))}catch(t){n(t)}})})},applyProjectPresets:function(e,t,n){if("string"==typeof(t=t||r.prepareProjectText()))try{t=JSON.parse(r.prepareProjectText())}catch(t){}this.presetProjectParams(t,e).then(function(t){r.loadProject(r.projectPath,t,{onError:function(t){r._emitStartComplete(),n&&n(t)},onDone:function(){r._emitStartComplete(),n&&n()}}),o.Bridge.changeRecentSettings(r.projectPath,{name:e.name},function(t){console.warn("Can't apply project name to recent list")})}).catch(function(t){r._emitStartComplete(),n&&n(t)})},_emitStartComplete:function(){r.fireOnce("loaded"),r.fireOnce("started")},presetProjectParams:function(i,o){return i.settings=i.settings||{},i.settings.sourceProject=i.settings.sourceProject||i.settings.name.toLowerCase(),i.settings.name=o.name||i.settings.name,i.pages=i.pages||{},i.pages["index.html"]=i.pages["index.html"]||{},i.pages["index.html"].components=i.pages["index.html"].components||[],o.email=r.getUserInfo().email,o.year=r.getCurrentYear(),new Promise(function(e){function n(){var t,n;n=o,(t=i).pages["index.html"].settings=t.pages["index.html"].settings||{},t.pages["index.html"].settings.title=n.name,t.pages["index.html"].components.forEach(function(t){var e=void 0;try{e=(new DOMParser).parseFromString(t._customHTML,"text/html")}catch(t){return void console.error(t)}[].concat(a(e.querySelectorAll("[mbr-link-type=address],[mbr-link-type=phone],[mbr-link-type=email],[mbr-link-type=name],[mbr-link-type=year]"))).forEach(function(t){n[t.getAttribute("mbr-link-type")]&&(t.innerHTML=n[t.getAttribute("mbr-link-type")])}),n.email&&n.account!=n.email&&[].concat(a(e.querySelectorAll("form"))).forEach(function(t){return t.setAttribute("action",n.email)}),n.address&&n.place_id&&[].concat(a(e.querySelectorAll("input[type=map]"))).forEach(function(t){t.setAttribute("place-id",n.place_id),t.setAttribute("value",t.address)}),t._customHTML=e.body.innerHTML}),e(i)}i.settings.authorLocation?(o.address=i.settings.authorLocation.address,n()):(r.fire("setAuthorProjectLocation"),r.userPosPromise.then(function(t){i.settings.authorLocation=t,o.address=t.address,o.phone="+"+t.phoneCode+"-000-000-0000",n()},function(t){n()}))})}},events:{appLoaded:function(){o.Bridge.isDev||window.addEventListener("beforeunload",function(t){(t||window.event).returnValue=""}),window.stopStart||r.startApplicationRecent()}}})},["jQuery","mbrApp","app-plugin-map"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-common",function(l,s,c,d,e){function o(t){return(new TextEncoder).encode(t)}function r(t,e,n,i){return function(){var t=Array.prototype.slice.call(arguments),n=t.reduce(function(t,e){if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return t+e.byteLength;throw new TypeError("Every argument must be an ArrayBuffer of ArrayBuffer view")},0);return t.reduceRight(function(t,e){return n-=e.byteLength,t.set(ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.length*e.BYTES_PER_ELEMENT):new Uint8Array(e),n),t},new Uint8Array(n)).buffer}((o=t.length,r=e.length,n=n,(a=new DataView(new ArrayBuffer(6))).setUint8(0,o),a.setUint8(1,r),a.setUint32(2,n),a.buffer),t,e,i);var o,r,a}var a,u;s.regExtension({name:"common",global:{redirectLinks:function(t,e){var n=this;l("a[href^=http]",t).each(function(){l(this).data("link",l(this).attr("href"))}).attr("href","javascript:void(0)").click(function(t){t.stopPropagation(),s.openUrl(l(this).data("link"))}),l("iframe",t).each(function(){n.redirectLinks(this.contentWindow.document.documentElement,e)})},openUrl:function(t){t=s.applyFilter("openUrl",t),(t=d.substUrl(t))&&d.openUrl(t)},criticalError:function(t,e){var n="<i>"+c("This is a critical error, some functions of the program may not work correctly, please send information to the developers.")+"</i>",i=this;if(e){if(0<=i._criticalErrorShown.indexOf(e))return;if(0<=i._criticalErrorShowed.indexOf(t))return;i._criticalErrorShown.push(e),i._criticalErrorShowed.push(t)}bootbox.dialog({title:c("Critical error"),message:(t||"")+"<br/>"+n,buttons:{cancel:{label:c("Cancel"),className:"btn-default",callback:function(){}},success:{label:c("Send Error Report"),className:"btn-primary",callback:function(){}}}}).on("hidden.bs.modal",function(){i._criticalErrorShowed.slice(i._criticalErrorShowed.indexOf(t),1)})},_criticalErrorShown:[],_criticalErrorShowed:[],showDialog:function(n){var i=!1;if(this.$body.find(".bootbox.modal").length&&this.$body.find(".bootbox.modal").each(function(t,e){(l(e).find(".modal-title").length&&l(e).find(".modal-title").html()===n.title||l(e).find(".modal-body").length&&l(e).find(".modal-body").html()===n.body)&&(i=!0)}),!i){var t,e,o=this,r={};if((n=n||{}).cancel&&(r.cancel={label:n.cancelLabel||c("Cancel"),className:"btn-default",callback:function(){n.cancel.call(t,t)}}),n.success&&(r.success={label:n.successLabel||c("Ok"),className:"btn-primary",callback:function(){n.success.call(t,t)}}),n.buttons)for(var a in n.buttons)!function(t){r[a]={label:t.label||"",className:(t.className||"")+" "+(/btn-primary|btn-default/.test(t.className)?"":t.default?"btn-primary":"btn-default"),callback:function(){if(t.callback)return t.callback()}}}(n.buttons[a]);for(e in t=bootbox.dialog({size:n.size,title:n.title,className:n.className+(n.flex?" mbr-flex":""),message:n.body||"\x3c!-- Empty body --\x3e",buttons:r,onEscape:n.oncancel||function(){},show:!1}),n.id&&t.attr("id",n.id),n.buttons)t.find("[data-bb-handler="+e+"]").attr("name",e);return n.create&&n.create.call(t,t),t.find("select").dropdown({absolutePos:!0,align:"right"}),t.find("input.mbr-color").each(function(){function n(t,e){return-1==(e=e.map(function(t){return t.toUpperCase()})).indexOf(t.toUpperCase())}var e=l(this);e.spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",allowEmpty:!0,showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:c("More")+" >",togglePaletteLessText:c("Less")+" <",replacerClassName:e.hasClass("pull-right")?"pull-right":"",appendTo:"#innerFontDialog",maxSelectionSize:1,palette:s.getThemeColorsSet(7),move:function(t){e.val(t&&t.toHexString()),e.trigger("change")},hide:function(t){var e;t&&((e=s.projectSettings.theme.additionalSetColors)?n(t.toHexString(),e)&&n(t.toHexString(),s.getThemeColorsSet(7)[0])&&(e.length<7?e.push(t.toHexString()):(e.unshift(t.toHexString()),e.pop())):n(t.toHexString(),s.getThemeColorsSet(7)[0])?s.projectSettings.theme.additionalSetColors=[t.toHexString()]:s.projectSettings.theme.additionalSetColors=[])}})}),n.show&&n.show.call(t,t),t.on("shown.bs.modal",function(){o.fire("modalDialogShow",t,n)}),l(t).on("hide.bs.modal",function(){t.find("select").each(function(){l(l(this).data("dropdownjs-ul")).remove()}),t.find("input.mbr-color").spectrum("hide"),o.fire("modalDialogHide",t)}),t.on("hidden.bs.modal",function(){s.$body.find(".modal:visible").length&&s.$body.addClass("modal-open"),t.find("input.mbr-color").spectrum("destroy"),n.onhide&&(n.onhide.call(t,t),console.log("Warning: Using showDialog.onhide is depracated, use showDialog.hide instead")),n.hide&&n.hide.call(t,t),o.fire("modalDialogHidden",t)}),t.modal("show"),t}},showError:function(t,e){(t="object"!=(void 0===t?"undefined":i(t))?{message:t||"Unknown error"}:t).callback=t.callback||e,bootbox.alert(t)},confirmDlg:function(t,e){return"object"!==(void 0===t?"undefined":i(t))?t={body:t,cancel:function(){e(!1)},success:function(){e(!0)},oncancel:function(){e(!1)}}:(t.body=t.message,t.buttons?(t.buttons.cancel.callback=function(){t.callback(!1)},t.buttons.confirm.callback=function(){t.callback(!0)},t.buttons.confirm.default=!0):(t.cancel=function(){t.callback(!1)},t.success=function(){t.callback(!0)},t.oncancel=function(){t.callback(!1)}),t.oncancel=function(){t.callback(!1)}),s.showDialog(t)},alertDlg:function(t){return s.showDialog({body:t,success:function(){}})},Accordion:function(e,n,i){return i=l.extend({autoCollapse:!0},i),e=l(e),n=l(n),e.click(function(){var t=n.eq(e.index(this));i.autoCollapse&&n.not(t).slideUp(),t.slideToggle()}),(i.autoCollapse?(n.hide(),l(i.start_panel||n.get(0))):n).show(),{collapse:function(t){l(t||n).hide()},expand:function(t){l(t||n).show()},open:function(t){n.hide(),l(t).show()},close:function(t){l(t).hide()}}},initPopoverRange:function(t){var e=this;l(t).popover({trigger:"click,focus",content:function(){return e.renderRangeSlider(t)},html:!0,placement:"top"})},renderRangeSlider:function(t){var n=l(t),i=l('<div class="slider" style="width:150px" />').get(0),o=parseFloat(n.attr("data-min"))||0,r=parseFloat(n.attr("data-max"))||10,t=parseFloat(n.attr("data-step"))||1,a=(noUiSlider.create(i,{start:parseFloat(n.val())||o,step:t,range:{min:o,max:r}}),l("<span></span>").appendTo(l(i).find(".noUi-handle"))),s=0;return i.noUiSlider.on("update",function(t,e){s?(t=parseFloat(t[e]),l(i).removeClass("noUi-first noUi-last"),t==o?l(i).addClass("noUi-first"):t==r&&l(i).addClass("noUi-last"),a.html("<span>"+t+"</span>"),n.val(t).trigger("change")):s=1}),i},runIframe:function(t,e,n){(n=n||{}).base=n.base||window.location.href;var i="",i="<html><head>";if(i+='<base href="'+n.base+'"/>',n.links)for(var o=0;o<n.links.length;o++)i+='<link rel="stylesheet" href="'+n.links[o]+'"/>';return i=(i+="</head><body"+(s.appSettings&&(!0===s.appSettings.darkMode?' class="dark-mode"':""))+">")+(e||"")+"</body></html>",t.style.visibility="hidden",n.noScroll&&(t.setAttribute("scrolling","no"),t.style.overflow="hidden"),t.onload=function(){t.onload="",this.style.visibility="visible",n.onload&&n.onload(t.contentWindow.document.documentElement)},t.contentWindow.document.open(),t.contentWindow.document.write(i),t.contentWindow.document.close(),t},addAppResource:function(t,e){if(t)return(e=void 0===e?/\.js$/.test(t.split("?")[0]):e)?this.addAppScript(t):(this.addAppStyle(t),l.Deferred().resolve())},addCoreResource:function(t,e){var n;if(t)return void 0===e&&(e=/\.js$/.test(t.split("?")[0])),0<=(n=s.Core.$body.data("files")||[]).indexOf(t)?l.Deferred().resolve():(n.push(t),s.Core.$body.data("files",n),e?this.addCoreScript(t):(t=s.path2core(t),s.Core.$document.find("#insertBefore").before('<link rel="stylesheet" href="'+t+'"/>'),l.Deferred().resolve()))},addAppScript:function(t){var e=l.Deferred();return this.appendScriptAsync(d.path2app(t),s.$window.get(0),function(t){return e.resolve()}),e.promise()},addAppStyle:function(t){s.$body.find("#insertBefore").before('<link rel="stylesheet" href="'+d.path2app(t)+'">')},addCoreScript:function(t){var e=l.Deferred();return this.appendScriptAsync(s.path2core(t),s.iwindow,function(t){return e.resolve()}),e.promise()},appendScriptAsync:function(e,t,n){var i=document.createElement("script");i.addEventListener("load",n),i.addEventListener("error",function(t){console.warn("Error while script loading "+e,t),n&&n()}),i.src=e,(t||window).document.head.appendChild(i)},checkScriptSyntaxError:function(t,e){var i,n=document.createElement("iframe");n.style.visibility="hidden",window.document.body.appendChild(n),n.myerrors=function(t,e,n){return t&&!t.indexOf("SyntaxError:")&&((i=new Error(t)).fileName=e,i.lineNumber=n),!0},n.onload=function(){window.document.body.removeChild(n),e&&e(i)},n.contentWindow.document.open();try{n.contentWindow.document.write('<html><head><script> window.onerror = window.frameElement.myerrors <\/script><script src="'+t+'"><\/script></head><body></body></html>'),n.contentWindow.document.close()}catch(i){}},evalScript:function(e,t){var a=(t=t||{}).globals||{},n=!!t.noCheckErrors,s=t.context||window,i=t.callback_error||function(){};if((!s.eval||!s.location)&&(!(s=(s=s.ownerDocument||s).defaultView||s).eval||!s.location))return t=new Error("Wrong context of evalScript",s),console.error(t),void i(t);function o(o,r){d.loadLocalFile(o,function(t){if(t){var e,n,i={};for(n in a)i[n]=s[n],s[n]=a[n];try{s.eval(t)}catch(t){console.error(t.message,o,t.stack),e=t}for(n in i)s[n]=i[n];r(e)}else console.error("Empty script",o),r(new Error("Empty script",o))})}/^[\w]*:/.test(e)||(t=(t=s.location.href).substring(0,t.lastIndexOf("/")+1),e=t+e),n?setTimeout(function(){o(e,i)},1):this.checkScriptSyntaxError(e,function(t){t?(console.error("Script error:",t,e),i(t)):setTimeout(function(){o(e,i)},1)})},spinText:function(t){for(var i=function(t){return t[e=0,t=t.length,Math.floor(Math.random()*(t-e))+e];var e};/\{[^{}]*\}/.exec(t);)t=t.replace(/\{([^{}]*)\}(\s?)/g,function(t,e,n){return(e=i(e.split("|")))&&(e+=n),e});return t.replace(/\s$/,"")},escapeHtml:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(t).replace(/[&<>"'\/]/g,function(t){return e[t]})},http:function(t,e){return d.http(t,e)},encrypt:(a=window.crypto,u=a&&(a.subtle||a.webkitSubtle),function(e,t){var n,i;return u?"string"!=typeof e?Promise.reject(new TypeError('"content" must be a string')):"string"!=typeof t?Promise.reject(new TypeError('"password" must be a string')):(n=a.getRandomValues(new Uint8Array(16)),i=a.getRandomValues(new Uint8Array(32)),u.importKey("raw",o(t),"PBKDF2",!1,["deriveKey"]).then(function(t){return u.deriveKey({name:"PBKDF2",salt:i,iterations:5e5,hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"])}).then(function(t){return u.encrypt({name:"AES-GCM",iv:n},t,o(e))}).then(function(t){return r(i,n,5e5,t)}).then(function(t){for(var e="",n=new Uint8Array(t),i=n.byteLength,o=0;o<i;o++)e+=String.fromCharCode(n[o]);return window.btoa(e)})):Promise.reject(new Error("Crypto.subtle is not implemented"))}),reloadTranslator:function(t){"MobiriseTranslator"===t.name&&d.reload()},resizeWindow:function(){s.$window.resize()},runFileDialog:function(t){return t.path&&(t.path=d.docLocation+"/"+t.path),$Bridge.runFileDialog2(t)},showPreloader:function(t){var e;s.$body.find(".preloader").length?(s.$body.find(".preloader").css({opacity:".8",transition:"0.2s"}),t&&t()):(e=l(s.preloaderHTML),s.$body.append(e),e.css({opacity:".8",transition:"0.2s"}),e.one("transitionend",function(){t&&t()}))},hidePreloader:function(t){var e=s.$body.find(".preloader");e.one("transitionend",function(){e.remove(),t&&t()}),e.css("opacity",0)},openImage:function(t,e,n,i,o,r,a){d.openImage(t,e,n,i,o,r,a)},mbrServerGet:function(t){return e.get("storage/"+t)},stopIfRepeatDecorator:function(n,i){var o=null;return function(){var t=this,e=arguments;clearTimeout(o),o=setTimeout(function(){n.apply(t,e)},i)}}},events:{beforeAppLoad:function(){l(document).on("show.bs.modal",function(t){l(t.target).find(".close").addClass("mbr-icon-times").empty()})},translateLoaded:function(){l(".preloader .logo").last().html(c("LOADING..."))}}})},["jQuery","mbrApp","TR()","Bridge","mbrServer"])},function(t,e,n){"use strict";var o=n(23);defineM("app-migrate",function(t,i){i.regExtension({name:"migrate",global:{dirList:function(t,e,n){o.Bridge.dirList(t,e,n)},transformImage:function(t,e,n){o.Bridge.transformImage(t,e,n)},getComponent:function(t){return i.Core.getComponent(t)},getCoreTemplate:function(){return i.Core.$template},removeComponent:function(t,e,n){return i.Core.removeComponent(t,e,n)},getUniqCompName:function(){return i.Core.getUniqCompName()},getCoreUniqNum:function(){return i.Core.uniqNum()}},events:{load:function(){i.Core.on("savedMediaIconFontDialog",function(t,e,n){i.fire("savedMediaIconFontDialog",t,e,n)}),i.Core.on("updateGlobalComponents",function(t,e){i.fire("updateGlobalComponents",t,e)}),i.Core.addFilter("getComponentsAnchorList",function(t){return i.applyFilter("getComponentsAnchorList",t)})},loaded:function(){i.addFilter("additionalSiteSettings",function(t){return i.applyFilter("additionalPageSettings",t)})}}})},["jQuery","mbrApp"])},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(142),f=(i=i)&&i.__esModule?i:{default:i},h=n(23);defineM("TR",function(u,p){var a={},n={},i=u.Deferred();function c(t,i){function r(t){var e=t;function n(){return"global"!==i&&a.groups.global[t]?a.groups.global[t]:t}return i=i||"global",e=a.groups?a.groups[i]&&a.groups[i][t]||n():e}return t&&("string"==typeof t&&t.search(/<[^>]+\/?>/)<0?r:function(t){var e;if("string"==typeof t)(e=document.implementation.createHTMLDocument("fake doc").createElement("div")).innerHTML=t;else{if(!t.nodeType)return t;e=t}return function t(e){var n;if(1===e.nodeType?e.hasAttribute("title")&&e.setAttribute("title",r(e.getAttribute("title").trim())):3===e.nodeType&&(n=e.textContent,!/^\s+$/.test(n))&&/[A-Za-z]+/.test(n)&&(e.textContent=e.textContent.replace(e.textContent.trim(),r(e.textContent.trim()))),e.childNodes.length)for(var i=0,o=e.childNodes.length;i<o;i++)t(e.childNodes[i])}(e),e.innerHTML})(t)}function e(){var e,n;f.default.getSettings("language").then(function(t){return e=t.split('"')[1]||t||"en",f.default.osLocale()}).then(function(t){var s,l;n=(n=t.match(/([a-z]+)_/))&&n[1]||"",s=e,l=n,p.getTranslateFilesInfo().then(function(t){for(var e,n,i="",o="",r=0,a=t.length;r<a;r++)o=l===t[r].language?"selected":"",i+='<option value="'+t[r].language+'" '+o+">"+t[r].title+"</option>";e=['<div class="form-group">','   <select class="lang-select">',i,"   </select>","</div>"],n=p.showDialog({title:c("Change language?"),className:"change_language",body:e.join("\n"),buttons:{success:{label:c("Ok"),className:"btn-primary",callback:function(){var t=n.find(".lang-select").val();t!==s&&f.default.setSettings("language",t).then(function(){h.Bridge.reload()}).fail(function(){p.alertDlg(c("Error setup language!"))})}}},show:function(t){o||t.find("select.lang-select").val("en").change()},cancel:function(){}})})}).fail(function(t){console.error(t)})}return n.updateLangObj=function(t){for(var e in t.language&&!a.language&&(a.language=t.language),t.title&&!a.title&&(a.title=t.title),a.groups||(a.groups={}),t.groups)if(t.groups[e].length){a.groups[e]||(a.groups[e]={});for(var n=0,i=t.groups[e].length;n<i;n++)a.groups[e][t.groups[e][n].phrase]=t.groups[e][n].translate}},n.init=function(r){var a=this;return p.on("themeLoaded",function(){p.getTranslateFileData(r,p.theme.name).then(function(t,e){t&&a.updateLangObj(t)})}),p.getTranslateFileData(r).then(function(t,e){var o=u.Deferred();t&&a.updateLangObj(t),p.getPluginsExtensions().then(function(t){!function n(i){i<t.length?p.getTranslateFileData(r,t[i].name).then(function(t,e){t&&a.updateLangObj(t),n(++i)}):o.resolve()}(0)}).fail(function(t){console.error(t)}).always(function(){o.resolve()})})},p.regExtension({name:"translate",global:{languageList:{af:"Afrikaans",am:"Amharic",ar:"Arabic",az:"Azerbaijani",be:"Belarusian",bg:"Bulgarian",bh:"Bihari",bn:"Bengali",br:"Breton",bs:"Bosnian",ca:"Catalan",co:"Corsican",cs:"Czech",cy:"Welsh",da:"Danish",de:"German",el:"Greek",en:"English",eo:"Esperanto",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",fi:"Finnish",fil:"Filipino",fo:"Faroese",fr:"French",fy:"Frisian",ga:"Irish",gd:"Scots Gaelic",gl:"Galician",gn:"Guarani",gu:"Gujarati",ha:"Hausa",haw:"Hawaiian",he:"Hebrew",hi:"Hindi",hr:"Croatian",hu:"Hungarian",hy:"Armenian",ia:"Interlingua",id:"Indonesian",is:"Icelandic",it:"Italian",ja:"Japanese",jw:"Javanese",ka:"Georgian",kk:"Kazakh",km:"Cambodian",kn:"Kannada",ko:"Korean",ku:"Kurdish",ky:"Kyrgyz",la:"Latin",ln:"Lingala",lo:"Laothian",lt:"Lithuanian",lv:"Latvian",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mo:"Moldavian",mr:"Marathi",ms:"Malay",mt:"Maltese",ne:"Nepali",nl:"Dutch",no:"Norwegian",oc:"Occitan",om:"Oromo",or:"Oriya",pa:"Punjabi",pl:"Polish",ps:"Pashto",pt:"Portuguese",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",sd:"Sindhi",sh:"Serbo-Croatian",si:"Sinhalese",sk:"Slovak",sl:"Slovenian",sn:"Shona",so:"Somali",sq:"Albanian",sr:"Serbian",st:"Sesotho",su:"Sundanese",sv:"Swedish",sw:"Swahili",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",tk:"Turkmen",tlh:"Klingon",to:"Tonga",tr:"Turkish",tt:"Tatar",tw:"Twi",ug:"Uighur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zh:"Chinese",zu:"Zulu"},TR:c,getAccountTranslateDir:function(){return p.getAccountPath()?p.getAccountPath()+"/translations":""},getSrcTranslationsFolder:function(t){return"interface"!==t&&t?p.getAddonDir(t)+"/translations":"web/assets/translations"},getTranslationsFolder:function(t){var e=p.getAccountTranslateDir();return"interface"!==t&&t?e?e+"/"+t:"":e},validateTranslationData:function(i){return p.languageList[i.language]===i.title&&function(){if(i.groups)for(var t in i.groups)if(i.groups[t].length)for(var e=0,n=i.groups[t].length;e<n;e++)if(i.groups[t][e].phrase&&void 0!==i.groups[t][e].translate)return!0;return!1}()},getTranslateFileData:function(t,e){var i=u.Deferred(),o=[];return e&&p.getTranslationsFolder(e)&&o.push(p.getTranslationsFolder(e)+"/"+t+".json"),p.getSrcTranslationsFolder(e)&&o.push(p.getSrcTranslationsFolder(e)+"/"+t+".json"),function e(n){o.length<=n?i.resolve():f.default.loadLocalFile(o[n]).then(function(t){try{t=JSON.parse(t),p.validateTranslationData(t)?i.resolve(t,o[n]):e(++n)}catch(t){e(++n)}})}(0),i.promise()},getPluginsExtensions:function(){var i=u.Deferred();return p.getAddons(function(t){var e=[];if(t)for(var n in t)"plugin"===t[n].type&&e.push(t[n]);i.resolve(e)}),i.promise()},getTranslateFilesPaths:function(e){var c=[],n=u.Deferred(),r=p.getTranslationsFolder(e),d=p.getSrcTranslationsFolder(e),i=d+"/en.json",o=r+"/en.json";return f.default.isExistsLocal(p.path2core(i)).then(function(t){return p.isValidTranslateFile(t?i:o)}).then(function(t){t?(r?f.default.dirList(r,{names:["*.json"],filter:1,recursive:!1}).then(function(t){var o=u.Deferred();return function e(n){var i;n<t.length?(i=r+"/"+t[n],"en"!==h.Bridge.splitPath(i).name?p.isValidTranslateFile(i).then(function(t){t&&c.push(i),e(++n)}):e(++n)):o.resolve()}(0),o.promise()}):u.Deferred().resolve()).then(function(){return"interface"!==e&&e?f.default.dirList(d,{names:["*.json"],filter:1,recursive:!1}):f.default.getLocalJSON(d+"/list.json")}).then(function(s){var l=u.Deferred();return function e(n){var i,t,o=!1;if(n<s.length){if(i=d+"/"+s[n],t=h.Bridge.splitPath(i).name,c.length)for(var r=0,a=c.length;r<a;r++)if(t===h.Bridge.splitPath(c[r]).name){o=!0;break}o?e(++n):p.isValidTranslateFile(i).then(function(t){t&&c.push(i),e(++n)})}else l.resolve()}(0),l.promise()}).then(function(){n.resolve(c)}):n.resolve([])}),n.promise()},isValidTranslateFile:function(t){var e=u.Deferred();return h.Bridge.getLocalJSON(t,function(t){t?e.resolve(p.validateTranslationData(t)):e.resolve(!1)},function(t){t&&console.error(t),e.resolve(!1)}),e.promise()},getTranslateFilesInfo:function(t){return p.getTranslateFilesPaths(t).then(function(t){var i=u.Deferred(),o=[];return function e(n){n<t.length?f.default.loadLocalFile(t[n]).then(function(t){if(t)try{t=JSON.parse(t),p.validateTranslationData(t)&&o.push({title:t.title,language:t.language})}catch(t){}e(++n)}):i.resolve(o)}(0),i.promise()})},getLangInfo:function(){return a},startLanguageSelect:e},events:{load:function(){c(p.$sidebar[0]),c(p.$pagesList[0]),c(p.$pageSettings[0]),c(p.$componentsLayer[0]),c(p.$themeToggleBtn[0]),bootbox.setLocale(a.language),f.default.getSettings("language").then(function(t){t?a.language=t.split('"')[1]||t:e()}),p.addFilter("addAppSettingsItem",function(t){return[t,"<div>",'   <label class="col-md-3">'+c("Language")+"</label>",'   <div class="col-md-9">',"       <br>",'       <div class="setting">','           <div class="row">','               <div class="input-group">','                   <select class="form-control" name="language"></select>',"               </div>","           </div>","       </div>","   </div>","</div>"].join("\n")})},beforeAppLoad:function(){p.Core.addFilter("loadComponentTemplate",function(t,e,n,i){return t=p.isSecondaryComponent(e)?t&&c(t,p.theme.name):t})},showAppSettings:function(r){p.getTranslateFilesInfo().then(function(t){var e="";if(t.length)for(var n=0,i=t.length;n<i;n++)e+='<option value="'+t[n].language+'">'+t[n].title+"</option>";u("select[name=language]").append(e),u("select[name=language]").change();var o=r.find('[name="language"]');a.language&&(o.val(a.language),o.trigger("change"))})},applyAppSettings:function(t){t=t.find('[name="language"]');a.language&&t.val()&&t.val()!==a.language&&h.Bridge.setSettings("language",t.val(),function(){h.Bridge.reload()})},accountInited:function(t){var e=void 0;f.default.getSettings("language").then(function(t){return t?"en"==(e=t.split('"')[1]||t):f.default.osLocale().then(function(t){return(t=t&&t.split("_")[0])&&(e=t,f.default.setSettings("language",t)),t})}).then(function(t){return!t&&p.getTranslationsFolder()?p.isValidTranslateFile(p.getTranslationsFolder()+"/"+e+".json"):t}).then(function(t){return!t&&p.getSrcTranslationsFolder()?p.isValidTranslateFile(p.getSrcTranslationsFolder()+"/"+e+".json"):t}).then(function(t){if(t&&e)return n.init(e);f.default.setSettings("language","en"),e="en"}).fail(function(t){console.error("Error translate file",t)}).always(function(){i.resolve(function(n){return"object"==(void 0===n?"undefined":o(n))&&n.func?function(t,e){return c(t,e=e||(n.name+".js"===n.path?"web/"+n.path:n.name))}:c.apply(null,arguments)}),p.fire("translateLoaded")})}}}),i},["jQuery","mbrApp"])},function(t,e,n){"use strict";var o=n(23);defineM(function(e,a,i){var n=!1;a.regExtension({name:"aws",global:{getUserInfo:function(){return n&&e.extend({},!0,n)},checkUserInfo:function(t){t=t||function(){},n&&n.id&&"verified"in n?t(this.getUserInfo()):t()},getAccountPath:function(){return""},signUp:function(t,e){i.signup(t).then(function(t){e()}).catch(function(t){e(t)})},signIn:function(t,e,n){i.signin({email:t,password:e}).then(function(t){n()}).catch(function(t){n(t)})},signInWith:function(t,e){console.warn("Try to sign-in"),e&&e("Signin is denided")},signOut:function(){i.signout().then(function(t){a.fire("logout",a.getUserInfo().email),setTimeout(function(t){o.Bridge.goLogin()},1)})},logout:function(){this.signOut()},resetPassword:function(){var t=a.getUserInfo().email;i.lostpassword(t).then(function(){a.alertDlg("We've sent an email with instructions on how to reset your password to the email address $email$".replace("$email$",t)),a.fire("sendResetPassword",t)}).catch(function(t){a.alertDlg(t.message)})},serverAddons:function(t){return e.Deferred().reject(null)},connectUsrDomain:function(t,e){return o.Bridge._REST("sites/"+a.projectSettings.id+"/domains",{method:"POST",data:JSON.stringify({name:t})})},deleteUsrDomain:function(e){return a.infoUsrDomain(e).then(function(t){if(t)return o.Bridge._REST("sites/"+e+"/domains/"+a.projectSettings.domains[1].id,{method:"DELETE"});throw new Error("Invalid site information")},function(t){throw new Error(t)})},changeUsrDomain:function(t){return o.Bridge._REST("sites/"+a.projectSettings.id+"/domains/0",{method:"PUT",data:JSON.stringify({name:t+".@"})})},infoUsrDomain:function(t){return o.Bridge._REST("sites/"+t,{method:"GET"})},checkSign:function(e,t){var n,i=a.getUserInfo();function o(){n=!0}i&&i.email?e(!0):(n=!1,a.on("signedin",o),a.on("closedSignForm",function t(){a.off("closedSignForm",t),a.off("signedin",o),e&&e(n)}),a.showSignForm(SSF_DEFAULT,t))},handleServerError:function(t,e){403==e&&n&&n.token&&a.fire("accountAccessExpired")},isPremiumUser:function(){return i.licenses().then(function(t){return!!t.filter(function(t){return t.items.some(function(t){return"subscription"===t.type&&!t.expired})}).length})},goToBuyPremium:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.alert,t=t.delay,t=void 0===t?2e3:t;void 0!==e&&!e||a.confirmDlg({message:"This feature is available with our premium plans",buttons:{cancel:{label:"Cancel",className:"btn-default"},confirm:{label:"Upgrade",className:"btn-primary"}},callback:function(t){t&&a.goToBuyPremium({alert:!1,delay:!1})}}),setTimeout(function(){a.openUrl("https://mobirise.com/p/?u="+a.getUserInfo().id)},t||0)}},events:{bridgeInit:function(t){var e=this;i.getProfile().then(function(t){n=t,e.fireOnce("accountInited",t)}).catch(function(){console.error("Account is unavailable, need to re-login..."),e.fire("needLogin")}),o.Bridge.bind("auth-error",function(t){a.fire("authError",t)})},load:function(){a.addFilter("getPluginResource",function(t,e,n,i,o,r){return void 0!==a.projectSettings.theme.staticStyles&&0===e.indexOf("Theme")&&"css"===n&&a.appSettings.removeMobiriseReferences&&(result.css=""),t}),a.addFilter("publishFiles",function(t){for(var e=0;e<t.length;){var n=t[e];if(0<=n.dest.indexOf("project.mobirise"))t.splice(e,1);else{if(n.srcList&&n.srcList.length)for(var i=0;i<n.srcList.length;i++)n.srcList[i].src.startsWith(a.projectPath)&&(console.warn("Publish source is in project",n),t.splice(e,1));e++}}return t}),a.addFilter("publishHTML",function(t,e,n){return t=t.replace(/(?:href|src)\=\"([^\"#\?]+)/gim,function(t,e){var n;return!/^http[s]?\:/.test(e)&&!/\.html$|\.htm$|\.xht$|\.xhta$|\.xhtml$|\.shtml$|\.shtm$|\.php$|\.php3$|\.php4$|\.php5$|\.phps$|\.phpt$|\.phtml$|\.asp$|\.aspx$|\.jsp$|\.cgi$|\.pl$|\.py$/i.test(e)&&(n=void 0,e.startsWith(".")?n=a.projectSettings.resourcesUrl+e.replace(/^.\//,"")+"?rnd="+Date.now():e.startsWith("assets/")&&(n=a.projectSettings.resourcesUrl+e+"?rnd="+Date.now()),n)?t.replace(e,n):t})}),a.addFilter("initFontsForFrame",function(n,t){return t.forEach(function(t,e){/^http[s]?\:/.test(t.url)&&(n[e]=t.url)}),n}),a.addFilter("checkProjectFonts",function(t){return[]}),a.addFilter("downloadFonts",function(t){return[]}),a.Core.addFilter("getComponent",function(t,e,n,i){return t&&(t._customHTML=a.Core.replaceSystemVariables(t._customHTML,t)),t})},modalDialogShow:function(t,e){"google-fonts"==e.className&&t.find("#media-tabs li:first button").hide()},authError:function(t){a.showError(t,function(){a.fire("needLogin")})},needLogin:function(){o.Bridge.goLogin()}}}),a.on("openThemeSettings",function(){e("[data-setting-name=isScrollToTopButton]").hide()})},["jQuery","mbrApp","mbrServer"])},function(t,e,n){"use strict";defineM("app-plugin-sidebar",function(o,t){t.regExtension({name:"plugin-sidebar",global:{$sidebar:o(".app-sidebar"),$sidebarToggle:o(".sidebar-toggle .mbr-icon-bars"),$sidebarClose:o(".sidebar-close"),openSidebar:function(){this.$body.hasClass("app-page-settings-open")||this.$body.hasClass("app-component-code-editor-open")||(this.$body.toggleClass("app-sidebar-open"),this.fire("sidebarOpened"))},closeSidebar:function(){this.$body.hasClass("app-page-settings-open")||(this.$body.removeClass("app-sidebar-open"),this.fire("sidebarClosed"))},addSidebarItem:function(t,e){e||(e=t,t=""),(e=o.extend({title:t,description:e.tooltip||e.title,className:"sidebar-block",subTitle:"",subClass:"",hover:!0,customHTML:""},e)).hover&&(e.className+=" hover-block");var n,i='<div class="hover-block @className@" data-tooltipster="right" title="@description@"><span class="hover-block-arrow mbr-icon-angle-right"></span><h4>@title@</h4></div>';for(n in e)i=i.replace(new RegExp("@"+n+"@","g"),e[n]);return i=o(i),e.customHTML&&i.append(e.customHTML),i.appendTo(this.$sidebar),e.onclick&&i.click(e.onclick),i}},events:{load:function(){var e=this;e.$sidebarToggle.on("mouseenter touchenter",function(t){e.openSidebar()}),e.$sidebarClose.on("click",function(){e.closeSidebar()})},clickBody:function(t){o(t.target).is(".mbr-icon-bars")||o(t.target).is(".app-sidebar")||o(t.target).parents(".app-sidebar").length||o(t.target).parents(".app-layer").length||o(t.target).is(".app-layer")||o(t.target).is("ul, li")||this.closeSidebar()},toggleComponents:function(){this.closeSidebar()}}})},["jQuery","mbrApp"])},function(t,e,n){"use strict";defineM("app-user-account",function(t,i,o,n,e){var r=0;i.regExtension({name:"user-account-dialog",global:{$btnAccountBlock:t(".account-block"),$accountSettings:t("#app-account-settings"),updateAccountBlock:function(){this.fire("updateAccountBlock");var t=this.$btnAccountBlock.find(".app-user-email"),e=o("Please, Sign Up"),n=i.getUserInfo();n&&n.email?(this.$btnAccountBlock.addClass("app-user-signed"),e=n.email):this.$btnAccountBlock.removeClass("app-user-signed"),t.text(e),this.fire("updatedAccountBlock")},showAccountSettings:function(){this.$body.hasClass("app-account-settings-open")||(this.fire("showSideBarsSection",this.$accountSettings),this.fire("showAccountSettings"),t(".account-email").text(i.getUserInfo().email),this.$body.addClass("app-account-settings-open"),this.fire("showedAccountSettings"))},hideAccountSettings:function(){this.$body.hasClass("app-account-settings-open")&&(this.fire("hideAccountSettings"),this.$body.removeClass("app-account-settings-open"),this.fire("hiddenAccountSettings"))},_initAccountSettings:function(){var e=this;e.$accountSettings.on("click",function(t){t.stopPropagation()}),e.$accountSettings.on("click",".app-layer-close",function(t){e.hideAccountSettings()}),e.on("clickBody",function(){e.hideAccountSettings()}),o(i.$accountSettings[0]),i.fire("initAccountSettings",e.$accountSettings)}},events:{accountInited:function(){i.getUserInfo()&&this.updateAccountBlock()},signedin:function(){this.updateAccountBlock()},load:function(){var e=this;e._initAccountSettings(),e.$btnAccountBlock.on("click",function(t){t.preventDefault(),t.stopPropagation(),i.getUserInfo()?e.showAccountSettings():e.showSignForm()}),t("#accountResetPassword").click(function(){e.resetPassword()}),t("#accountLogout").click(function(){e.logout()})},published:function(){var e=this;i.getUserInfo()||r||(r++,n.getSettings("showSignFormOnLoad",function(t){"no"!==t&&""!==t&&e.showSignForm(1)}))},showSideBarsSection:function(){this.hideAccountSettings()},sidebarClosed:function(){this.hideAccountSettings()}}})},["jQuery","mbrApp","TR()","Bridge","mbrServer"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(142),u=(o=o)&&o.__esModule?o:{default:o},l=n(23);defineM("app-fonts",function(f,h,m){var a="AIzaSyAHKXsrK2fMCl5gJJBy4N8t-_959d1zDls";function d(t,e){this.API_KEY=t,this.settingName=e,this.gFonts={},this.$iframeGoogle="",this.$iframeLocal="",this.loadQuantity=20,this._blockScroll=!1,this._lastIndex=0,this.$loader=f(h.preloaderHTML),this.fontsPath=h.projectPath+"/fonts",this.requestUrl="https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&key="+this.API_KEY,this.init=function(){var r=this;function t(t,e){h.runIframe(r.$modalFonts.find("#"+t).get(0),['<ul class="gf-list">',"</ul>"].join("\n"),{onload:e,links:["assets/bootstrap/bootstrap.min.css","assets/bootstrap-material/css/material.min.css","app/interface/app-plugin-iconfont.css","css/main.css","assets/fonts/fonts.css"]})}r.$modalFonts=h.showDialog({title:m("Fonts"),className:"google-fonts",body:['<div class="row">','   <div class="col-md-12">','       <form class="google-fonts-form">','           <div class="form-group clearfix">','               <div class="col-md-12" id="media-tabs">','                   <ul class="nav nav-tabs">',l.Bridge.isMobile?"":'                       <li>                           <button style="margin: 0 5px 0 0" class="btn btn-primary '+(h.isAMP()?"disabled":"")+'" id="browse-font">'+m("Browse Computer")+"</button>                       </li>",'                       <li class="active">','                           <a href="#1" data-toggle="tab">'+m("Google Fonts")+"</a>","                       </li>",l.Bridge.isMobile?"":'                       <li>                           <a href="#2" data-toggle="tab" id="downloaded-fonts-tab">'+m("Site Fonts")+"</a>                       </li>","                   </ul>",'                   <div class="tab-content">','                       <div class="tab-pane active" id="1">','                           <iframe id="gf-iframe" frameborder="0" width="100%" height="500px" src="about:blank"></iframe>',"                       </div>",'                       <div class="tab-pane" id="2">','                           <iframe id="lf-iframe" frameborder="0" width="100%" height="500px" src="about:blank"></iframe>',"                       </div>","                   </div>","               </div>","           </div>","       </form>","   </div>","</div>"].join("\n"),buttons:{fontsOk:{label:m("Ok"),className:"btn-primary"}},hide:function(){h.redrawStyleChanger()},cancel:function(){}}),r.$modalFonts.find(".modal-content").before(r.$loader),r.$loader.css({opacity:.8}),r.$loader.show(),r.$modalFonts.find("#browse-font").on("click",function(t){t.preventDefault(),l.Bridge.runFileDialog(m("Select font"),l.Bridge.docLocation,"Fonts file (*.eot *.woff *.ttf)",function(t){var e,n,i,o;t&&(r.$loader.show(),e=l.Bridge.splitPath(t),n=decodeURI(e.name),i=r.fontsPath+"/"+e.name,o=i+"/font."+e.ext,h.getProjectFont(n)?(r.fillCards(r.$iframeLocal,h.projectSettings.siteFonts,function(){r.$loader.hide()},!0),h.alertDlg("'"+n+"' font is already loaded!")):l.Bridge.copyLocal(t,o,function(t){t?(t=["@font-face {","   font-family: '"+n+"';","   src: url('"+t+"');","}\n"].join("\n"),l.Bridge.saveLocalFile(i+"/style.css",t,function(t){t?(h.projectSettings.siteFonts.push({css:"'"+n+"'",name:n,url:null,file:o}),r.activateFont(n)):(r.fillCards(r.$iframeLocal,h.projectSettings.siteFonts,function(){r.$loader.hide()},!0),h.alertDlg(m("Error saving style.css for $font name$").replace("$font name$","'"+n+"'")))})):(r.fillCards(r.$iframeLocal,h.projectSettings.siteFonts,function(){r.$loader.hide()},!0),h.alertDlg("Error copying file!"))}))})}),t("gf-iframe",function(){r.$iframeGoogle=r.$modalFonts.find("#gf-iframe").contents(),r.$iframeGoogle.find("body").addClass("gf-body"),r.$iframeGoogle.find("head").append('<link id="insertBefore">'),r.$iframeGoogle.find("body").prepend(['<div class="gf-form clearfix">','   <input class="form-control gf-form__input" value="" type="text" placeholder="'+m("Search by font name")+'">',"</div>"].join("\n")),r.$iframeGoogle.find(".gf-form .gf-form__input").on("keydown",function(t){var i=f(this),o=setTimeout(function(){var t=i.val().trim(),e=r.searchFonts(t),n=(r.$iframeGoogle.find("#insertBefore").nextAll().remove(),r.$iframeGoogle.find(".gf-list").replaceWith('<ul class="gf-list"></ul>'),r.$iframeGoogle.find(".gf-list"));r.$loader.show(),e.length?t?(r.$iframeGoogle.off(),r._lastIndex=0,r._blockScroll=!0,r.$loader.show(),r.fillCards(r.$iframeGoogle,e,function(){r.$loader.hide()}),r._blockScroll=!1,n.on("scroll",function(){r._blockScroll||n.height()+n.scrollTop()>n[0].scrollHeight-10&&(r._blockScroll=!0,r.$loader.show(),r.fillCards(r.$iframeGoogle,e,function(){r.$loader.hide()}),r._blockScroll=!1)})):(r._lastIndex=0,r.fillCards(r.$iframeGoogle,r.gFonts,function(){r.$loader.hide()})):(n.append('<h2 class="gf-list__error">No fonts found!</h2>'),r.$loader.hide()),clearTimeout(o)},300)}),r.getGoogleFonts(function(t,e){t?(r.$loader.hide(),h.alertDlg("Connection error!")):(r.gFonts=e,r.fillCards(r.$iframeGoogle,r.gFonts,function(){r.$loader.hide(),r.$iframeGoogle.find(".gf-list").on("scroll",function(){var t;r._blockScroll||(t=r.$iframeGoogle.find(".gf-list")).height()+t.scrollTop()>t[0].scrollHeight-10&&(r._blockScroll=!0,r.$loader.show(),r.fillCards(r.$iframeGoogle,r.gFonts,function(){r.$loader.hide()}),r._blockScroll=!1)})}))})}),t("lf-iframe",function(){r.$iframeLocal=r.$modalFonts.find("#lf-iframe").contents(),r.$iframeLocal.find("body").addClass("lf-body"),f("#downloaded-fonts-tab").on("click",function(){f(this).parent().hasClass("active")||(r.$loader.show(),r.fillCards(r.$iframeLocal,h.projectSettings.siteFonts,function(){r.$loader.hide()},!0))})})}}function t(){f("#theme-settings").find(".app-layer-font .dropdownjs").each(function(){var t=f(this).data("select"),t=f(t.data("dropdownjs-ul")),e=f(this).closest("[data-setting-name]").data("setting-name"),e=f('<button name="fontManager" class="btn  btn-primary" data-setting-name="'+e+'">'+m("More fonts")+"</button>");t.find('button[name="fontManager"]').length||(t.append(e),e.on("click",function(){new d(a,f(this).data("setting-name")).init()}))})}d.prototype.$loader=f(h.preloaderHTML),d.prototype.searchFonts=function(t){for(var e=[],n=new RegExp(t,"i"),i=0,o=this.gFonts.length;i<o;i++)0<=this.gFonts[i].family.search(n)&&e.push(this.gFonts[i]);return e},d.prototype.getGoogleFonts=function(i){l.Bridge.http(this.requestUrl,{success:function(t,e){var n;if(200===e.statusCode||200===e.code||200==e.status)try{n=JSON.parse(t).items,i(null,n)}catch(t){i(!0)}else i(!0)},error:function(){i(!0)},withCredentials:!1})},d.prototype.getFontLink=function(t){for(var e,n="https://fonts.googleapis.com/css?family="+t.family.replace(/\s/g,"+"),i="",o=0,r=t.variants.length;o<r;o++)(e=t.variants[o]).match(/\d+italic/)?e=e.replace("italic","i"):e.match("italic")?e=e.replace("italic","400i"):e.match("regular")&&(e=e.replace("regular","400")),i+=o<r-1?e+",":e;return n+=":"+i},d.prototype.activateFont=function(t){this.$modalFonts.trigger("hidden.bs.modal");var e='.app-layer-font[data-setting-name="'+this.settingName+'"] select',e=f("#theme-settings").find(e);e.val(t),e.trigger("change")},d.prototype.fillCards=function(n,i,o,t){var r=this;if(t)h.initFontsForFrame(n,function(){n.find(".gf-list").replaceWith('<ul class="gf-list"></ul>');for(var t=0,e=i.length;t<e;t++)r.appendCard(n,i[t],!0);o&&o()});else if(r._lastIndex>=r.gFonts.length)o();else{for(var e=r._lastIndex,a=r._lastIndex+r.loadQuantity;e<a&&i[e];e++)n.find("head").append('<link href="'+r.getFontLink(i[e])+'" rel="stylesheet">'),r.appendCard(n,i[e]);r._lastIndex=e,setTimeout(function(){o&&o()},1e3)}},d.prototype.appendCard=function(t,o,l){var c=this,d=l?o.name:o.family,e=h.getProjectFont(d),u=f(['<li class="gf-list__item">','   <div class="gf-card ',e?"gf-card_downloaded":"",'   ">','       <div class="gf-card__controls">','           <ul class="gf-controls">','               <li class="gf-controls__item">','                   <span class="gf-controls__button ',e?"gf-controls__button_del mbr-icon-trash":"gf-controls__button_add mbr-icon-plus",'                   "></span>',"               </li>","           </ul>","       </div>",'       <p class="gf-card__title">',"           "+d,"       </p>",'       <p class="gf-card__text">',m("The quick brown fox jumps over the lazy dog."),"       </p>","   </div>","</li>"].join("\n"));function p(t){function e(e){c.downloadFonts(e,function(t){t?h.alertDlg(m("Download font error!")):(c.$loader.show(),c.activateFont(e.family),h.fire("downloadedFont",e)),c.$loader.hide()})}if(t.preventDefault(),c.$loader.show(),o.files)e(o);else for(var n=0,i=c.gFonts.length;n<i;n++)if(o.name===c.gFonts[n].family){e(c.gFonts[n]);break}}t.find(".gf-list").append(u),u.find(".gf-card__text").css({"font-family":d}),e?u.find(".gf-controls__button").off().on("click",function(t){t.preventDefault();var s=f(this);c.$loader.show(),c.isFontInUse(d)?(h.alertDlg(m("This is the font used in the project!")),c.$loader.hide()):c.removeFont(d,function(t){if(t){if(l){u.remove();var e=c.$iframeGoogle.find(".gf-list").find('.gf-card__title:contains("'+d+'")');if(e.length)for(var n=0,i=e.length;n<i;n++){var o=f(e[n]),r=o.prev().find(".gf-controls__button"),a=r.closest(".gf-card");if(o.text().trim()===d){c.triggerFontButton(r),r.off(),a.on("click",p);break}}}else c.triggerFontButton(s),s.off(),s.closest(".gf-card").on("click",p);h.fire("deletedFont",d),h.alertDlg(m("This font has been successfully removed."))}else h.alertDlg(m("Font removal error!"));c.$loader.hide()})}):u.find(".gf-card").off().on("click",p)},d.prototype.triggerFontButton=function(t){t.hasClass("gf-controls__button_add")?t.removeClass("gf-controls__button_add mbr-icon-plus").addClass("gf-controls__button_del mbr-icon-trash").closest(".gf-card").addClass("gf-card_downloaded"):t.removeClass("gf-controls__button_del mbr-icon-trash").addClass("gf-controls__button_add mbr-icon-plus").closest(".gf-card").removeClass("gf-card_downloaded")},d.prototype.downloadFonts=function(r,e){var t,a=h.projectPath+"/fonts/"+r.family,s="",n=[],i=this;for(t in r.files)n.push({weight:t,file:r.files[t]});function o(t){h.getProjectFont(t.family)||h.projectSettings.siteFonts.push({css:"'"+t.family+"', "+t.category,name:t.family,url:i.getFontLink(t)})}n=h.applyFilter("downloadFonts",n),h.waitAllAndDo(n,function(i,o){l.Bridge.download2(i.file,function(t){var n;t?(n=a+"/"+i.weight+".ttf",l.Bridge.moveLocal(t,n,function(t){var e;t?(t=(t=i.weight.match(/([0-9]+)([a-z]+)?/))?(e=t[2]||"normal",t[1]):(e=i.weight,400),s+=["@font-face {","   font-family: '"+r.family+"';","   font-style: "+e+";","   font-weight: "+t+";","   src: url('"+n+"') format('truetype');","}\n"].join("\n"),o(s)):(o(""),0)})):(o(""),0)})},function(){s?l.Bridge.saveLocalFile(a+"/style.css",s,function(t){t?(o(r),e()):e(m("Error file saving!"))}):(o(r),e())})},d.prototype.removeFont=function(i,o){var t=h.projectPath+"/fonts/"+i;l.Bridge.removeLocal(t,function(t){if(t){var e,n=i;for(e in h.projectSettings.siteFonts)if(h.projectSettings.siteFonts[e].name===n){h.projectSettings.siteFonts.splice(e,1),o(!0);break}}else o(!1)})},d.prototype.isFontInUse=function(t){var e=h.getUsedFonts(),n=e.length;if(n)for(var i=0;i<n;i++)if(t===e[i].name)return!0;return!1},h.regExtension({name:"fonts",global:{getThemeFonts:function(){var t=[];return"object"===i(this.theme.params.theme)&&this.theme.params.theme.fonts&&(t=f.extend([],this.theme.params.theme.fonts)),this.applyFilter("getThemeFonts",t)||[]},getAccesibleFonts:function(){var i=[].concat(h.projectSettings.siteFonts||[]),o=i.length;return h.getThemeFonts().forEach(function(t){for(var e=t.name,n=0;n<o;n++)if(e==i[n].name)return;i.push(t)}),i},getFont:function(t){for(var e=this.getAccesibleFonts(),n=0;n<e.length;n++)if(e[n].name===t)return e[n];return{}},waitAllAndDo:function t(e,n,i){if(!e.length)return i();n(e.splice(0,1)[0],function(){t(e,n,i)})},getUsedFonts:function(){var i=f("#theme-settings").find(".app-layer-select select, .app-layer-font select"),o=[];if(i.length)for(var r=0,t=i.length;r<t;r++){var e=h.getProjectFont(i[r].value);!e||!function(){for(var t=i[r].value,e=0,n=o.length;e<n;e++)if(t===o[e].name)return;return 1}()||o.push(e)}return o},getProjectFont:function(t){for(var e=0,n=h.projectSettings.siteFonts.length;e<n;e++)if(t===h.projectSettings.siteFonts[e].name)return h.projectSettings.siteFonts[e];return!1},initFontsForFrame:function(t,e){t instanceof Array||(t=[t]);var i="",n=h.projectSettings.siteFonts.map(function(t){return h.projectPath+"/fonts/"+t.name+"/style.css"});h.waitAllAndDo(h.applyFilter("initFontsForFrame",n,h.projectSettings.siteFonts),function(e,n){/^http[s]?\:/.test(e)?(t.forEach(function(t){f(t).find("head").append('<link href="'+e+'" rel="stylesheet">')}),n()):l.Bridge.loadLocalFile(e,function(t){i+=t,n()})},function(){i&&t.forEach(function(t){f(t).find("#userFonts").length?f(t).find("#userFonts").text(i):f(t).find("body").append("<style id='userFonts'>"+i+"</style>")}),e&&e()})},checkProjectFonts:function(){var n,i,o,t,r=[];try{for(i in n=project.settings.theme.styling)/display\dFont/g.test(i)&&!function(){if(r.length)for(var t=0,e=r.length;t<e;t++)if(n[i]===r[t])return 1}()&&r.push(n[i])}catch(t){}function e(){h.redrawStyleChanger(),h.Core.render()}(r=h.applyFilter("checkProjectFonts",r)).length?(o=r,t=f.Deferred(),function e(n){n<o.length?function(t){for(var e=h.projectSettings.siteFonts,n=0,i=e.length;n<i;n++)if(e[n].name===t&&(e[n].url||e[n].file)&&e[n].css)return u.default.isExistsLocal(projectDir+"/fonts/"+t);return f.Deferred().resolve(!1)}(o[n]).then(function(t){var s,l,c;t?e(++n):(s=o[n],l=new d(a),c=f.Deferred(),l.getGoogleFonts(function(t,e){if(t)return c.resolve();for(var o,r,a,n=0,i=e.length;n<i;n++)if(e[n].family===s)return l.downloadFonts(e[n],function(t){c.resolve()});o=s,r=projectDir+"assets/fonts/"+encodeURI(o),a=projectDir+"fonts/"+encodeURI(o),u.default.dirList(r,{names:["*.ttf","*.eot","*.woff"],recursive:!1}).then(function(t){var e,n,i=f.Deferred();return t.length?(e=r+"/"+t[0],n=a+"/"+t[0],u.default.copyLocal(e,n).then(function(t){var e=["@font-face {","   font-family: '"+o+"';","   src: url('"+n+"');","}\n"].join("\n");t?u.default.saveLocalFile(a+"/style.css",e).then(function(){h.projectSettings.siteFonts.push({css:"'"+o+"'",name:o,url:null,file:n}),i.resolve()}).fail(function(){i.resolve()}):i.resolve()}).fail(function(){i.resolve()})):i.resolve(),i.promise()}).then(function(){c.resolve()})}),c.promise().then(function(){e(++n)}))}):t.resolve()}(0),t.promise().then(e)):e()}},events:{load:function(){h.addFilter("publishAssets",function(e,t){var n=h.projectSettings.cookiesAlert&&"3"===h.projectSettings.cookiesAlertType;return(h.getUsedFonts()||[]).forEach(function(t){e.css+='<link rel="preload" '+(n?"data-href":"href")+'="'+t.url+'&display=swap" as="style" onload="this.onload=null;this.rel=\'stylesheet\'">\n  <noscript><link rel="stylesheet" '+(n?"data-href":"href")+'="'+t.url+'&display=swap"></noscript>\n  '}),e}),h.addFilter("publishFiles",function(t,e){var n=h.getUsedFonts(),i=[];if(n.length){for(var o=0,r=n.length;o<r;o++)n[o].url||(t.push({srcList:[{src:n[o].file}],dest:"assets/fonts/"+n[o].name+"/"+l.Bridge.splitPath(n[o].file).fullname}),t.push({srcList:[{src:h.projectPath+"/fonts/"+n[o].name+"/style.css"}],dest:"assets/fonts/"+n[o].name+"/style.css"}),i.push({src:h.projectPath+"/fonts/"+n[o].name+"/style.css",filter:"template"}));i.length&&t.push({srcList:i,dest:"assets/fonts/style.css"})}return t}),h.addFilter("publishTemplating",function(t,e){var n=h.getUsedFonts();if(n.length)for(var i=0,o=n.length;i<o;i++)if(e===h.projectPath+"/fonts/"+n[i].name+"/style.css")return["@font-face {","   font-family: '"+n[i].name+"';","   src: url('"+n[i].name+"/"+l.Bridge.splitPath(n[i].file).fullname+"');","}\n"].join("\n");return t})},loadProjectCore:function(t,e){h.projectSettings.siteFonts=h.projectSettings.siteFonts||[],this.checkProjectFonts()},initSettingsSidebar:function(){t()},redrawStyleChanger:function(){this.initFontsForFrame([h.$template,h.$body]),t()}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=n(23);defineM("app-themes",function(a,s,l){var c="startm5";s.regExtension({name:"themes",global:{DEFAULT_THEME:c,DEFAULT_THEME_TITLE:"startm5",getSecondaryThemesList:function(t){var i=[];a.when(s.getAddonsEx(function(t){i.push(c);for(var e=0,n=t.length;e<n;e++)t[e].theme&&"object"==r(t[e].theme)&&"secondary"===t[e].theme.type&&i.push(t[e].name)},{type:"theme"})).then(function(){t(i)})},calcProjectTheme:function(t){var e="default",n=d.Bridge.appName;return t?(t.settings&&t.settings.theme&&(n="object"===r(t.settings.theme)?(e=t.settings.theme.name||e,t.settings.theme.title||n):(e=t.settings.theme||e,t.settings.theme||n)),{name:e,title:n}):{}},requestTheme:function(e,n){var i,o,r=a.Deferred(),t=this;return e?e==(t.theme&&t.theme.name)?r.resolve(!0):(i=e,o=(o=function(t){t?r.resolve(!1):s.alertDlg(l("This site uses the theme $theme title$ that isn't available.").replace("$theme title$","<strong>"+(n||e)+"</strong>").replace(". ",".<br>"))})||function(){},t.getAddonsEx(function(t){for(var e=0;e<t.length;e++)if(t[e].name===i)return void d.Bridge.getLocalJSON(s.getAddonDir(i)+"/params.json",o);o()},{type:"theme"})):r.reject("Wrong project"),r.promise()},loadThemeAddon:function(n,i){var o=this,r=(n||console.warn("Warning: Force default theme will be loaded"),n=n||c,s.getAddonDir(n));s.readAddon(r,function(t){function e(){o.fire("themeLoaded"),i(!!t)}n===c||t?(o.theme=o.Core.theme={},a.extend(o.theme,{name:n,path:d.Bridge.path2app(r),pathCore:s.path2core(r),pathExport:r}),o.theme.params=t||{},t?o.loadEachAddon(r,t,!1,function(t){setTimeout(e,0)}):e()):i(!1)})},getThemeButtonColors:function(){var t={"btn-default":"#e6e6e6","btn-primary":"#286090","btn-success":"#449d44","btn-info":"#31b0d5","btn-warning":"#ec971f","btn-danger":"#c9302c"};return"object"===r(this.theme.params.theme)&&this.theme.params.theme.buttonColors&&(t=this.theme.params.theme.buttonColors),this.applyFilter("getThemeButtonColors",t)},hasButtonOutlineColors:function(){return this.theme.params.theme&&this.theme.params.theme.hasButtonOutlineColors},getThemeLinkColors:function(){var t={"text-muted":"#777","text-primary":"#337ab7","text-success":"#3c763d","text-info":"#31708f","text-warning":"#8a6d3b","text-danger":"#a94442"};return"object"===r(this.theme.params.theme)&&this.theme.params.theme.linkColors&&(t=this.theme.params.theme.linkColors),this.applyFilter("getThemeLinkColors",t)},getThemeColorsSet:function(t){var e=["#7ac673","#1ABC9C","#27aae0","#2C82C9","#9365B8","#4c6972","#FFFFFF","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#475577","#EFEFEF","#F7DA64","#faaf40","#EB6B56","#E25041","#A38F84","#28324E","#CCCCCC","#FAC51C","#f97352","#D14841","#B8312F","#7C706B","#000000","#c1c1c1"];if("object"===r(this.theme.params.theme)&&this.theme.params.theme.colorsSet&&(e=this.theme.params.theme.colorsSet),e=this.applyFilter("getThemeColorsSet",e),s.projectSettings.theme.additionalSetColors&&(e=e.concat(s.projectSettings.theme.additionalSetColors)),"number"==typeof t){for(var n=[],i=0,o=[];i<e.length;i++)o.push(e[i]),i%t===t&&(n.push(o),o=[]);n.push(o),e=n}return e}},events:{load:function(){}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-bs5-support",function(t,c){var d=/(data-)(ride|target|slide|slide-to|toggle|parent|interval|dismiss)(=".+?")(?=[^<>]*>)/g,u=/data-bs-version="(\d+(\.\d+)?)"(?=[^<>]*>)/;function p(t){return(t=t&&t.match(u))?Number(t[1]):4}function f(t,e){t=t.toString(),e=e.toString();for(var n,i=/(\.0+)+$/,o=t.replace(i,"").split("."),r=e.replace(i,"").split("."),a=Math.min(o.length,r.length),s=0;s<a;s++)if(n=parseInt(o[s],10)-parseInt(r[s],10))return n;return o.length-r.length}c.on("beforeAppLoad",function(){c.Core.addFilter("loadComponentTemplate",function(t,e,n){if(!n){n=c.theme.params.theme;if(!(n.base&&"bootstrap"===n.base.name&&4<n.base.version)||e.alias||"secondary"!==c.theme.type||c.isAMP())return t;n=e._customHTML||t;f(p(n),5.1)&&(r=e,0<=f(p(o=n),5)||o&&(o=(o=o.replace(d,function(t,e,n,i){return t+" "+e+"bs-"+n+i})).replace(/sr-only(?=[^<>]*>)/g,"sr-only visually-hidden"),a=r._styles,s=".active.carousel-item-right, .carousel-item-next",l=".active.carousel-item-left, .carousel-item-prev",r._name.toLowerCase().includes("slider")&&(a[s]&&a[l]&&(delete r._styles[s],delete r._styles[l]),delete r._styles[".mbr-overlay"]),o=(o=1<(o.match(/form-group(?=[^<>]*>)/g)||[]).length?o.replace(/form-group(?=[^<>]*>)/g,"form-group mb-3"):o).replace(/form-row(?=[^<>]*>)/g,"row")),n=a=0<=f(p(a=n=n=o),5.1)?a:a.replace(/data-bs-toggle="dropdown-submenu"/g,'data-bs-toggle="dropdown"'),i=5.1,n=s=(s=n=a)&&(u.test(s)?s.replace(u,function(){return'data-bs-version="'+i+'"'}):s.replace(/<section/,'<section data-bs-version="'+i+'"')),e._customHTML?e._customHTML=n:t=n)}var i,o,r,a,s,l;return t})}),c.regExtension({name:"bs5-support",events:{loadedComponent:function(t,e,n,i){var o,r,a=c.theme.params.theme;a.base&&"bootstrap"===a.base.name&&4<a.base.version&&t._plugins&&(o=["BootstrapCarouselSwipe","mbr-testimonials-slider","mbr-gradient-svg","mbr-flip-card","TouchSwipe"],(r=t._plugins.split(/,\s?/g)).forEach(function(e,n){o.forEach(function(t){e.toLowerCase()===t.toLocaleLowerCase()&&r.splice(n,1)})}),t._plugins=r.join(","))}}})},["jQuery","mbrApp"])},function(t,e,n){"use strict";defineM("app-settings",function(o,r,e,a){var n=void 0;function i(t){t="false"!==t&&!1!==t;!0==(r.appSettings.showPageSiteNames=t)?o(".navbar-nav .navbar-project-info").show():o(".navbar-nav .navbar-project-info").hide()}function s(t){"true"===(r.appSettings.showAllViews=t)?(r.$navbarDevices.find("> li").show(),r.$navbarDevices.find("> li.active").siblings().removeClass("active")):(r.$navbarDevices.find("> li").hide(),(r.$navbarDevices.find('> [data-device="phone"]').hasClass("active")?r.$navbarDevices.find('> [data-device="desktop"]'):r.$navbarDevices.find('> [data-device="phone"]')).show())}function l(t){r.appSettings.showAllBlockButtons=r.applyFilter("showAllBlockButtons",t)}var c="mobirise";function d(t){t&&(c=t,r.$body.hasClass("app-component-code-editor-open")&&(r.$codeEditorHTML.codemirror.setOption("theme",c),r.$codeEditorCSS.codemirror.setOption("theme",c)),r.$body.hasClass("app-site-code-editor-open"))&&(r.$codeEditorStaticCSS.codemirror.setOption("theme",c),r.$codeEditorDynamicCSS.codemirror.setOption("theme",c),r.$codeEditorParamsJSON.codemirror.setOption("theme",c))}function u(t){r.$codeEditor&&(r.appSettings.removeMobiriseReferences="true"===t||""===t)}function p(t){r.appSettings.showCodeEditorUndo="true"===t,r.$codeEditor&&(r.appSettings.showCodeEditorUndo?(r.$codeEditor.find(".code-editor-undo").show(),r.$codeEditor.find(".code-editor-redo").show()):(r.$codeEditor.find(".code-editor-undo").hide(),r.$codeEditor.find(".code-editor-redo").hide())),r.$siteCodeEditor&&(r.appSettings.showCodeEditorUndo?(r.$siteCodeEditor.find(".code-editor-undo").show(),r.$siteCodeEditor.find(".code-editor-redo").show()):(r.$siteCodeEditor.find(".code-editor-undo").hide(),r.$siteCodeEditor.find(".code-editor-redo").hide()))}function f(t){"true"===(r.appSettings.showSiteStylesBtn=t)?"secondary"===r.theme.type&&r.$themeToggleBtn.css("visibility","visible"):"secondary"===r.theme.type&&r.$themeToggleBtn.css("visibility","hidden")}function h(t){t="true"===t||!0===t;!0==(r.appSettings.darkMode=t)?(r.$body.addClass("dark-mode"),r.Core.$body.addClass("dark-mode")):(r.$body.removeClass("dark-mode"),r.Core.$body.removeClass("dark-mode"))}function m(t){t="true"===t||!0===t;!0==(r.appSettings.fullscreenCanvas=t)?r.Core.$body.removeClass("rounded-canvas"):r.Core.$body.addClass("rounded-canvas")}r.regExtension({name:"app-settings",global:{appSettings:{},showAppSettings:function(){r.showDialog({title:e("App Settings"),className:"app-settings-dialog",body:'<div class="row"><div class="col-md-12"><div><label class="col-md-3">'+e("Top Toolbar")+'</label><div class="col-md-9"><br><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-page-site-names.jpg"><input name="show-page-site-names" type="checkbox"'+(!0===r.appSettings.showPageSiteNames?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Show Page & Site Names")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-all-views.jpg"><input name="show-all-views" type="checkbox"'+("true"===r.appSettings.showAllViews?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Show All Views")+'</label></div></div></div></div></div><div><label class="col-md-3">'+e("APP")+'</label><div class="col-md-9"><br><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/dark-mode.jpg"><input name="app-setting-dark-mode" type="checkbox"'+(!0===r.appSettings.darkMode?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Dark Mode")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/fullscreen-canvas.jpg"><input name="app-setting-fullscreen-canvas" type="checkbox"'+(!0===r.appSettings.fullscreenCanvas?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Fullscreen Canvas")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-block-panel.jpg"><input name="show-all-block-buttons" type="checkbox"'+("true"===r.appSettings.showAllBlockButtons?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Show All Block Buttons")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-site-styles-button.jpg"><input name="show-site-styles-btn" type="checkbox"'+("true"===r.appSettings.showSiteStylesBtn?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Show Site Styles Button")+"</label></div></div></div></div></div>"+r.applyFilter("addAppSettingsItem","")+"</div></div>",success:function(t){a.setSettings("appSettings/showPageSiteNames",t.find('[name="show-page-site-names"]').prop("checked"),function(t){t&&a.getSettings("appSettings/showPageSiteNames",function(t){i(t)})}),a.setSettings("appSettings/showAllViews",t.find('[name="show-all-views"]').prop("checked"),function(t){t&&a.getSettings("appSettings/showAllViews",function(t){s(t)})}),a.setSettings("appSettings/showAllBlockButtons",t.find('[name="show-all-block-buttons"]').prop("checked"),function(t){t&&a.getSettings("appSettings/showAllBlockButtons",function(t){r.appSettings.showAllBlockButtons!==t&&(l(t),"true"===t?(r.$template.find(".app-component .app-component-edit").children().removeClass("hidden-interface"),r.$template.find(".app-component .component-show-more").hide()):a.setSettings("appSettings/showAllBlockButtonsTEMP","false",function(t){r.$template.find(".app-component-edit").css("width","").children(":not(.component-params, .component-show-more)").addClass("hidden-interface"),r.$template.find(".app-component .component-show-more").show()}))})}),t.find('[name="show-code-editor-undo"]').length&&a.setSettings("appSettings/showCodeEditorUndo",t.find('[name="show-code-editor-undo"]').prop("checked"),function(t){t&&a.getSettings("appSettings/showCodeEditorUndo",function(t){r.appSettings.showCodeEditorUndo!==t&&p(t)})}),t.find('[name="theme"]').length&&a.setSettings("appSettings/codeEditorTheme",t.find('[name="theme"]').val(),function(t){t&&a.getSettings("appSettings/codeEditorTheme",function(t){d(t)})}),t.find('[name="remove-mobirise-references"]').length&&a.setSettings("appSettings/removeMobiriseReferences",t.find('[name="remove-mobirise-references"]').prop("checked"),function(t){t&&a.getSettings("appSettings/removeMobiriseReferences",function(t){u(t)})}),a.setSettings("appSettings/showSiteStylesBtn",t.find('[name="show-site-styles-btn"]').prop("checked"),function(t){t&&a.getSettings("appSettings/showSiteStylesBtn",function(t){f(t)})});var e=t.find('[name="app-setting-dark-mode"]').prop("checked"),e=(a.setSettings("appSettings/darkMode",e),h(e),t.find('[name="app-setting-fullscreen-canvas"]').prop("checked"));a.setSettings("appSettings/fullscreenCanvas",e),m(e),r.fire("applyAppSettings",t)},show:function(t){r.fire("showAppSettings",t)}}),r.initTooltips()},getSettings:function(t){return $Bridge.getSettings(t)},setSettings:function(t,e){return $Bridge.setSettings(t,e)}},events:{bridgeInit:function(){a.getSettings("appSettings/darkMode",function(t){"true"===(n=t)&&o(".preloader-logo, .preloader-logo .svg-el, .preloader-logo .svg-el .mbr-overlay").css({"background-color":"#373c48",transition:"background-color 1.5s ease"})})},load:function(){o("#app-settings-btn").click(function(){r.showAppSettings()}),o("#app-settings-redeem").click(function(){r.checkSign(function(t){t&&r.showRedeem(a.reload)})}),n?h(n):a.getSettings("appSettings/darkMode",function(t){h(t)}),a.getSettings("appSettings/fullscreenCanvas",function(t){m(t)}),a.getSettings("appSettings/showPageSiteNames",function(t){i(t)}),a.getSettings("appSettings/showAllViews",function(t){s(t)}),a.getSettings("appSettings/showAllBlockButtons",function(t){l(t)}),r.$template.on("click",".app-component .component-show-more",function(){r.$template.find(".app-component .app-component-edit").each(function(t,e){var e=o(e),n=e.find("> .mbr-btn"),i=n.first().outerWidth(!0)*(n.length-1)+5;e.animate({width:i},300,"swing",function(){n.removeClass("hidden-interface")})}),r.$template.find(".app-component .component-show-more").hide(),a.setSettings("appSettings/showAllBlockButtonsTEMP","true",function(t){t||console.warn("Unabale to save appSettings/showAllBlockButtonsTEMP")})}),r.Core.on("loadedComponent",function(t,e,n,i){var o=n.find("[data-app-component-id="+t._id+"] > .app-component-menu");"true"===r.appSettings.showAllBlockButtons?o.find(".component-show-more").hide():a.getSettings("appSettings/showAllBlockButtonsTEMP",function(t){"true"===t?o.find(".component-show-more").hide():o.find(".app-component-edit").children(":not(.component-params, .component-show-more)").addClass("hidden-interface")})}),a.regQuitTask(function(t){a.setSettings("appSettings/showAllBlockButtonsTEMP","false",t)})},loaded:function(){a.getSettings("appSettings/showCodeEditorUndo",function(t){p(t)}),a.getSettings("appSettings/codeEditorTheme",function(t){d(t)}),a.getSettings("appSettings/removeMobiriseReferences",function(t){u(t)})},showCodeEditor:function(){r.$codeEditorHTML.codemirror.setOption("theme",c),r.$codeEditorCSS.codemirror.setOption("theme",c)},showSiteCodeEditor:function(){r.$codeEditorStaticCSS.codemirror.setOption("theme",c),r.$codeEditorDynamicCSS.codemirror.setOption("theme",c),r.$codeEditorParamsJSON.codemirror.setOption("theme",c)},showAppSettings:function(t){t.find('[name="theme"]').val(c).trigger("change")},initAccountSettings:function(t){t.find(".app-layer-title").after('<div class="hover-block" id="app-settings-btn"><label>'+e("App Settings")+'</label></div><div class="hover-block" id="app-settings-redeem"><label>'+e("Redeem")+"</label></div>")},loadedProject:function(){a.getSettings("appSettings/showSiteStylesBtn",function(t){f(t)})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";window.mbrScript=function(){function e(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}function s(t){return"string"==typeof t?"'"+t.replace(n,e)+"'":"number"==typeof t?t.toString():!0===t?"true":!1===t?"false":null===t?"null":"undefined"}var n=/[^ a-zA-Z0-9]/g;function i(t,e,n){this.name="mbrScriptError",this.message=t,Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack,this.line=e,this.token=n}function o(t){o.parser.yy.parseError||(o.parser.yy.parseError=function(t,e){throw new i("Parse error: Unexpected '"+(e.text||e.token)+"'",e.line,e.text||e.token)});t=o.parser.parse(t);return"RepeatStatement"==t.type?new c(t.key,t.value,new a(t.expression)):new a(t)}(i.prototype=Object.create(Error.prototype)).constructor=i,o.filters={},o.filter=function(t,e){return o.filters[t]=e(),this};t.prototype.plus=function(t,e){return void 0===t?e:void 0===e?t:t+e},t.prototype.filter=function(t){var e=Array.prototype.slice.call(arguments,1);if(o.filters[t])return o.filters[t].apply(null,e);throw new Error('Filter "'+t+'" not defined.')},t.prototype.call=function(t){var e=Array.prototype.slice.call(arguments,1);if("function"==typeof t)return t.apply(this.scopes[0],e)},t.prototype.get=function(t){for(var e=Array.prototype.slice.call(arguments,1);;){var n=e.shift();if(void 0===n)break;if(null==t)break;t=t[n]}return t},t.prototype.getProp=function(t){for(var e=0;e<this.scopes.length;e++)if(void 0!==this.scopes[e][t])return this.scopes[e][t]};var r=t;function t(t){this.scopes=t}l.prototype.createFunction=function(t){var e=new r(Array.prototype.slice.call(arguments));return new Function("","var result = ("+this.code+'); if (result === undefined || result === null) return ""; return result;').bind(e)},l.prototype.getDependencies=function(){return this._dependencies.slice()},l.prototype._getCode=function(t,e){var i="",e=e||[];switch(t.type){case"ArrayExpression":i+="[",t.elements.map(function(t,e){i+=e?", ":"",t&&(i+=this._getCode(t))},this),i+="]";break;case"ObjectExpression":i+="{",t.properties.map(function(t,e){var n="Identifier"==t.key.type?t.key.name:this._getCode(t.key);i+=(e?", ":"")+n+":"+this._getCode(t.value)},this),i+="}";break;case"UnaryExpression":i+=t.operator+this._getCode(t.argument);break;case"BinaryExpression":case"LogicalExpression":"+"==t.operator?i+="this.plus("+this._getCode(t.left)+", "+this._getCode(t.right)+")":i+="("+this._getCode(t.left)+" "+t.operator+" "+this._getCode(t.right)+")";break;case"ConditionalExpression":i=(i=(i=(i+="(")+(this._getCode(t.test)+" ? "))+(this._getCode(t.consequent)+" : "))+this._getCode(t.alternate)+")";break;case"FilterExpression":i+="this.filter("+s(t.name),[t.expression].concat(t.arguments).map(function(t){i+=", "+this._getCode(t)},this),i+=")";break;case"CallExpression":i+="this.call("+this._getCode(t.callee),t.arguments.map(function(t){i+=", "+this._getCode(t)},this),i+=")";break;case"MemberExpression":var n=t.object;if("Identifier"==n.type||"Literal"==n.type){i+="this.get("+this._getCode(n,[]);for(var o=[t],r=e.length-1;0<=r;r--)o.push(e[r]);var a=n.name;o.map(function(t){i+=", "+s(t.property.name),a+="."+t.property.name},this),"Identifier"==n.type&&this._dependencies.push(a),i+=")"}else i+=this._getCode(n,e.concat(t));break;case"Identifier":i+="this.getProp("+s(t.name)+")",arguments.length<2&&this._dependencies.push(t.name);break;case"Literal":i+=s(t.value)}return i};var a=l;function l(t){this._dependencies=[],this.type="expression",this.code=this._getCode(t)}function c(t,e,n){this.key=t,this.type="repeat",this.value=e,this.expression=n}return o.Error=i,o.Context=r,o.Expression=a,o.RepeatStatement=c,o}()},function(t,e,n){"use strict";window.mbrScript=window.mbrScript||{},mbrScript.parser=function(){function t(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n}var e=[1,5],n=[1,6],i=[1,35],o=[1,29],r=[1,18],a=[1,19],s=[1,20],l=[1,21],c=[1,36],d=[1,37],u=[1,38],p=[1,39],f=[1,40],h=[1,41],m=[5,13,15,18,20],I=[1,43],M=[2,4],B=[1,44],N=[5,13,15,18,20,64],g=[5,13,15,18,20,24,64],R=[1,48],U=[5,13,15,18,20,24,60,62,64],H=[1,49],z=[5,13,15,18,20,24,58,60,62,64],W=[1,50],q=[1,51],V=[1,52],G=[1,53],v=[5,13,15,18,20,24,53,54,55,56,58,60,62,64],b=[1,54],y=[1,55],w=[1,56],x=[1,57],_=[5,13,15,18,20,24,48,49,50,51,53,54,55,56,58,60,62,64],k=[1,58],S=[1,59],J=[5,13,15,18,20,24,38,39,48,49,50,51,53,54,55,56,58,60,62,64],Y=[1,60],K=[1,61],X=[1,62],C=[5,13,15,18,20,24,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],P=[1,64],T=[1,65],j=[1,71],E=[5,12,13,15,18,20,24,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],Q=[1,81],Z=[1,83],tt=[1,86],et=[1,87],nt=[1,84],it=[1,85],ot=[1,91],rt=[18,20],at=[1,122],st=[9,12,14,15,18,19,38,39,40,41,71,72,73,74,75,76],lt=[15,18],ct=[13,18],A={trace:function(){},yy:{},symbols_:{error:2,Program:3,Expression:4,EOF:5,PrimaryExpression:6,PrimaryExpressionNoBrace:7,ObjectLiteral:8,IDENTIFIER:9,Literal:10,ArrayLiteral:11,"(":12,")":13,"[":14,"]":15,Elision:16,ElementList:17,",":18,"{":19,"}":20,PropertyNameAndValueList:21,PropertyAssignment:22,PropertyName:23,":":24,IdentifierName:25,StringLiteral:26,NumericLiteral:27,MemberExpression:28,".":29,CallExpression:30,Arguments:31,ReservedWord:32,ArgumentList:33,LeftHandSideExpression:34,PostfixExpression:35,UnaryExpression:36,UnaryExpr:37,"+":38,"-":39,"~":40,"!":41,MultiplicativeExpression:42,"*":43,"/":44,"%":45,AdditiveExpression:46,RelationalExpression:47,"<":48,">":49,"<=":50,">=":51,EqualityExpression:52,"==":53,"!=":54,"===":55,"!==":56,LogicalANDExpression:57,"&&":58,LogicalORExpression:59,"||":60,ConditionalExpression:61,"?":62,FilterExpression:63,"|":64,FilterArguments:65,IterationStatement:66,IN:67,NullLiteral:68,UndefinedLiteral:69,BooleanLiteral:70,NULL:71,UNDEFINED:72,TRUE:73,FALSE:74,NUMERIC_LITERAL:75,STRING_LITERAL:76,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"IDENTIFIER",12:"(",13:")",14:"[",15:"]",18:",",19:"{",20:"}",24:":",29:".",38:"+",39:"-",40:"~",41:"!",43:"*",44:"/",45:"%",48:"<",49:">",50:"<=",51:">=",53:"==",54:"!=",55:"===",56:"!==",58:"&&",60:"||",62:"?",64:"|",67:"IN",71:"NULL",72:"UNDEFINED",73:"TRUE",74:"FALSE",75:"NUMERIC_LITERAL",76:"STRING_LITERAL"},productions_:[0,[3,2],[6,1],[6,1],[7,1],[7,1],[7,1],[7,3],[11,2],[11,3],[11,3],[11,4],[11,5],[17,1],[17,2],[17,3],[17,4],[16,1],[16,2],[8,2],[8,3],[21,1],[21,3],[22,3],[23,1],[23,1],[23,1],[28,1],[28,3],[30,2],[30,2],[30,3],[25,1],[25,1],[31,2],[31,3],[33,1],[33,3],[34,1],[34,1],[35,1],[36,1],[36,1],[37,2],[37,2],[37,2],[37,2],[42,1],[42,3],[42,3],[42,3],[46,1],[46,3],[46,3],[47,1],[47,3],[47,3],[47,3],[47,3],[52,1],[52,3],[52,3],[52,3],[52,3],[57,1],[57,3],[59,1],[59,3],[61,1],[61,5],[63,1],[63,3],[63,4],[65,2],[65,3],[66,1],[66,3],[66,7],[4,1],[10,1],[10,1],[10,1],[10,1],[10,1],[68,1],[69,1],[70,1],[70,1],[27,1],[26,1],[32,1],[32,1],[32,1],[32,1],[32,1]],performAction:function(t,e,n,i,o,r,a){var s,l=r.length-1;switch(o){case 1:return this.$;case 4:case 32:case 33:this.$=new bt(r[l],L(null,a[l],a[l]));break;case 7:case 35:this.$=r[l-1];break;case 8:this.$=new O([],L(null,a[l-1],a[l]));break;case 9:case 10:this.$=new O(r[l-1],L(null,a[l-2],a[l]));break;case 11:this.$=new O(r[l-2].concat(null),L(null,a[l-3],a[l]));break;case 12:this.$=new O(r[l-3].concat(r[l-1]),L(null,a[l-4],a[l]));break;case 13:case 21:case 36:case 73:this.$=[r[l]];break;case 14:this.$=r[l-1].slice(1).concat(r[l]);break;case 15:case 22:case 37:case 74:this.$=r[l-2].concat(r[l]);break;case 16:this.$=r[l-3].concat(r[l-1].slice(1)).concat(r[l]);break;case 17:this.$=[null,null];break;case 18:this.$=r[l-1].concat(null);break;case 19:this.$=new pt([],L(null,a[l-1],a[l]));break;case 20:this.$=new pt(r[l-1],L(null,a[l-2],a[l]));break;case 23:this.$={key:r[l-2],value:r[l]};break;case 28:case 31:this.$=new vt(r[l-2],r[l],L(null,a[l-2],a[l]));break;case 29:case 30:this.$=new gt(r[l-1],r[l],L(null,a[l-1],a[l]));break;case 34:this.$=[];break;case 43:this.$=new $("+",!0,r[l],L(null,a[l-1],a[l]));break;case 44:this.$=new $("-",!0,r[l],L(null,a[l-1],a[l]));break;case 45:this.$=new $("~",!0,r[l],L(null,a[l-1],a[l]));break;case 46:this.$=new $("!",!0,r[l],L(null,a[l-1],a[l]));break;case 48:this.$=new D("*",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 49:this.$=new D("/",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 50:this.$=new D("%",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 52:this.$=new D("+",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 53:this.$=new D("-",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 55:this.$=new D("<",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 56:this.$=new D(">",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 57:this.$=new D("<=",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 58:this.$=new D(">=",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 60:this.$=new D("==",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 61:this.$=new D("!=",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 62:this.$=new D("===",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 63:this.$=new D("!==",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 65:this.$=new ft("&&",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 67:this.$=new ft("||",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 69:this.$=new ht(r[l-4],r[l-2],r[l],L(null,a[l-4],a[l]));break;case 71:this.$=new mt(r[l-2],r[l],[],L(null,a[l-2],a[l]));break;case 72:this.$=new mt(r[l-3],r[l-1],r[l],L(null,a[l-3],a[l]));break;case 76:this.$=new ut(null,r[l-2],r[l],L(null,a[l-2],a[l]));break;case 77:this.$=new ut(r[l-5],r[l-3],r[l],L(null,a[l-6],a[l]));break;case 84:this.$=new F(null,L(null,a[l],a[l]));break;case 85:this.$=new F(void 0,L(null,a[l],a[l]));break;case 86:this.$=new F(!0,L(null,a[l],a[l]));break;case 87:this.$=new F(!1,L(null,a[l],a[l]));break;case 88:this.$=new F("0"===(s=r[l]).charAt(0)?"x"===s.charAt(1).toLowerCase()?parseInt(s,16):"."===s.charAt(1)?Number(s):parseInt(s,8):Number(s),L(null,a[l],a[l]));break;case 89:this.$=new F(r[l].slice(1,-1),L(null,a[l],a[l]))}},table:[{3:1,4:2,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{1:[3]},{5:[1,42]},t(m,[2,78]),t(m,[2,75],{64:I}),t([5,12,13,15,18,20,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],M,{67:B}),{4:46,6:24,7:25,8:26,9:[1,45],10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(N,[2,70]),t(g,[2,68],{60:R,62:[1,47]}),t(U,[2,66],{58:H}),t(z,[2,64],{53:W,54:q,55:V,56:G}),t(v,[2,59],{48:b,49:y,50:w,51:x}),t(_,[2,54],{38:k,39:S}),t(J,[2,51],{43:Y,44:K,45:X}),t(C,[2,47]),t(C,[2,41]),t(C,[2,42]),t(C,[2,40]),{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:63,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:66,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:67,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:68,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(C,[2,38],{31:70,12:j,29:[1,69]}),t(C,[2,39],{31:72,12:j,29:[1,73]}),t(E,[2,27]),t(E,[2,2]),t(E,[2,3]),t(E,[2,5]),t(E,[2,6]),{9:Q,20:[1,74],21:75,22:76,23:77,25:78,26:79,27:80,32:82,67:Z,71:tt,72:et,73:nt,74:it,75:f,76:h},t(E,[2,79]),t(E,[2,80]),t(E,[2,81]),t(E,[2,82]),t(E,[2,83]),{4:92,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,88],16:89,17:90,18:ot,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(E,[2,84]),t(E,[2,85]),t(E,[2,86]),t(E,[2,87]),t(E,[2,88]),t(E,[2,89]),{1:[2,1]},{9:[1,93]},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:94,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t([12,13,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],M,{18:[1,95],67:B}),{13:[1,96]},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:97,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:98,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:99,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:100,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:101,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:102,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:103,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:104,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:105,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:106,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:107,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:108,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:109,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:110,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:111,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:112,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(C,[2,43]),t(E,M),{4:46,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(C,[2,44]),t(C,[2,45]),t(C,[2,46]),{9:Q,25:113,32:82,67:Z,71:tt,72:et,73:nt,74:it},t(E,[2,29]),{4:116,6:24,7:25,8:26,9:e,10:27,11:28,12:n,13:[1,114],14:i,19:o,26:34,27:33,28:22,30:23,33:115,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(E,[2,30]),{9:Q,25:117,32:82,67:Z,71:tt,72:et,73:nt,74:it},t(E,[2,19]),{18:[1,119],20:[1,118]},t(rt,[2,21]),{24:[1,120]},{24:[2,24]},{24:[2,25]},{24:[2,26]},t(E,[2,32]),t(E,[2,33]),t(E,[2,90]),t(E,[2,91]),t(E,[2,92]),t(E,[2,93]),t(E,[2,94]),t(E,[2,8]),{4:123,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,121],18:at,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{15:[1,124],18:[1,125]},t(st,[2,17]),t(lt,[2,13]),t(N,[2,71],{65:126,24:[1,127]}),t(m,[2,76],{64:I}),{9:[1,128]},t(E,[2,7]),{24:[1,129]},t(U,[2,67],{58:H}),t(z,[2,65],{53:W,54:q,55:V,56:G}),t(v,[2,60],{48:b,49:y,50:w,51:x}),t(v,[2,61],{48:b,49:y,50:w,51:x}),t(v,[2,62],{48:b,49:y,50:w,51:x}),t(v,[2,63],{48:b,49:y,50:w,51:x}),t(_,[2,55],{38:k,39:S}),t(_,[2,56],{38:k,39:S}),t(_,[2,57],{38:k,39:S}),t(_,[2,58],{38:k,39:S}),t(J,[2,52],{43:Y,44:K,45:X}),t(J,[2,53],{43:Y,44:K,45:X}),t(C,[2,48]),t(C,[2,49]),t(C,[2,50]),t(E,[2,28]),t(E,[2,34]),{13:[1,130],18:[1,131]},t(ct,[2,36]),t(E,[2,31]),t(E,[2,20]),{9:Q,22:132,23:77,25:78,26:79,27:80,32:82,67:Z,71:tt,72:et,73:nt,74:it,75:f,76:h},{4:133,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(E,[2,9]),t(st,[2,18]),t(lt,[2,14]),t(E,[2,10]),{4:136,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,134],16:135,18:ot,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(N,[2,72],{24:[1,137]}),{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:138,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{13:[1,139]},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:140,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(E,[2,35]),{4:141,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(rt,[2,22]),t(rt,[2,23]),t(E,[2,11]),{4:143,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,142],18:at,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(lt,[2,15]),{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:144,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(g,[2,73],{60:R}),{67:[1,145]},t(g,[2,69]),t(ct,[2,37]),t(E,[2,12]),t(lt,[2,16]),t(g,[2,74],{60:R}),{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:146,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(m,[2,77],{64:I})],defaultActions:{42:[2,1],78:[2,24],79:[2,25],80:[2,26]},parseError:function(t,e){var n;if(!e.recoverable)throw(n=function(t,e){this.message=t,this.hash=e}).prototype=Error,new n(t,e);this.trace(t)},parse:function(t){var e,n=this,i=[0],o=[null],r=[],a=this.table,s="",l=0,c=0,d=0,u=1,p=r.slice.call(arguments,1),f=Object.create(this.lexer),h={yy:{}};for(e in this.yy)Object.prototype.hasOwnProperty.call(this.yy,e)&&(h.yy[e]=this.yy[e]);f.setInput(t,h.yy),h.yy.lexer=f,h.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc,g=(r.push(m),f.options&&f.options.ranges);"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,b,y,w,x,_,k,S=function(){var t=f.lex()||u;return t="number"!=typeof t?n.symbols_[t]||t:t},C={};;){if(y=i[i.length-1],void 0===(w=this.defaultActions[y]||(null==v&&(v=S()),a[y]&&a[y][v]))||!w.length||!w[0]){var P="",T=[];for(x in a[y])this.terminals_[x]&&2<x&&T.push("'"+this.terminals_[x]+"'");P=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==u?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(P,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:m,expected:T})}if(w[0]instanceof Array&&1<w.length)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+v);switch(w[0]){case 1:i.push(v),o.push(f.yytext),r.push(f.yylloc),i.push(w[1]),v=null,b?(v=b,b=null):(c=f.yyleng,s=f.yytext,l=f.yylineno,m=f.yylloc,0<d&&d--);break;case 2:if(_=this.productions_[w[1]][1],C.$=o[o.length-_],C._$={first_line:r[r.length-(_||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(_||1)].first_column,last_column:r[r.length-1].last_column},g&&(C._$.range=[r[r.length-(_||1)].range[0],r[r.length-1].range[1]]),void 0!==(k=this.performAction.apply(C,[s,c,l,h.yy,w[1],o,r].concat(p))))return k;_&&(i=i.slice(0,-1*_*2),o=o.slice(0,-1*_),r=r.slice(0,-1*_)),i.push(this.productions_[w[1]][0]),o.push(C.$),r.push(C._$),k=a[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0}};function L(t,e,n){return new yt(t,new wt(e.first_line,e.first_column),new wt(n.last_line,n.last_column))}var dt=A.parse;function ut(t,e,n,i){this.type="RepeatStatement",this.key=t,this.value=e,this.expression=n,this.loc=i}function O(t,e){this.type="ArrayExpression",this.elements=t,this.loc=e}function pt(t,e){this.type="ObjectExpression",this.properties=t,this.loc=e}function $(t,e,n,i){this.type="UnaryExpression",this.operator=t,this.prefix=e,this.argument=n,this.loc=i}function D(t,e,n,i){this.type="BinaryExpression",this.operator=t,this.left=e,this.right=n,this.loc=i}function ft(t,e,n,i){this.type="LogicalExpression",this.operator=t,this.left=e,this.right=n,this.loc=i}function ht(t,e,n,i){this.type="ConditionalExpression",this.test=t,this.consequent=e,this.alternate=n,this.loc=i}function mt(t,e,n,i){this.type="FilterExpression",this.expression=t,this.name=e,this.arguments=n,this.loc=i}function gt(t,e,n){this.type="CallExpression",this.callee=t,this.arguments=e,this.loc=n}function vt(t,e,n){if("Literal"==t.type&&(void 0===t.value||null===t.value))throw new TypeError(t.value+" has no properties",null,t.loc.start.line);this.type="MemberExpression",this.object=t,this.property=e,this.loc=n}function bt(t,e){this.type="Identifier",this.name=t,this.loc=e}function F(t,e){this.type="Literal",this.value=t,this.loc=e}function yt(t,e,n){this.source=t,this.start=e,this.end=n}function wt(t,e){this.line=t,this.column=e}A.parse=function(t,e){return A.wasNewLine=!1,A.newLine=!1,dt.call(this,t)},A.parseError=function(t,e){throw new SyntaxError(t)},A.ast={},A.ast.RepeatStatementNode=ut,A.ast.ArrayExpressionNode=O,A.ast.ObjectExpressionNode=pt,A.ast.UnaryExpressionNode=$,A.ast.BinaryExpressionNode=D,A.ast.LogicalExpressionNode=ft,A.ast.ConditionalExpressionNode=ht,A.ast.FilterExpressionNode=mt,A.ast.CallExpressionNode=gt,A.ast.MemberExpressionNode=vt,A.ast.IdentifierNode=bt,A.ast.LiteralNode=F;xt=(j={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g),t=(this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e,this.match.split(/(?:\r\n?|\n)/g)),i=(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1),this.yylloc.range);return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===t.length?this.yylloc.first_column:0)+t[t.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)&&(i.yylloc.range=this.yylloc.range.slice(0)),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack)for(var o in i)this[o]=i[o];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var t,e,n,i,o=this._currentRules(),r=0;r<o.length;r++)if((n=this._input.match(this.rules[o[r]]))&&(!e||n[0].length>e[0].length))if(e=n,i=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,o[r])))return t;if(!this._backtrack)return!1;e=!1}else if(!this.options.flex)break;return e?!1!==(t=this.test_match(e,o[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL).rules},topState:function(t){return 0<=(t=this.conditionStack.length-1-Math.abs(t||0))?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(t,e,n,i){switch(n){case 0:case 1:case 2:e.yytext.match(/\r|\n/)&&(A.newLine=!0);break;case 3:return"STRING_LITERAL";case 4:return"IN";case 5:return"TRUE";case 6:return"FALSE";case 7:return"NULL";case 8:return"UNDEFINED";case 9:return"IDENTIFIER";case 10:case 11:case 12:return"NUMERIC_LITERAL";case 13:return"{";case 14:return"}";case 15:return"(";case 16:return")";case 17:return"[";case 18:return"]";case 19:return".";case 20:return";";case 21:return",";case 22:return"?";case 23:return":";case 24:return"===";case 25:return"==";case 26:return"!==";case 27:return"!=";case 28:return"!";case 29:return"<=";case 30:return"<";case 31:return">=";case 32:return">";case 33:return"+";case 34:return"-";case 35:return"*";case 36:return"/";case 37:return"%";case 38:return"&&";case 39:return"||";case 40:return"|";case 41:return"~";case 42:return"EOF";case 43:return"ERROR";case 44:console.log(e.yytext)}},rules:[/^(?:\s+)/,/^(?:\/\*(.|\r|\n)*?\*\/)/,/^(?:\/\/.*($|\r\n|\r|\n))/,/^(?:(("(([^\"\\]+)|(\\((([\'\"\\bfnrtv])|([^\'\"\\bfnrtv0-9xu]))|((?:[1-7][0-7]{0,2}|[0-7]{2,3}))|([x]([0-9a-fA-F]){2})|([u]([0-9a-fA-F]){4})))|(\\(\r\n|\r|\n)))*")|('(([^\'\\]+)|(\\((([\'\"\\bfnrtv])|([^\'\"\\bfnrtv0-9xu]))|((?:[1-7][0-7]{0,2}|[0-7]{2,3}))|([x]([0-9a-fA-F]){2})|([u]([0-9a-fA-F]){4})))|(\\(\r\n|\r|\n)))*')))/,/^(?:in)/,/^(?:true)/,/^(?:false)/,/^(?:null)/,/^(?:undefined)/,/^(?:(([$_a-zA-Z]|(\\[u]([0-9a-fA-F]){4}))(([$_a-zA-Z]|(\\[u]([0-9a-fA-F]){4}))|[0-9])*))/,/^(?:((([0]|(([1-9])([0-9]+)*))\.([0-9]+)*(([eE])([+-]?[0-9]+))?)|(\.([0-9]+)(([eE])([+-]?[0-9]+))?)|(([0]|(([1-9])([0-9]+)*))(([eE])([+-]?[0-9]+))?)))/,/^(?:([0][xX]([0-9a-fA-F])+))/,/^(?:([0]([0-7])+))/,/^(?:\{)/,/^(?:\})/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\.)/,/^(?:;)/,/^(?:,)/,/^(?:\?)/,/^(?::)/,/^(?:===)/,/^(?:==)/,/^(?:!==)/,/^(?:!=)/,/^(?:!)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:\+)/,/^(?:-)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:\|)/,/^(?:~)/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!0}}}).lex,j.lex=function(){return A.wasNewLine=A.newLine,A.newLine=!1,xt.call(this)};var xt,B=j;function _t(){this.yy={}}return A.lexer=B,new((_t.prototype=A).Parser=_t)}()},function(t,e,n){"use strict";mbrScript.filter("lowercase",function(){return function(t){return"string"==typeof t?t.toLowerCase():t}}),mbrScript.filter("uppercase",function(){return function(t){return"string"==typeof t?t.toUpperCase():t}}),mbrScript.filter("json",function(){return function(t,e){if(void 0!==t)return void 0===e?e=2:"number"!=typeof e&&(e=e?2:null),JSON.stringify(t,null,e)}})},function(t,e,n){"use strict";var l,c,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(){this._css=[]}function r(t,e){this.message=t,this.node=e,Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=(new Error).stack}function d(t){return"object"==(void 0===t?"undefined":i(t))}function u(t,e){return e in t||(t[e]={}),t[e]}function p(t){return t.replace(/^\((.+)\)$/,"$1")}function f(t,e){if(e=e||{},!d(t))return t;switch(t.type||""){case"Alpha":return"alpha(opacity="+f(t.value)+")";case"Anonymous":case"UnicodeDescriptor":case"Keyword":return t.value;case"Assignment":return f(t.key)+"="+f(t.value);case"Attribute":var n=f(t.key);return"["+(n=t.op?(n+=t.op)+f(t.value):n)+"]";case"Call":n=t.args.map(function(t){return p(f(t))});return t.name+"("+n.join(", ")+")";case"Color":return t.toCSS({});case"Combinator":return l(t);case"Comment":break;case"Condition":var n=t.op,i=f(t.rvalue),o=f(t.lvalue);return"="==n&&"true"==i||(o=o+("or"==n?",":" "+n)+" "+i),o="and"!=n&&"or"!=n&&(o="("+o+")",t.negate)?"not "+o:o;case"DetachedRuleset":case"RulesetCall":throw new c("Detached rulesets are not supported",t);case"Dimension":return f(t.value)+f(t.unit);case"Directive":t.rules?(r=t.name,t.value&&(r+=" "+f(t.value)),f.rules(t,u(e,r))):t.value&&(e[t.name]=f(t.value));break;case"Element":return f(t.combinator)+f(t.value);case"Expression":return f.join(t.value," ");case"Extend":throw new c("Selector :extend is not supported",t);case"Import":throw new c("Directive @import is not supported",t);case"JavaScript":throw new c("JavaScript is not supported",t);case"Media":var r="@media "+f.join(t.features.value,", ");f.rules(t,u(e,r));break;case"MixinCall":case"MixinDefinition":throw new c("Mixins are not supported",t);case"Negative":return"-"+f(t.value);case"Operation":return"("+f.join(t.operands," "+t.op+" ")+")";case"Paren":if(d(o=f(t.value))){var a,s=[];for(a in o)s.push("("+a+": "+o[a]+")");return s.join(" ")}return"("+o+")";case"Quoted":return(t.escaped?"~":"")+t.quote+t.value+t.quote;case"Rule":var r=f.join(t.name),i=f(t.value);0==r.indexOf("@")&&(i=p(i)),e[r]=i+t.important;break;case"Ruleset":t.selectors&&"&"!=(r=f.join(t.selectors,",").replace(/^\s+/,""))&&(e=u(e,r)),f.rules(t,e);break;case"Selector":n=f.join(t.elements);return t.condition&&(n+=" when "+f(t.condition)),n;case"Unit":return t.toString();case"Url":return"url("+f(t.value)+")";case"Value":return f.join(t.value,", ");case"Variable":return t.name}return e}window.objectifyCSS=(o.prototype.add=function(t){this._css.push(t)},o.prototype.toCSS=function(){return this._css.join("")},o.prototype.genCSS=function(t){return t.genCSS({},this),this.toCSS()},l=function(t){return(new o).genCSS(t)},c=(r.prototype=Object.create(Error.prototype)).constructor=r,f.rules=function(t,e){t.rules&&t.rules.forEach(function(t){f(t,e)})},f.join=function(t,e){return Array.isArray(t)?t.map(function(t){return f(t)}).join(e||""):f(t)},function(n,t,i){"function"==typeof(t=t||{})&&(i=t,t={});var o=t.lessjs||less;o.parse(n,function(t,e){if(t)i(t);else try{i(null,f(e))}catch(t){t.node&&"index"in t.node&&(e=o.utils.getLocation(t.node.index,n),t.line="number"==typeof e.line?e.line+1:null,t.column=e.column),i(t)}})})},function(t,e,n){"use strict";var U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("secondary-components",function(b,u,p){var t,o=(t={url:function(t){return t&&"url("+t+")"}}).global=t,I=(((e.prototype=Object.create(mbrScript.Context.prototype)).constructor=e).prototype.getProp=function(t){if(this.scopes[0]._params&&void 0!==this.scopes[0]._params[t])return this.scopes[0]._params[t];for(var e=1;e<this.scopes.length;e++)if(void 0!==this.scopes[e][t])return this.scopes[e][t]},e);function e(){mbrScript.Context.apply(this,arguments)}i.prototype.on=function(t,e){return"function"==typeof e&&(this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(e)),this},i.prototype.emit=function(t){var e;return this._listeners[t]&&(e=Array.prototype.slice.call(arguments,1),u.fire(t+this._appEventNamespace+".SecondaryComponent",e),this._listeners[t].forEach(function(t){t.apply(this,e)},this)),this},i.prototype.removeAllListeners=function(t){return arguments.length?delete this._listeners[t]:this._listeners={},this},i.prototype.removeListener=function(t,e){return this._listeners[t]&&0<=(e=this._listeners[t].indexOf(e))&&this._listeners[t].splice(e,1),this},i.createChildClass=function(t,e){if("function"!=typeof t)throw Error('"constructor" is not a function');function n(){i.call(this,e),t.apply(this,arguments)}return(n.prototype=Object.create(i.prototype)).constructor=n};var r=i;function i(t){this._listeners={},this._appEventNamespace=t?"."+t:""}s.prototype.getTemplate=function(t){return this.template},s.prototype.initialize=function(t,e){var n=e.item.scope;return n.this={_params:{index:e.index}},n._params=e.global._params,n},s.prototype.remove=function(){var t=this.arrivo.sourceFragment;t.parentNode&&t.parentNode.removeChild(t)},s.prototype.clone=function(){var t,e="",i=new s;for(t in this)this.hasOwnProperty(t)&&(i[t]=this[t]);return i.$listSourceElement.find("> *:last").each(function(){e=this.outerHTML}),i.arrivo.getParent().fork().on("ready",function(t,e,n){i.template=e.outerHTML,i.arrivo=this,i.scope=t,i.$listSourceElement.append(n)}).process(e),i};var a,n,M=s;function s(t){for(var e in(t=t||{}).template=t.template||"<div></div>",t)this[e]=t[e]}u.objectifyCSS=function(t){var n=b.Deferred();return objectifyCSS(t,{lessjs:u.iwindow.less},function(t,e){t?n.reject(t):n.resolve(e)}),n.promise()},u.getUID=(a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="object"==("undefined"==typeof crypto?"undefined":U(crypto))&&crypto.getRandomValues?function(){var t=a.length,e=new Uint8Array(1);return window.crypto.getRandomValues(e),e[0]>=Math.floor(256/t)*t?n():a.charAt(e[0]%t)}:function(){return a.charAt(Math.random()*a.length|0)},function(t,e){"object"==(void 0===t?"undefined":U(t))?e=t:(e=e||{}).length=t||22;t="";return e.timePrefix&&(t+=function(){for(var t=(new Date).getTime(),e=a.length,n="";0<t;)n=a.charAt(t%e)+n,t=(t-t%e)/e;return n||"0"}()),e.length&&(t+=Array.apply(null,{length:e.length}).map(n).join("")),t});var l=u.isSecondaryComponent=function(t){var e;if("object"==(void 0===t?"undefined":U(t)))e=t;else{if(!/^\d+$/.test(t))return!1;e=u.Core.getComponent(t)}return!e.alias&&"secondary"==u.theme.type||e._isSecondary};function c(t){var e=document.implementation.createHTMLDocument("").createElement("DIV");return b(e).append(b.trim(t)),e}function d(t){return t.hasOwnProperty("_sc")||Object.defineProperty(t,"_sc",{value:new C(t)}),t._sc}function f(t){var e=t.alias,n=t._sourceTheme;return e?u.path2core(u.getAddonDir(e))+"/"+t._name+"/":n?u.path2core(u.getAddonDir(n)+"/components")+"/"+t._name+"/":u.path2core(u.theme.pathExport+"/components")+"/"+t._name+"/"}function h(e){var t=e;return b.isArray(e)?t=e.map(h).join(" "):"object"==(void 0===e?"undefined":U(e))&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}u.on("themeLoaded",function(){u.theme.type=u.theme.params.theme.type||"primary"}),u.on("beforeAppLoad",function(){u.on("beforeShowCodeEditor",function(t){t=u.Core.getComponent(t);l(t)||"pro.custom-html"===t._name&&"secondary"===u.theme.type?b("body").addClass("fullwidth-code-editor"):b("body").removeClass("fullwidth-code-editor")}),u.on("showCodeEditor",function(t){var e,t=u.Core.getComponent(t);l(t)&&(u.Core.destroySummernote(),t._styles?(e=u.Core.getComponentStyles({_styles:t._styles}),t._customCSS=e.css):t._customCSS="")}),u.on("savedCodeEditor",function(t){arguments.length&&(t=u.Core.getComponent(t),l(t)&&(t._alwaysTop||t._alwaysBottom)&&u.Core.$body.closest("html").stop().animate({scrollTop:t._alwaysTop?0:u.Core.$template.height()},1e3),l(t))&&u.Core.updateGlobalComponents(t._id,function(t,e){for(var n in e)"_styles"!==n&&"_customHTML"!==n&&("object"===U(e[n])||"function"==typeof e[n]||/^_/g.test(n))||(e[n]=t[n])})}),u.$template.on("click",".component-code",function(t){var e=b(this).closest("[data-app-component-id]").attr("data-app-component-id"),e=u.Core.getComponent(e);!l(e)||u.registeredAddons&&u.registeredAddons["code-editor"]&&16<parseInt(u.registeredAddons["code-editor"].version)||(t.stopImmediatePropagation(),bootbox.dialog({message:'<p><b>You can\'t edit this block. Please update "Code Editor".</b></p>',buttons:{cancel:{label:"Ok",className:"btn-primary"}}}))});var t,g,v=u.iwindow.rivets,i=(v.formatters.fakeFilter=new u.iwindow.Function("v, f",'if (typeof f == "function") return f(v); return "";'),v.formatters.toNULL=new u.iwindow.Function("v",'if (v === "" || v === false) return null; return v;'),v.formatters.grow=new u.iwindow.Function("items, count","count = Math.max(1, Math.min(500, parseInt(count) || 0));if (count < items.length) {Array.prototype.splice.call(items, count, items.length).forEach(function(item){ item.remove(); });} else if (count > items.length) {var item = items[ items.length - 1 ];for (var i = items.length; i < count; i++) {items[i] = item.clone();}}return items;"),t="active-components",g="active-component",v.components[g]={attributes:["collection","global","index","item"],template:function(t){return t.item.getTemplate(t)},initialize:function(t,e){return e.item.initialize(t,e)}},v.binders[t]={block:!1,priority:v.binders["each-*"].priority,unbind:v.binders["each-*"].unbind,update:v.binders["each-*"].update},v.binders[t].bind=function(t){var e,n,i,o;if(null==this.iterated)e=[this.view.prefix,this.type].join("-").replace("--","-"),this.iterated=[],t.removeAttribute(e);else for(n=0,i=(o=this.iterated).length;n<i;n++)o[n].bind()},v.binders[t].routine=function(t,e){var n,i,o,r,a,s,l,c,d,u,p,f,h,m;if(this.iterated.length>(e=e||[]).length)for(u=0,f=this.iterated.length-e.length;u<f;u++)(d=this.iterated.pop()).unbind(),t.removeChild(d.childElement);for(i=p=0,h=e.length;p<h;i=++p)if(r=e[i],d=this.iterated[i],n={collection:e,global:this.view.models,index:i,item:r},(a=null==d)||d.models.item!==r){if(!a){for(s=0,u=i+1,f=(m=this.iterated).length;u<f;u++)if(m[u].models.item===r){s=u;break}if(s){this.iterated.splice(i,0,this.iterated.splice(s,1)[0]),t.insertBefore(t.children[s],t.children[i]);continue}d.unbind()}for(o in c=document.createElement(g),n)c.setAttribute(o,o);(l=this.view.options()).preloadData=!0,(d=new v._.View(c,n,l)).bind(),d.childElement=c.firstChild,a?(this.iterated.push(d),t.appendChild(d.childElement)):(this.iterated[i]=d,t.replaceChild(d.childElement,t.children[i]))}},v.binders["static-html"]={priority:2e3,bind:function(t){var e=this.observer?this.observer.value():this.value,e=this.formattedValue("function"!=typeof e||this.binder.function?e:e.call(this.model));return t.innerHTML=null!=e?e:"",t},routine:function(t,e){return null!=e?e:""}},v.binders.style2={routine:function(t,e){var n=b(t),i=b(t).data("old-styles");if(i&&e!==i)for(var o in i)n.css(o,"");"object"!=(void 0===e?"undefined":U(e))&&(e={}),n.css(e),b(t).data("old-styles",e)}},v.binders.media);function o(t,e){return t.filter(function(t){return e.indexOf(t)<0})}v.binders.media={routine:function(t,e){if(!t.getAttribute("mbr-media-simple"))return i.apply(this,arguments);var n=Object.keys(e)[0],e=e[n];"image"==n?m.update(b(t),e):"video"!=n&&"iconFont"==n&&w.update(b(t),e)}},v.binders.class2={routine:function(t,e){b(t);var n,i=b(t).data("old-classes");i!=(e=h(e))&&(n=e&&e.split(" ")||[],i=i&&i.split(" ")||[],(i={add:o(n,i).join(" "),remove:o(i,n).join(" ")}).add&&b(t).addClass(i.add),i.remove&&b(t).removeClass(i.remove),b(t).data("old-classes",e))}};var n,r="data-rv-view",a=(v.originalBind=v.bind,v.bind=function(t,e,n){v.boundViews=v.boundViews||{};e=v.originalBind(t,e,n);return b(t).attr(r,e.models._rv),v.boundViews[e.models._rv]=e},v.unbind=function(t){var e="["+r+"]";return b(t).find(e).addBack(e).each(function(){var t=b(this).attr(r),e=v.boundViews[t];e.unbind(),delete v.boundViews[t],delete e.models._rv}),this},v.unbindAll=function(){v.boundViews.forEach(function(t){t.unbind()}),v.boundViews=[]},u.Core);function s(t){return'"'+(""+t).replace(/"/g,'\\"').replace(/\r/g,"").replace(/\n/g," ")+'"'}a.isSecondaryComponent=l,a.getSecondaryComponent=d,a.transformSecondaryComponentForProject=function(t){var e,n=["_anchor","_checkPublish","_cid","_customHTML","_protectedParams","_JSplaceholders","_name","_PHPplaceholders","_styles","alias","_once","_global","_isUserblock","_sourceTheme","_isSecondary","typeCompatible","_popupId"],i=t._protectedParams||[];for(e in t)if("_params"==e)for(var o in t._params)i.indexOf(o)<0&&delete t._params[o];else n.indexOf(e)<0&&delete t[e];return t},a.on("rivetsBlur",function(t){u.iwindow.$(t).trigger("change-component-node")}),a.addFilter("getComponentStyles",function(t,e){if(l(e)){if(!e._id&&!e._name)return t;var n,i=d(e).getDefaultParams(),o="";for(n in i){var r=e._params[n];switch(i[n].type||"none"){case"fonts":o+="@"+n+": "+(r.css||"false")+";\n";break;case"color":case"range":case"switch":case"switch-off":o+="@"+n+": "+r+";\n";break;case"none":case"image":case"select":o+="@"+n+": "+s(r)+";\n";break;case"background":o=(o+="@"+n+"-value: "+("color"==r.type?r.value:"image"==r.type?s(u.path2core(r.value)):'""')+";\n")+("@"+n+"-type: "+s(r.type)+";\n"),r.color&&(o+="@"+n+"-color-value: "+r.color.value+";\n"),r.image&&(o+="@"+n+"-parallax: "+r.parallax+";\n")}}t.css=o+"\n"+t.css}return t}),a.addFilter("beforeRenderStyles",function(t,e,n,i,o){return t="@isPublish: "+n+";\n"+t}),a.addFilter("componentSelector",function(t,e){return t=l(e)?"."+C.getClassName(e):t}),a.on("changedComponentParams",function(t,e,n){t=a.getComponent(t);l(t)&&d(t).changeParam(e,n),a.$document.trigger("change.cards"),"secondary"!==u.theme.type||l(t)||a.$template.find("[data-app-component-id="+t._id+"] .app-component-content > *").trigger("change.cards")}),a.on("loadedComponent",function(t,e,n,i){i||"secondary"!==u.theme.type||a.$template.find("[data-app-component-id="+t._id+"] .app-component-content > *").trigger("add.cards"),l(t)&&i&&-1!=t._customHTML.indexOf("mbr-form")&&i&&(y.clean(t,n),y.prefix(t,n)),l(t)&&i&&b(n[0]).find("[data-app-component-id="+t._id+"] .app-component-content > section").removeAttr("data-rv-view").find("img, span").removeAttr("media-simple")}),a.on("changedComponentPosition",function(t,e){var n=a.getComponent(t);l(n)&&(n=void 0!==e&&a.$template.find("[data-app-component-id="+e+"] .app-component-content > *")[0],a.$template.find("[data-app-component-id="+t+"] .app-component-content > *").trigger("drag.cards",n||[]))}),a.on("removeComponent",function(t){var e=a.getComponent(t);l(e)&&a.$template.find("[data-app-component-id="+t+"] .app-component-content > *").trigger("delete.cards")}),a.on("addedComponent",function(e){clearTimeout(n),n=setTimeout(function(){var t=a.getComponent(e);l(t)&&t._alwaysTop&&a.$body.closest("html").stop().animate({scrollTop:0},1e3)},50)}),a.addFilter("loadComponentTemplate",function(t,e,n,i){return l(e)?(e._customHTML=e._customHTML||t,e._customCSS="","_styles"in e||(e._styles=i),i=d(e),n&&(i._arrivo._scope.isPublish=!0),i.getTemplate()):t}),a.addFilter("getComponentParams",function(t,e){e=a.getComponent(e);return l(e)&&(t.default=a.convertComponentParams(d(e).getDefaultParams())),t})});var m={update:function(t,e){var n,i=t.closest("a");t.attr({src:u.path2core(e.src),alt:e.alt,title:e.title}),u.isAMP()&&(n=t.closest("amp-img"),e.lightbox?(t.attr("lightbox",e.lightbox),n.attr("lightbox",e.lightbox),e.link=void 0):n.removeAttr("lightbox"),e.title?n.attr("title",e.title):n.removeAttr("title")),e.link?(i.length||(i=t.after("<a/>").next())[0].appendChild(t[0]),i.attr("href",e.link),e.linkInNewWindow?i.attr("target","_blank"):i.removeAttr("target"),i=u.applyFilter("secondaryImgLinkUpdate",i,e)):i.length&&i.contents().each(function(){i[0].parentNode.insertBefore(this,i[0])}).end().remove()}},y={update:function(i,o){var t=i.find("[data-form-alert]"),i="FORM"==i[0].tagName?i:i.find("form");t.html(o.alerts.success),i.attr("action",o.action),b(i[0].elements).each(function(){var t=b(this).attr("name"),e=i.find("[for='"+b(this).attr("name")+"']")||"",n=i.find("[data-for='"+b(this).attr("name")+"']")||"";t&&o.fields[t]&&(!function(t){var e,n=0;for(e in t.fields)t.fields[e].visible&&n++;return!n}(o)||(o.fields[t].visible=!0),o.fields[t].visible?(b(this).removeAttr("hidden"),e.removeAttr("hidden"),n.removeAttr("hidden")):(b(this).attr("hidden","true"),e&&e.attr("hidden","hidden"),n&&n.attr("hidden","hidden")),o.fields[t].customTitle?b(this).attr("placeholder",o.fields[t].customTitle):b(this).removeAttr("placeholder"))})},clean:function(t,e){var n,i=b(e[0]).find("[data-app-component-id="+t._id+"] [mbr-form]"),o=t[i.attr("mbr-form")];for(n in o.fields)o.fields[n].visible||(i.find("[name='"+n+"']").remove(),i.find("[for='"+n+"']").remove(),i.find("[data-for='"+n+"']").remove())},prefix:function(t,e){var n=t._id,i=t._anchor,o=b(e[0]).find("[data-app-component-id="+n+"] form");b(o[0].elements).each(function(){var t=b(this).attr("name"),e=o.find("[for='"+b(this).attr("name")+"']")||"",n=t+"-"+i;t&&b(this).attr("id",n),e&&e.attr("for",n)})}},w={init:g,update:function(t,e){var n=t.closest("a"),i=u.iconFonts[e.family];i?(t.removeClass(t.data("old-icon-classes")),i.prefix?t.addClass(i.prefix+e.name).removeAttr("data-name").html(""):t.html("&#x"+i.codes[i.names.indexOf(e.name)]).attr("data-name",e.name),i.class&&t.addClass(i.class),g(t,e),t.css({"font-size":e.size?parseInt(e.size,10)+"px":"",color:e.color||"",fill:e.color||""}),e.link?(n.length||(n=t.after("<a/>").next())[0].appendChild(t[0]),n.attr("href",e.link),e.newWindow?n.attr("target","_blank"):n.removeAttr("target"),n=u.applyFilter("secondaryIconLinkUpdate",n,e)):n.length&&n.contents().each(function(){n[0].parentNode.insertBefore(this,n[0])}).end().remove()):console.warn("IconFont not found in fonts list",e,t)}};function g(t,e){var n=u.iconFonts[e.family],i=[];n?(n.prefix&&i.push(n.prefix+e.name),n.class&&i.push(n.class)):console.warn("IconFont not found in fonts list",e,t),t.data("old-icon-classes",i.join(" "))}_.prototype.set=function(t,e){this._params[t]=encodeURIComponent(e)},_.prototype.toString=function(){var t,e="";for(t in this._params)e&&(e+="&"),e+=t+"="+this._params[t];return e=e&&"?"+e},v=_,k.prototype.toString=function(){return this._prefix+this.searchParams.toString()+this.hash},x=k;var v,x,B={update:function(t,e){var n=t.find("iframe"),i=new x(e.src);n.length||(n=t.append("<iframe/>").find("iframe")),"4:3"==e.aspectratio?n.attr({width:800,height:600}):n.removeAttr("width height"),i.searchParams.set("loop",e.loop?1:0),i.searchParams.set("autoplay",e.autoplay?1:0),n.attr("src",i.toString())}};function _(t){this._params={},t&&t.replace(/^\?/,"").split("&").forEach(function(t){var e,n;(t=t.split("="))[0]&&(e=t[0],n="",1<t.length&&(n=t.slice(1).join("=")),this._params[e]=n)},this)}function k(t){var e,n=this;this.hash="",this._prefix=t.replace(/#.*$/,function(t){return 1<t.length&&(n.hash=t),""}).replace(/\?.*$/,function(t){return 1<t.length&&(e=t),""}),this.searchParams=new v(e)}S.prototype.reset=function(){return this.lastError=null,this.nextNode=null,this.isBreaked=this.isStopped,this.isIgnoredChildren=!1,this.isTraverseForOneNode=!1,this.node=null,this.attr=null,this},S.prototype.hardReset=function(){return this.isStopped=!1,this.reset(),this},S.prototype.error=function(t){return this.lastError=t,this},S.prototype.ignoreChildren=function(){return this.isIgnoredChildren=!0,this},S.prototype.traverseForOneNode=function(){return this.isTraverseForOneNode=!0,this},S.prototype.break=function(){return this.isBreaked=!0,this},S.prototype.test=function(t){return this.isTest=t,this},S.prototype.stop=function(){return this.isStopped=this.isBreaked=!0,this},S.prototype.next=function(t){return this.nextNode=t,this};var N=S;function S(){this.isTest=!1,this.hardReset()}var C=u.SecondaryComponent=(P.prototype.getDefaultParams=function(){return this._defaultParams},P.prototype.getTemplate=function(){return this._template},P.prototype.createElementFromTemplate=function(){return c(this.getTemplate()).firstChild},P.prototype.getClassName=function(){return P.getClassName(this._component)},P.prototype.changeParam=function(t,e){var n=new L.ParamEvent("change");this._arrivo.emit("changeParam",n,t,e),n.defaultPrevented||u.Core.renderComponentsStyles(null,null,this._component)},P.prototype.changeNode=function(t,e){this._arrivo.emit("changeNode",new L.NodeEvent("change"),t,e)},P.prototype.isActualTemplate=function(){return this._arrivo&&this._arrivo._template==this._component._customHTML},P.prototype.update=function(){var c=this,d=this._component;return this.isActualTemplate()||(this._arrivo=new L(this._component._customHTML,{component:d}).on("ready",function(t,e,n){for(var i in c._template=e,c._defaultParams=n,t._params={},n){var o=n[i];t._params[i]=o.default}if(d._params)for(var i in d._params){var r;(o=c._arrivo.getParam(i))&&o.isProtected()&&((r=d._params[i])instanceof Object&&(r=b.extend(!0,Array.isArray(r)?[]:{},r)),t._params[i]=r)}var a=["_anchor","_checkPublish","_cid","_customCSS","_customHTML","_id","_JSplaceholders","_name","_PHPplaceholders","_styles","alias","_isUserblock","_sourceTheme","_isSecondary","typeCompatible","_popupId"];for(i in d)a.indexOf(i)<0&&delete d[i];delete d._rv,b.extend(!0,d,t);var s,e=u.$template.find("[data-app-component-id="+d._id+"]"),l=(e[(d._noDrag?"add":"remove")+"Class"]("no-sortable"),e[(d._positionAbsolute?"add":"remove")+"Class"]("pos-absolute"),d._alwaysBottom?e.attr("data-app-always-bottom","true").appendTo(e.parent()):e.removeAttr("data-app-always-bottom"),d._alwaysTop?e.attr("data-app-always-top","true").prependTo(e.parent()):e.removeAttr("data-app-always-top"),d._noDrag?e.find(".sortable").remove():e.find(".sortable").length||e.find(".app-component-edit").prepend('<span class="mbr-btn sortable mbr-icon-arrows-vertical" data-tooltipster="bottom" title="Drag Block"></span>'),!1);for(s in n)if(n[s].type){l=!0;break}l?e.find(".component-params").length||e.find(".component-remove").before('<span class="mbr-btn component-params mbr-icon-cog" data-tooltipster="bottom" title="'+p("Block Parameters")+'"></span>'):e.find(".component-params").remove()}).on("changedTemplate",function(t){t=t.replace(/<([-a-z0-9]+)(\s[^<>]+)>/g,function(t,e,n){return"<"+e+(n=n.replace(/\s([-a-z]+)="([^"]*)"/g,function(t,e,n){return"checked"!=e&&"selected"!=e&&n?" "+e+'="'+(n=n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"))+'"':" "+e}))+">"}),d._customHTML=t,this._template=t}).on("changedParam",function(t,e,n){"object"==(void 0===e?"undefined":U(e))&&(e=b.extend(!0,{},e)),u.Core.$template.find("[data-app-component-id="+d._id+"] .app-component-content > *").trigger("changeParameter.cards",[t,e].concat(n&&String(n)||[]))}).on("changedNode",function(t,e){var n;switch(e.type){case"icon":case"image":case"video":n='[mbr-media="'+t+'"]'}n&&u.Core.$template.find("[data-app-component-id="+d._id+"] .app-component-content > *").find(n).trigger("changeContent.cards",[e.type])}),this._arrivo.process(),u.cleanOnceComponents()),this},P.validate=function(t){var e=b.Deferred();return new L(t,{component:{},test:!0}).on("ready",function(){e.resolve()}).on("error",function(t){e.reject(t)}).process(),e.promise()},P.getClassName=function(t){return"cid-"+t._cid},P);function P(t){this._defaultParams={},this._component=t,this._template="",t._cid||(t._cid=u.getUID(3,{timePrefix:!0})),this.update()}var T,j,E,A,L=u.Arrivo=(T={tags:{},attrs:{}},(j=r.createChildClass(function(t,e){this.flow=new N,e.test&&this.flow.test(!0),this._uid=0,this._template=t,this._component=e.component,this._scope={},this._nodes={},this._params={},this._newComponent={_protectedParams:[]},this.on("changeParam",function(t,e,n){e in this._params&&(t.target=this._params[e],t.targetName=e,t.target.trigger(t,n),this.emit("changedTemplate",this.sourceFragment.innerHTML),t.isPropagationStopped||this.emit("changedParam",e,n))}).on("changeNode",function(t,e,n){e in this._nodes&&(t.target=this._nodes[e],t.targetName=e,t.target.trigger(t,n),this.emit("changedTemplate",this.sourceFragment.innerHTML),t.isPropagationStopped||this.emit("changedNode",e,t.target))})})).prototype.getUName=function(){return"uname__"+ ++this._uid},j.prototype.getComponent=function(){return this._component},j.prototype.getComponentsDir=function(){var t=this._component.alias,e=this._component._sourceTheme;return t?u.path2core(u.getAddonDir(t))+"/":e?u.path2core(u.getAddonDir(e))+"/components/":u.path2core(u.theme.pathExport+"/components")+"/"},j.prototype._bindNodes=function(t,e){for(var n,i=[t],o=[e];t=i.pop();)if(e=o.pop(),((n=t.nodeType)==t.TEXT_NODE||n==t.ELEMENT_NODE)&&((e._assocElement=t)._assocElement=e,n==t.ELEMENT_NODE))for(var r=0;r<t.childNodes.length;r++)i.push(t.childNodes[r]),o.push(e.childNodes[r])},j.prototype.findErrorLine=function(){var t,e,n,i=0,o=u.getUID();return this.flow.node&&(this.flow.attr?(e=this.flow.attr.value,n=this.flow.attr.name,this.flow.node.setAttribute(n,o),t=this.sourceFragment.innerHTML.indexOf(o),this.flow.node.setAttribute(n,e)):this.flow.node.nodeType==this.flow.node.TEXT_NODE&&(e=this.flow.node.nodeValue,this.flow.node.nodeValue=o,t=this.sourceFragment.innerHTML.indexOf(o),this.flow.node.nodeValue=e),0<=t)&&(n=this.sourceFragment.innerHTML.substr(0,t).split(e).length,i=this._template.split(e,n).join(e).split("\n").length),i},j.prototype.process=function(){var t=this._template;if(this.sourceFragment=c(t),this.resultFragment=c(t),this._bindNodes(this.sourceFragment,this.resultFragment),this._process(this.sourceFragment,!0),this.flow.isTest&&this.flow.lastError)"line"in this.flow.lastError&&(t=this.findErrorLine())&&(this.flow.lastError.line+=t),this.flow.attr&&(this.flow.lastError.message=this.flow.lastError.message.replace(/^\s*Parse error:/,'Parse error in "'+this.flow.attr.name+'" attribute:')),this.emit("error",this.flow.lastError);else{var e,n={};for(e in this._params)n[e]=this._params[e].prop();this.emit("ready",this._newComponent,this.resultFragment.innerHTML,n)}},j.prototype._process=function(t,e){var n,i,o=this.flow.isTraverseForOneNode,r=o?t:t.firstChild;for(e&&this.flow.hardReset();r;){if(this.flow.isStopped)return;if(this.flow.reset(),i=(this.flow.node=r).nextSibling,r.nodeType==r.ELEMENT_NODE){if(r.hasAttributes())for(var a=r.attributes,s=0;s<a.length;s++){this.flow.attr=a[s];var l=a[s].name;if((n=T.attrs[l])?n.call(this,b(r._assocElement),b(r),a[s].value,l):(n=T.attrs["*"])&&n.call(this,r._assocElement,r,a[s].value,l),this.flow.isBreaked)return}this.flow.attr=null;var c=e?":root":r.tagName.toLowerCase();if((n=T.tags[c])?n.call(this,b(r._assocElement),b(r),c):(n=T.tags["*"])&&n.call(this,r._assocElement,r,c),this.flow.isBreaked)return;this.flow.nextNode&&(i=this.flow.nextNode),this.flow.isIgnoredChildren||this._process(r,!1)}else if(r.nodeType==r.TEXT_NODE&&T.text&&(T.text.call(this,r._assocElement),this.flow.isBreaked))return;if(o)return;r=i}},j.prototype.addParam=function(t,e){if(t in this._params){if(this._params[t]===e)return;this._params[t].trigger("delete")}var n,i=e.elm();return i&&!e.prop("condition")&&(n=i.attr("condition"))&&(this.flow.node=i[0],this.flow.attr={name:"condition",value:n},i=this.getScript(n),n=this.getUName(),i?this.addProp(n,this.createFunction(i)):this.addProp(n,function(){return!1}),e.prop("condition",n)),e.isProtected()&&(i=this._newComponent._protectedParams)&&i.indexOf(t)<0&&i.push(t),this._params[t]=e,this},j.prototype.getParam=function(t){return this._params[t]},j.prototype.addNode=function(t,e){if(t in this._nodes){if(this._nodes[t]===e)return;this._nodes[t].trigger("delete")}return this._nodes[t]=e,this},j.prototype.getNode=function(t){return this._nodes[t]},j.prototype.addProp=function(t,e){if("object"==(void 0===t?"undefined":U(t)))for(var n in t)null!=(e=t[n])&&(this._newComponent[n]=e);else this._newComponent[t]=e;return this},j.prototype.getProp=function(t){return this._newComponent[t]},j.prototype.getScript=function(t){try{var e=mbrScript(t);if("repeat"==e.type)throw e=null,new mbrScript.Error("Parse error: Operator 'in' is not supported",0)}catch(t){this.flow.error(t),this.flow.isTest?this.flow.stop():console.error(t)}return e},j.prototype.createFunction=function(t){var e=new I([this.getComponent(),this._scope,o]);return new u.iwindow.Function("","var result = ("+t.code+'); if (result === undefined || result === null) return ""; return result;').bind(e)},j.prototype.fork=function(){return new j.Scope(this).on("changedTemplate",function(){this._parent.emit("changedTemplate",this._parent.sourceFragment.innerHTML)}).on("changedNode",function(t,e){this._parent.emit("changedNode",t,e)})},j.Scope=function(){((t.prototype=Object.create(mbrScript.Context.prototype)).constructor=t).prototype.getProp=function(t){if("this"==t)return this.scopes[0]&&this.scopes[0]._params;if(this.scopes[1]._params&&void 0!==this.scopes[1]._params[t])return this.scopes[1]._params[t];for(var e=2;e<this.scopes.length;e++)if(void 0!==this.scopes[e][t])return this.scopes[e][t]};var n=t;function t(){mbrScript.Context.apply(this,arguments)}var e,i=r.createChildClass(function(t){this.flow=t.flow,this._uid=0,this._parent=t,this._template=t._template,this._component=t._component,this._scope=t._scope,this._nodes={},this._params={},this._newComponent={_checkPublish:function(){return!!t._scope.isPublish}},this.on("changeNode",function(t,e,n){e in this._nodes&&(t.target=this._nodes[e],t.targetName=e,t.target.trigger(t,n),this.emit("changedTemplate"),t.isPropagationStopped||this.emit("changedNode",e,t.target))})});for(e in i.prototype.addParam=function(){},i.prototype.getParam=function(){},i.prototype.getUName=function(){return this._parent.getUName()},i.prototype.getParent=function(){return this._parent},i.prototype.process=function(t){var e,n;return"string"==typeof t?(e=c(n=t),n=c(n),j.prototype._bindNodes(e,n),this._process(e),t=n.firstChild):(this.flow.traverseForOneNode(),this._process(t._assocElement)),this.resultFragment=t,this.sourceFragment=t._assocElement,this.flow.isTest&&this.flow.lastError||this.emit("ready",this._newComponent,this.resultFragment,this.sourceFragment),this},i.prototype.createFunction=function(t){var e=new n([null,this.getComponent(),this._scope,o]);return new u.iwindow.Function("scope","this.scopes[0] = scope; var result = ("+t.code+'); if (result === undefined || result === null) return ""; return result;').bind(e)},j.prototype)e in i.prototype||(i.prototype[e]=j.prototype[e]);return i}(),j.Param=($.prototype.on=function(t,e){return O(t).forEach(function(t){r.prototype.on.call(this,t,e)},this),this},$.prototype.off=function(t,e){var n;return arguments.length?(n="remove"+(1<arguments.length?"Listener":"AllListeners"),O(t).forEach(function(t){r.prototype[n].call(this,t,e)},this)):r.prototype.removeAllListeners.call(this),this},$.prototype.trigger=function(t){t="object"==(void 0===t?"undefined":U(t))?[t]:O(t).map(function(t){return new j.ParamEvent(t,{target:this})},this);var e=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){r.prototype.emit.apply(this,[t.type,t].concat(e))},this),this},$.prototype.elm=function(t){return arguments.length?(this._elm=t,this):this._elm},$.prototype.prop=function(t,e){var n=arguments.length;return 1<n?(this._props[t]=e,this):"object"==(void 0===t?"undefined":U(t))?(this._props=t,this):n?this._props[t]:this._props},$.prototype.removeProp=function(t){return delete this._props[t],this},$.prototype.protect=function(){return this._protected=!0,this},$.prototype.isProtected=function(){return this._protected},$),j.Node=(D.prototype.on=j.Param.prototype.on,D.prototype.off=j.Param.prototype.off,D.prototype.trigger=j.Param.prototype.trigger,D.prototype.elm=function(t){return arguments.length?(this._elm=t,this):this._elm},D),j.ParamEvent=function(t,e){var n=!1,i=!1;if(this.preventDefault=function(){n=!0},this.stopPropagation=function(){i=!0},Object.defineProperties(this,{type:{value:t,enumerable:!0},defaultPrevented:{get:function(){return n},enumerable:!0},isPropagationStopped:{get:function(){return i},enumerable:!0}}),"object"==(void 0===e?"undefined":U(e)))for(var o in e)this[o]=e[o]},j.NodeEvent=j.ParamEvent,j.addHandler=function(t,e,n){return T[t]||(T[t]={}),T[t][e]=n,j},j.tag=function(t,e){return j.addHandler("tags",t.toLowerCase(),e)},j.attr=function(t,e){return j.addHandler("attrs",t,e)},j.text=function(t){return T.text=t,j},j.handlers=T,j);function O(t){return"string"==typeof t&&(t=t.replace(/^\s+|\s+$/g,""))?t.split(/\s+/):[]}function $(t){r.call(this,"Param"),this._props="object"==(void 0===t?"undefined":U(t))?t:{},this._protected=!1}function D(t,e){r.call(this,"Node"),Object.defineProperty(this,"type",{get:function(){return t},enumerable:!0}),this._elm=e}function F(t){for(var e,n=t.firstElementChild;n;){if(this.flow.isBreaked)return;for(var i in e=b(n),o=!0,L.handlers.params)if(e.is(i)){this.flow.node=n;var o=!1,r=e.attr("name");if(r&&!/^[_a-zA-Z][_a-zA-Z0-9]*$/.test(r)){var a=new Error('Incorrect parameter name: "'+r+'"');if(a.line=0,this.flow.isTest)return this.flow.attr={name:"name",value:r},void this.flow.error(a).stop();console.error(a)}a=L.handlers.params[i].call(this,e,e.attr("title")||r,e.val());a&&this.addParam(r||this.getUName(),a);break}o&&F.call(this,n),n=n.nextElementSibling}}function R(t){return t.split(E).filter(function(t){return t}).map(function(t){return"{{"==t.slice(0,2)&&"}}"==t.slice(-2)?"("+t.slice(2,-2).replace(/\\\{/g,"{").replace(/\\\}/g,"}")+")":"'"+A(t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"}).join(" + ")}L.param=function(t,e){return L.addHandler("params",t,e)},L.tag("mbr-parameters",function(t,e){t.remove(),this.flow.ignoreChildren(),L.handlers.params&&F.call(this,e[0])}),L.param("hr, header",function(t){return new L.Param({type:"separator",title:t.html()||""}).elm(t)}),L.param("label",function(t){return new L.Param({type:"label",title:t.html()||"label"}).elm(t)}),L.param("input[type=text], textarea",function(n,t,e){var i=n.is("textarea");return new L.Param({type:i?"textarea":"text",title:t||"Text",default:e||""}).elm(n).on("change",function(t,e){i?n.text(e):n.attr("value",e)})}),L.param("input[type=checkbox]",function(n,t){var e=void 0!==n.attr("inverted");return new L.Param({type:"switch"+(e?"-off":""),title:t||(e?"Disable":"Enable"),default:n.prop("checked")}).elm(n).on("change",function(t,e){e?n.attr("checked",!0):n.removeAttr("checked")})}),L.param("input[type=radio]",function(n,t,i){var o=this,r=n.attr("name")||this.getUName(),e=this.getParam(r),a=n.prop("checked"),t=(e||((e=new L.Param({default:""})).radioGroup=this.getUName(),this.addParam(r,e)),n.attr("title")||(t=n.is("[title]")||!i?"":i),n.is("[value]")||(i=t),new L.Param({type:"radio",name:e.radioGroup,title:t,default:a}).elm(n).on("change",function(t,e){t.stopPropagation(),e?(n.attr("checked",!0),o.getComponent()._params[r]=i,o.emit("changedParam",r,i)):(n.removeAttr("checked"),t.preventDefault())}));this.addParam(this.getUName(),t),a&&e.prop("default",i)}),L.param("select",function(e,t,n){var i={};return e.find("option").each(function(){var t=b(this),e=t.attr("value"),t=t.html();i[e=void 0===e?t:e]=t}),new L.Param({type:"select",title:t||"Select",values:i,inline:e.is("[inline]"),multiple:e.is("[multiple]"),default:n}).elm(e).on("change",function(t,i){e.find("option[selected]").removeAttr("selected"),e.find("option").each(function(){var t=b(this),e=t.attr("value");if(void 0===e&&(e=t.html()),Array.isArray(i)){for(var n=0;n<i.length;n++)if(e===i[n]){t.attr("selected",!0);break}}else e==i&&t.attr("selected",!0)})})}),L.param("fieldset[type=background]",function(s,t,e){var l,c,d,u,p,f,h,m,n=s.find("image, color, video".replace(/(\w+)/g,"input[type=$1]:last"));n.length&&(c={},d=[],u=(l=this).getUName(),p=s.is("[parallax]"),f=L.handlers.params,h=s.attr("name")||this.getUName(),m=new L.Param({type:"background"}).elm(s).on("select",function(t,e){var n=l.getComponent()._params[h];n.type=e,n.value=n[e].value,n.parallax=p&&"image"==e&&n[e].parallax,l.emit("changedParam",h,n,"type")}).on("change",function(t,e,n,i){var o=l.getComponent()._params[h];o.type===e&&(o[n]=i),o[e][n]=i,l.emit("changedParam",h,o,n)}),n.each(function(){var n=b(this),i=n.attr("type"),t=n.attr("title"),e=n.is("[selected]"),o=(f["input[type="+i+"]"]||b.noop).call(l,n,"",n.val());if(o){var r=new L.Param({type:"radio",name:u,default:e}).elm(n).on("change",function(t,e){t.stopPropagation(),e?(n.attr("selected",!0),m.trigger("select",i)):(n.removeAttr("selected"),t.preventDefault())});switch(i){case"image":o.prop("title",""),r.prop("title",t||"Background Image"),c[i]={value:o.prop("default"),parallax:p&&n.is("[parallax]")};break;case"color":r.prop("title",t||"Background Color"),c[i]={value:o.prop("default")};break;case"video":o.prop("default",{url:o.prop("default").url}),r.prop("title",t||"Background Video"),c[i]={value:o.prop("default")}}l.addParam(l.getUName(),r);var a=l.getUName();l.addProp(a,l.createFunction(l.getScript(h+'.type == "'+i+'"'))),o.on("change",function(t,e){t.stopPropagation(),m.trigger("change",i,"value",e)}).prop("condition",a),d.push(o),p&&"image"==i&&d.push(new L.Param({type:"switch",title:s.attr("parallax")||"Parallax",default:n.is("[parallax]"),condition:a}).elm(n).on("change",function(t,e){t.stopPropagation(),e?n.attr("parallax",""):n.removeAttr("parallax"),m.trigger("change",i,"parallax",e)})),!e&&c.type||(c.type=i,c.value=c[i].value,c.parallax="image"==i&&c[i].parallax)}}),d.forEach(function(t){l.addParam(l.getUName(),t)}),this.addParam(h,m.prop("default",c)))}),L.param("input[type=color]",function(n,t,e){return new L.Param({type:"color",title:t||"Color",default:e||"#ffffff"}).elm(n).on("change",function(t,e){n.attr("value",e)})}),L.param("input[type=range]",function(n,t,e){var i=n.attr("min")||0,o=n.attr("max")||100;return new L.Param({type:"range",min:i,max:o,step:n.attr("step")||1,title:t||"Range",inline:n.is("[inline]"),default:e||(parseFloat(o)+parseFloat(i))/2}).elm(n).on("change",function(t,e){n.attr("value",e)})}),L.param("input[type=font]",function(n,t,e){for(var i,o=u.getAccesibleFonts(),r=0;r<o.length;r++)if(e===o[r].name){i=o[r];break}return new L.Param({type:"fonts",title:t||"Font",inline:!0,default:i||o[0]||{}}).elm(n).on("change",function(t,e){n.attr("value",e.name)})}),L.param("input[type=image]",function(n,t,e){return e&&0!==e.indexOf("@SITES@")&&e.indexOf(":/")<0&&(e=f(this.getComponent())+e),new L.Param({type:"image",title:t||"Image",default:e}).elm(n).on("change",function(t,e){n.attr("value",e)})}),L.param("input[type=video]",function(n,t,e){return new L.Param({type:"video",title:t||"Video",default:{url:e||"http://www.youtube.com/watch?v=uNCr7NdOJgw",loop:!0}}).elm(n).on("change",function(t,e){n.attr("value",e.rawUrl)})}),L.param("input[type=hidden]",function(t,e,n){return new L.Param({default:n||""})}),L.param("input[type=id]",function(t){return new L.Param({default:u.getUID(3,{timePrefix:!0})})}),L.tag(":root",function(t,e){var n=(n=e.attr("plugins"))&&n.replace(/\s*,\s*/g,",");this.addProp({_alwaysBottom:e.is("[always-bottom]"),_alwaysTop:e.is("[always-top]"),_global:e.is("[global]"),_noDrag:e.is("[not-draggable]"),_plugins:n||null,_positionAbsolute:e.is("[position-absolute]"),_once:e.is("[once]")&&(e.attr("once")||!0)}),t.attr("mbr-id","_anchor").addClass(C.getClassName(this.getComponent())).removeAttr("plugins group always-top always-bottom position-absolute not-draggable global")}),L.attr("mbr-list",function(t,e){var n,i=[],o=this.getUName(),r=this;t.find("> *").each(function(){var n=new M({$listSourceElement:e});r.fork().on("ready",function(t,e){n.template=e.outerHTML,n.arrivo=this,n.scope=t}).process(this),i.push(n)}).remove(),n=(n=e.attr("mbr-list-grow"))?" | grow _params."+n:"",t.attr("mbr-active-components",o+n).removeAttr("mbr-list mbr-list-grow"),this.addProp(o,i),this.flow.ignoreChildren()}),L.attr("mbr-text",function(t,n){var i,e,o=this.getUName(),r=new L.Node("content",n).on("change",function(t,e){n.html(e)});t.attr({"data-app-edit":"content","mbr-static-html":o,"mbr-content-edit":o,"data-app-placeholder":p("Type Text"),"mbr-on-change-component-node":(e=(i=this).getUName(),i.addProp(e,function(t,e){i.emit("changeNode",new L.NodeEvent("change",{originalEvent:t}),o,e[o])}),e)}),t.is("[mbr-article]")&&t.attr({"data-app-edit":"full","data-multiline":!0,"data-app-placeholder":p("Type Content")}),t.removeAttr("mbr-text mbr-article"),this.addNode(o,r),this.addProp(o,n.html()),this.flow.ignoreChildren()}),L.attr("mbr-article",L.handlers.attrs["mbr-text"]),["h1","h2","h3","h4","h5","h6","p"].forEach(function(t){L.tag(t,L.handlers.attrs["mbr-text"])}),L.attr("mbr-buttons",function(t,n,e,i){var o,r,a=this.getUName(),s=t.is("[mbr-buttons]")?"buttons":"menu",l=new L.Node(s,n).on("change",function(t,e){n.html(e)});t.attr({"data-app-edit":s,"mbr-static-html":a,"mbr-content-edit":a,"mbr-on-change-component-node":(r=(o=this).getUName(),o.addProp(r,function(t,e){var t=new L.NodeEvent("change",{originalEvent:t});o.emit("changeNode",t,a,(t=e[a],(t=b(c(t))).find("a").removeAttr("data-app-btn data-toolbar"),t.html()))}),r)}).attr(i,this.getUName()).find("a").attr({"data-app-btn":"true","data-app-placeholder":p("Type Text")}),"menu"==s&&t.attr("data-app-modern-menu",!0),this.addNode(a,l),this.addProp(a,t.html()),this.flow.ignoreChildren(),t.html("")}),L.attr("mbr-menu",L.handlers.attrs["mbr-buttons"]),L.attr("mbr-icon",function(t,n){var i,o=this.getUName(),e=b.extend(u.extractIconFont(t[0]),{link:"",newWindow:!1}),r=new L.Node("icon",n).on("change",function(t,e){w.update(n,e.iconFont)});n.closest("a").each(function(){e.link=b(this).attr("href")||"#",e.newWindow=b(this).is("[target=_blank]")}),w.init(n,e),t.attr({"mbr-media":o,"mbr-media-simple":!0,"mbr-on-click":(t=(i=this).getUName(),i.addProp(t,function(t,e){t.preventDefault(),t.stopPropagation(),u.Core.showMediaIconFontDialog(b.extend(!0,{},e[o]),function(t){e[o]=t,i.emit("changeNode",new L.NodeEvent("change"),o,e[o]),u.Core.updateGlobalComponents(i.getComponent()._id,function(t,e){for(var n in e)"_customHTML"!==n&&("object"===U(e[n])||"function"==typeof e[n]||/^_/g.test(n))||(e[n]=t[n]);d(e).update()})},t.target)}),t)}).removeAttr("mbr-icon"),this.addNode(o,r),this.addProp(o,{iconFont:e}),this.flow.ignoreChildren()}),L.tag("img",function(t,n){var i,o,r={active:!0},a=this.getUName(),e=new L.Node("image",n).on("change",function(t,e){m.update(n,e.image)}),s=(["src","alt","title","width","height"].forEach(function(t){var e=n.attr(t);(e||"width"!=t&&"height"!=t)&&(r[t]=e)}),r.src.indexOf(":/")<0&&r.src.indexOf("app/themes")<0&&0!==r.src.indexOf("@SITES@")&&(0===r.src.indexOf("../")?((s=(s=f(this.getComponent())).split("/")).splice(-2,2),s=s.join("/"),r.src=s+r.src.slice(2)):r.src=f(this.getComponent())+r.src),n.closest("a").each(function(){r.link=b(this).attr("href")||"#",r.linkInNewWindow=b(this).is("[target=_blank]")}),0<r.width&&(r.width=2*r.width),0<r.height&&(r.height=2*r.height),t.closest("amp-img")),l=!1,c=!1;b(s).hasClass("image-without-link")&&(c=!0),b(s).is(".lb-image")&&(l=!0),!b(s).attr("lightbox")&&""!=b(s).attr("lightbox")||(r.lightbox=b(s).attr("lightbox")||!0),t.attr({"mbr-media":a,"mbr-media-simple":!0,"mbr-on-click":(s=(o=this).getUName(),o.addProp(s,function(t,e){t.preventDefault(),t.stopPropagation(),i={width:2*b(t.target).width()},u.showMediaImageDialog(b.extend(!0,{},e[a],{image:i}),function(t){e[a]=t,o.emit("changeNode",new L.NodeEvent("change"),a,e[a]),u.Core.updateGlobalComponents(o.getComponent()._id,function(t,e){for(var n in e)"_customHTML"!==n&&("object"===U(e[n])||"function"==typeof e[n]||/^_/g.test(n))||(e[n]=t[n]);d(e).update()})},!1,c,!1,e._id,l,b(t.target))}),s)}),this.addNode(a,e),this.addProp(a,{image:r})}),L.attr("mbr-video",function(t,n){var i,o=this.getUName(),r={active:!0,src:"http://www.youtube.com/watch?v=uNCr7NdOJgw",aspectratio:"16:9",autoplay:!1,loop:!1},e=new L.Node("video",n).on("change",function(t,e){B.update(n,e.video)});n.find("iframe:last").each(function(){var t,e=b(this),n=e.attr("height"),i=e.attr("width"),e=e.attr("src");e&&(r.src=e,t=(e=new URL(r.src)).searchParams.get("autoplay"),e=e.searchParams.get("loop"),r.autoplay="1"===t||void 0===t,r.loop="1"===e||void 0===e),i&&n&&i/n<1.4&&(r.aspectratio="4:3")}),t.attr({"mbr-media":o,"mbr-on-click":(t=(i=this).getUName(),i.addProp(t,function(t,e){t.preventDefault(),t.stopPropagation(),u.showMediaVideoDialog(b.extend(!0,{},e[o]),function(t){e[o]=t,i.emit("changeNode",new L.NodeEvent("change"),o,e[o]),u.Core.updateGlobalComponents(i.getComponent()._id,function(t,e){for(var n in e)"_customHTML"!==n&&("object"===U(e[n])||"function"==typeof e[n]||/^_/g.test(n))||(e[n]=t[n]);d(e).update()})})}),t)}).removeAttr("mbr-video").html(""),this.addNode(o,e),this.addProp(o,{video:r}),this.flow.ignoreChildren()}),L.attr("mbr-if",function(t,e,n,i){var o;n?(n=this.getScript(n))?(o=this.getUName(),this.addProp(o,this.createFunction(n)),o="this | fakeFilter "+[o].concat(n.getDependencies().map(function(t){return"_params."+t})).join(" "),"mbr-style"==i?t.removeAttr(i).attr("mbr-style2",o):t.attr(i,o)):"mbr-style"==i?t.removeAttr(i):t.attr(i,"false"):t.removeAttr(i)}),L.attr("mbr-style",L.handlers.attrs["mbr-if"]),L.attr("mbr-form",function(t,n,e,i){var r={title:"",action:"",alerts:{},fields:{}},o="FORM"==t[0].tagName?t:t.find("form"),a=t.find("[data-form-alert]").html(),s=this.getUName(),l=new L.Node("form",n).on("change",function(t,e){y.update(n,e)});r.title=o.attr("name"),r.action=o.attr("action")||u.getUserInfo().email,a&&(r.alerts.success=a.trim()),b(o[0].elements).each(function(){var t,e=b(this).attr("name"),n=b(this).attr("data-form-field")||"",i=b(this).attr("placeholder")||"",o=!b(this).attr("hidden");null!=b(this).attr("type")?t=b(this).attr("type"):b(this).is("select")?t="select":b(this).is("textarea")&&(t="textarea"),e&&(r.fields[e]={visible:o,title:n,customTitle:i,type:t})}),t.removeAttr(i),this.addNode(s,l),this.addProp(s,r),y.update(o,r),o.attr({action:"https://mobirise.eu/","mbr-form":s}).removeAttr("name")}),L.attr("mbr-theme-style",function(t,n,e,i){var o,r,a;e&&"secondary"===u.theme.type&&(o=this.getUName(),t.attr({"mbr-class-var":o,"mbr-on-change-theme-style":(a=(r=this).getUName(),r.addProp(a,function(t,e){n.attr(i,t.themeStyle),r.emit("changedTemplate",r.sourceFragment.innerHTML)}),a)}),this.addProp(o,e)),t.removeAttr(i)}),u.on("formoidSucces",function(t,e,n,i){t=u.Core.getComponent(t);l(t)&&(y.update(i,n),d(t).changeNode(e,n))}),E=/(\{\{[\s\S]*?\}\})/,A=function(t){return t.replace(/\\{\\{/g,"{{").replace(/\\}\\}/g,"}}")},L.attr("mbr-class",function(t,e,n,i){t.removeAttr(i);var i=e.attr("class");i&&E.test(i)&&(e=R(i),n=n?"["+e+", "+n+"]":e),n&&(i=this.getScript(n))&&(e=this.getUName(),this.addProp(e,this.createFunction(i)),n="this | fakeFilter "+[e].concat(i.getDependencies().map(function(t){return"_params."+t})).join(" "),t.attr("mbr-class2",n))}),L.attr("*",function(t,e,n,i){var o;/^mbr-/.test(i)?t.removeAttribute(i):E.test(n)?"class"==i?(e.hasAttribute("mbr-class")||L.handlers.attrs["mbr-class"].call(this,b(t),b(e),"","mbr-class"),t.removeAttribute(i)):(e=R(n),(e=this.getScript(e))&&(o=this.getUName(),this.addProp(o,this.createFunction(e)),o="this | fakeFilter "+[o].concat(e.getDependencies().map(function(t){return"_params."+t})).join(" "),b(t).removeAttr(i).attr("mbr-"+i,o+" | toNULL"))):t.getAttribute(i)===n&&"["!=i[0]&&t.setAttribute(i,A(n))})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("carousel",function(t,e,r){var a=e.Arrivo;a.param("input[type=carousel]",function(t,e,n){e=e||"Slides";var i=this.getComponentsDir()+"_images/",o=t.attr("name")||this.getUName();this.addParam(o+"__autoplay",new a.Param({type:"select",title:r("Autoplay"),values:{false:"False",hover:"Pause on hover",true:"Autoplay"},default:"false"}).protect()),this.addParam(o+"__autoplayInterval",new a.Param({type:"range",title:r("Autoplay Interval (ms)"),min:1e3,max:8e3,inline:!0,default:4e3,step:1e3,condition:o+"__autoplayCondition"}).protect()),this.addProp(o+"__autoplayCondition",function(){return"false"!==this._params[o+"__autoplay"]}),this.addProp("carouselFunction",function(t){return("hover"===t||"true"===t)&&"carousel"}),this.addProp("intervalFunction",function(t){return!/^false/.test(t)&&t.replace(/^hover |true /,"")}),this.addParam(o+"__showBullets",new a.Param({type:"switch",title:r("Show Bullets"),default:!0}).protect()),this.addParam(o,new a.Param({type:"image-tabs",subtype:"carousel",title:e,_params:(e=o,{playVideo:{type:"switch",title:r("Play Video"),default:!1},videoUrl:{type:"text",title:r("Youtube or Vimeo"),condition:[e+".playVideo"],default:"https://www.youtube.com/watch?v=fwkKc6M60-0"},image:{type:"image",title:r("Image"),condition:["!"+e+".playVideo"]},showTitle:{type:"switch",title:r("Show Title")},showText:{type:"switch",title:r("Show Text")},showButtons:{type:"switch",title:r("Show Buttons")},overlay:{type:"switch",title:"Overlay",default:!1},overlayColor:{type:"color",title:r("Color"),default:"#000000",condition:[e+".overlay"]},overlayOpacity:{type:"range",title:r("Opacity"),min:0,max:1,step:.1,inline:!0,default:.5,condition:[e+".overlay"]},contentAlign:{type:"select",title:r("Content Align"),values:{left:"left",center:"center",right:"right"}}}),default:[{image:(e=i)+"background1.jpg",active:!0,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:r(""),title:r(""),textTitle:r("FULL SCREEN SLIDER"),overlay:!0,contentAlign:"center",text:r("Choose from the large selection of latest pre-made blocks - jumbotrons, hero images, parallax scrolling, video backgrounds, hamburger menu, sticky header and more."),buttons:'<a data-app-btn="true" class="btn btn-success" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR MAC")+"</a>"},{image:e+"background2.jpg",active:!1,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:r(""),title:r(""),textTitle:r("VIDEO SLIDE"),overlay:!0,contentAlign:"left",text:r("Slide with youtube video background and color overlay. Title and text are aligned to the left."),buttons:'<a data-app-btn="true" class="btn btn-primary" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR MAC")+"</a>"},{image:e+"background3.jpg",active:!1,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:r(""),title:r(""),textTitle:r("IMAGE SLIDE"),overlay:!0,contentAlign:"right",text:r("Choose from the large selection of latest pre-made blocks - jumbotrons, hero images, parallax scrolling, video backgrounds, hamburger menu, sticky header and more."),buttons:'<a data-app-btn="true" class="btn btn-info" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR MAC")+"</a>"}]}).elm(t).protect())}),a.attr("mbr-carousel",function(t,e,n,i){t.html(n?'<div class="mbr-slider slide carousel" mbr-data-ride="_params.%paramName%__autoplay | fakeFilter carouselFunction" mbr-data-bs-ride="_params.%paramName%__autoplay | fakeFilter carouselFunction" mbr-data-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-bs-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-bs-pause="_params.%paramName%__autoplay" mbr-data-pause="_params.%paramName%__autoplay" data-keyboard="false" data-bs-keyboard="false"><ol class="carousel-indicators" mbr-if="_params.%paramName%__showBullets"><li data-app-prevent-settings mbr-each-this="_params.%paramName%" mbr-data-target="_anchor | pref \'#\'" mbr-data-target="_anchor | pref \'#\'" mbr-data-bs-target="_anchor | pref \'#\'" mbr-class-active="this.active" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"></li></ol><div class="carousel-inner" role="listbox"><div class="carousel-item slider-fullscreen-image"mbr-each-this="_params.%paramName%"mbr-bg-image="this.image | unless this.playVideo"mbr-data-bg-video-slide="this.videoUrl | if this.playVideo"mbr-class-active="this.active"><div class="mbr-overlay" mbr-if="this.overlay | if this.playVideo" mbr-opacity="this.overlayOpacity" mbr-bg-color="this.overlayColor"></div><div class="container container-slide"><div class="image_wrapper"><div class="mbr-overlay" mbr-if="this.overlay | unless this.playVideo" mbr-opacity="this.overlayOpacity" mbr-bg-color="this.overlayColor"></div><img mbr-unless="this.playVideo" mbr-src="this.image" mbr-alt="this.alt" mbr-title="this.title"><div class="carousel-caption justify-content-center"><div class="col-10"mbr-class-align-left="this.contentAlign | eq \'left\'"mbr-class-align-center="this.contentAlign | eq \'center\'"mbr-class-align-right="this.contentAlign | eq \'right\'"><h2 class="mbr-fonts-style" mbr-class-var="this.customStyle1" mbr-if="this.showTitle" mbr-static-html="this.textTitle" mbr-content-edit="this.textTitle" data-app-edit="content" data-app-placeholder="Type Title"></h2><p class="lead mbr-text mbr-fonts-style"mbr-class-var="this.customStyle2"mbr-if="this.showText"mbr-static-html="this.text" mbr-content-edit="this.text" data-app-edit="content"data-app-placeholder="Type Text"></p><div class="mbr-section-btn"mbr-buttons mbr-if="this.showButtons | if this.buttons"mbr-static-html="this.buttons" mbr-content-edit="this.buttons" mbr-class-var="this.customStyle3" data-app-edit="buttons"data-toolbar="-mbrBtnMove"></div></div></div></div></div></div></div><a data-app-prevent-settings class="carousel-control carousel-control-prev" mbr-href="_anchor | pref \'#\'" role="button" data-slide="prev" data-bs-slide="prev"><span aria-hidden="true" class="mbri-left mbr-iconfont"></span><span class="sr-only visually-hidden">Previous</span></a><a data-app-prevent-settings class="carousel-control carousel-control-next" mbr-href="_anchor | pref \'#\'" role="button" data-slide="next" data-bs-slide="next"><span aria-hidden="true" class="mbri-right mbr-iconfont"></span><span class="sr-only visually-hidden">Next</span></a></div>'.replace(/%paramName%/g,n):""),this.flow.ignoreChildren();t=e.is("["+i+"-embedded]");this.addParam(n+"__embedded",new a.Param({default:t})),(e=this.getParam(n))&&(t?e.prop("fullscreen",!0):e.prop("default").forEach(function(t){t.customStyle1="display-2",t.customStyle2="display-7",t.showTitle=!1,t.showButtons=!1,t.contentAlign="center"}))})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("gallery",function(h,t,a){var s=t.Arrivo,m='\x3c!-- Filter --\x3e<div class="mbr-gallery-filter container" mbr-if="_params.%paramName%__filter" mbr-class-gallery-filter-active="_params.%paramName%__filter"><ul data-toolbar="-mbrBtnMove,-mbrBtnAdd,-mbrBtnRemove,-mbrLink,-mbrFonts,-mbrFontSize,-iconFont" data-app-edit="buttons"></ul></div>\x3c!-- Gallery --\x3e<div class=\'mbr-gallery-row\' mbr-class-container="fullWidth"><div class="mbr-gallery-layout-default"><div><div><div class="mbr-gallery-item" mbr-add-class="\'mbr-gallery-item--p\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-data-tags="this.tags"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-item > div > span" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div></div><div class="clearfix"></div></div></div>',g='\x3c!-- Gallery --\x3e<div class=\'gallery-row\' mbr-class-container="fullWidth"><div class="mbr-gallery-layout-default"><div  mbr-add-class="\'row justify-content-center m-0\' | if _params.%paramName%__flexDirection"><div class=\'row-first row justify-content-center m-0\' mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__firstCount | pref \'col-lg-\' | concatenatio _params.%paramName%__firstCount | fakeFilter suffMD  | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="_params.%paramName%__firstCount | gt index"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-second row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 1"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__secondCount | pref \'col-lg-\' | concatenatio _params.%paramName%__secondCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-third row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 2"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__thirdCount | pref \'col-lg-\' | concatenatio _params.%paramName%__thirdCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | concatenatio _params.%paramName%__thirdCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-fourth row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 3"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__fourthCount | pref \'col-lg-\' | concatenatio _params.%paramName%__fourthCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | concatenatio _params.%paramName%__thirdCount | concatenatio _params.%paramName%__fourthCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt="" ><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div></div><div class="clearfix"></div></div></div>';s.param("input[type=gallery]",function(t,e,n){e=e||"Gallery";var i=this.getComponentsDir()+"_images/",o=t.attr("name")||this.getUName(),r=t.attr("subtype")||"default";"flex"===r&&(this.addParam(o+"__flexDirection",new s.Param({type:"switch",title:a("Row/Column"),default:!1})),this.addParam(o+"__count",new s.Param({type:"range",min:1,max:4,title:a("Containers Count"),inline:!0,default:2})),this.addParam(o+"__firstCount",new s.Param({type:"range",min:1,max:4,title:a("1st Container Items"),inline:!0,default:4})),this.addParam(o+"__secondCount",new s.Param({type:"range",min:1,max:4,title:a("2nd Container Items"),inline:!0,default:4,condition:o+"__secondCountCondition"})),this.addParam(o+"__thirdCount",new s.Param({type:"range",min:1,max:4,title:a("3rd Container Items"),inline:!0,default:4,condition:o+"__thirdCountCondition"})),this.addParam(o+"__fourthCount",new s.Param({type:"range",min:1,max:4,title:a("4th Container Items"),inline:!0,default:4,condition:o+"__fourthCountCondition"})),this.addProp(o+"__secondCountCondition",function(){return 1<this._params[o+"__count"]}),this.addProp(o+"__thirdCountCondition",function(){return 2<this._params[o+"__count"]}),this.addProp(o+"__fourthCountCondition",function(){return 3<this._params[o+"__count"]}),this.addProp("suffMD",function(t){var e;return!!t&&(e="3"==t[t.length-1]?"col-md-4":"col-md-6",t.substring(0,t.length-1)+e)}),this.addProp("filterImg",function(t){var e=t.split(" ");if(e.length){for(var t=Number(e[0]),n=Number(e[1]),i=Number(e[e.length-1]),o=2;o<e.length-1;o++)n+=Number(e[o]);return i+=n,n<=t&&t<i}return!1})),this.addParam(o+"__spacing",new s.Param({type:"range",min:0,max:"flex"===r?5:6,title:"Spacing",inline:!0,default:1})),this.addParam(o+"__showBullets",new s.Param({type:"switch",title:a("Show Bullets"),default:!0})),this.addParam(o+"__showText",new s.Param({type:"switch",title:a("Show Text"),default:!1})),"flex"!==r&&(this.addParam(o+"__filter",new s.Param({type:"switch",title:a("Show Tags"),default:!1})),this.addParam("text_all",new s.Param({type:"hidden",default:"All"}).elm(t).protect()),this.addParam(o+"__filtersTextStyle",new s.Param({type:"hidden",default:"display-7"}).elm(t).protect()),this.addParam(o+"__filtersBtnStyle",new s.Param({type:"hidden",default:"btn-primary-outline"}).elm(t).protect())),this.addParam(o,new s.Param({type:"image-tabs",title:e,defaultImg:i+"logo.jpg",_params:function(t,e,n){return n=2<arguments.length&&void 0!==n&&n,e={videoPreview:{default:e+"gallery/preview.jpg"},playVideo:{type:"switch",title:a("Play Video"),default:!1},videoUrl:{type:"text",title:a("Video URL"),condition:[t+".playVideo"],default:"https://www.youtube.com/watch?v=xTvvQ65jWVs"},image:{type:"image",title:a("Image"),condition:["!"+t+".playVideo"]}},n||(e.tags={type:"text",title:a("Tags"),default:a("Awesome image"),condition:[t+"__filter"]}),e}(o,i,"flex"===r),default:function(t){for(var e=[],n=[a("Awesome"),a("Responsive"),a("Creative"),a("Animated"),a("Awesome"),a("Awesome"),a("Responsive"),a("Animated")],i=0;i<8;i++)e.push({tags:n[i],videoPreview:t+"gallery/preview.jpg",playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",image:t+"gallery/gallery0"+i+".jpg",thumb:t+"gallery/gallery0"+i+".jpg",alt:"",title:"",customStyle1:"display-7",caption:a("Type caption here"),active:!i});return e}(i)}).elm(t).protect())}),t.on("beforeAppLoad",function(){t.iwindow.rivets.formatters.concatenatio=new t.iwindow.Function("v, v1",'if (!v) if(v != "0") v="";if (!v1) if(v1 != "0") v1= "";return v + " " + v1;')}),s.attr("mbr-gallery",function(t,n,i,e){var o=e+"-show-text",r=e+"-show-bullets",a=e+"-show-filter",s=e+"-spacing",l=e+"-count",c=e+"-first-count",d=e+"-second-count",u=e+"-third-count",p=e+"-fourth-count",f=e+"-flex-vertical";t.html(i?((n.is("["+l+"]")?g:m)+'\x3c!-- Lightbox --\x3e<div data-app-prevent-settings class="mbr-slider modal fade carousel slide" mbr-id="_anchor | pref \'lb-\'" tabindex="-1" data-keyboard="true" data-bs-keyboard="true" data-interval="false" data-bs-interval="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><ol class="carousel-indicators" mbr-if="_params.%paramName%__showBullets"><li data-app-prevent-settings mbr-each-this="_params.%paramName%" mbr-data-target="_anchor | pref \'#lb-\'" mbr-data-bs-target="_anchor | pref \'#lb-\'" mbr-class-active="this.active" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"></li></ol><div class="carousel-inner"><div class="carousel-item" mbr-class-active="this.active" mbr-each-this="_params.%paramName%" mbr-class-video-container="this.playVideo"><img mbr-src="this.image" mbr-alt="this.alt" mbr-title="this.title"></div></div><a class="carousel-control carousel-control-prev" mbr-href="_anchor | pref \'#lb-\'" role="button" data-slide="prev" data-bs-slide="prev"><span class="mbri-left mbr-iconfont" aria-hidden="true"></span><span class="sr-only visually-hidden">Previous</span></a><a class="carousel-control carousel-control-next" mbr-href="_anchor | pref \'#lb-\'" role="button" data-slide="next" data-bs-slide="next"><span class="mbri-right mbr-iconfont" aria-hidden="true"></span><span class="sr-only visually-hidden">Next</span></a><a class="close" href="#" role="button" data-dismiss="modal" data-bs-dismiss="modal"><span class="sr-only visually-hidden">Close</span></a></div></div></div></div>').replace(/%paramName%/g,i):""),this.addProp(i+"__filters",new Function("","var className = this._params."+i+'__filtersBtnStyle; return "<li class=\\"mbr-gallery-filter-all active\\"><a class=\\"btn btn-md " + className + "\\" data-app-btn=\\"true\\" data-app-placeholder=\\"Type Text\\" href>" + this._params.text_all + "</a></li>";')),this.addProp(i+"__onChangeFiltersBtnStyle",function(t,e){e._params[i+"__filtersBtnStyle"]=t.addedClass}),this.addProp(i+"__onChangeFiltersBtnText",function(t,e){t=h(t.target).find(".mbr-gallery-filter-all a").html();e._params.text_all=t}),t.find(".mbr-gallery-filter ul").attr({"mbr-buttons":"","mbr-static-html":i+"__filters","mbr-content-edit":i+"__filters","mbr-class-var":"_params."+i+"__filtersTextStyle","mbr-on-change-button-color":i+"__onChangeFiltersBtnStyle","mbr-on-change-component-node":i+"__onChangeFiltersBtnText"}),this.flow.ignoreChildren(),i&&((e=this.getParam(i+"__flexDirection"))&&e.on("change",function(t,e){e?n.attr(f,""):n.removeAttr(f)}).prop("default",n.is("["+f+"]")),(e=this.getParam(i+"__showText"))&&e.on("change",function(t,e){e?n.attr(o,""):n.removeAttr(o)}).prop("default",n.is("["+o+"]")),(e=this.getParam(i+"__showBullets"))&&e.on("change",function(t,e){e?n.attr(r,""):n.removeAttr(r)}).prop("default",n.is("["+r+"]")),(e=this.getParam(i+"__filter"))&&e.on("change",function(t,e){e?n.attr(a,""):n.removeAttr(a)}).prop("default",n.is("["+a+"]")),(e=this.getParam(i+"__spacing"))&&e.on("change",function(t,e){-1<e?n.attr(s,e):n.removeAttr(s)}).prop("default",parseInt(n.attr(s))||0),(e=this.getParam(i+"__count"))&&e.on("change",function(t,e){0<e?n.attr(l,e):n.removeAttr(l)}).prop("default",parseInt(n.attr(l))||1),(e=this.getParam(i+"__firstCount"))&&e.on("change",function(t,e){0<e?n.attr(c,e):n.removeAttr(c)}).prop("default",parseInt(n.attr(c))||1),(e=this.getParam(i+"__secondCount"))&&e.on("change",function(t,e){0<e?n.attr(d,e):n.removeAttr(d)}).prop("default",parseInt(n.attr(d))||1),(e=this.getParam(i+"__thirdCount"))&&e.on("change",function(t,e){0<e?n.attr(u,e):n.removeAttr(u)}).prop("default",parseInt(n.attr(u))||1),e=this.getParam(i+"__fourthCount"))&&e.on("change",function(t,e){0<e?n.attr(p,e):n.removeAttr(p)}).prop("default",parseInt(n.attr(p))||1)})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("map",function(t,e,r){var a=e.Arrivo;a.param("input[type=map]",function(n,t,e){var i=n.attr("place-id"),o={address:'<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d6045.3003145248895!2d-73.9884657!3d40.7477229!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259a9ac1f1b85%3A0x7e33d1c0e7af3be4!2zMzUwIDV0aCBBdmUsIE5ldyBZb3JrLCBOWSAxMDExOCwg0KHQqNCQ!5e0!3m2!1sru!2sru!4v1689597362021!5m2!1sen!2sen" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'};return i&&i!=o.placeId&&(o.placeId=i,o.address=e),new a.Param({type:"map",title:t||r("Address"),default:o}).elm(n).on("change",function(t,e){n.attr({"place-id":e.address,value:e.address})})}),a.attr("mbr-map",function(t,e,n){n&&t.attr("mbr-map","_params."+n).html(""),this.flow.ignoreChildren()})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("shop",function(u,p,f){var h,l=p.Arrivo,m='\x3c!-- Shop Gallery --\x3e<div class=" col-md-12 sort-buttons clearfix" mbr-if="_params.%paramName%__showSortButtons"><div class="sort-buttons"><div class="filter-by-d mbr-section-btn item-button" data-app-edit="content" mbr-html="_params.filter_by_d" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div><div class="filter-by-pu mbr-section-btn" data-app-edit="content" mbr-class-var="this.customStyle7" mbr-html="_params.filter_by_pu" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div><div class="filter-by-pd mbr-section-btn" data-app-edit="content" mbr-class-var="this.customStyle7" mbr-html="_params.filter_by_pd" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div></div></div><div class="row mbr-shop__row col-md-12"><div class="wrapper-shop-items" mbr-class-col-md-12="\'true\' | unless _params.%paramName%__showSidebar" mbr-class-col-xl-9="_params.%paramName%__showSidebar" ><div class="mbr-gallery-row"><div mbr-class-col-md-8="articleLayout" mbr-class-offset-md-2="articleLayout"><div class="shop-items"><div class="mbr-gallery-item" mbr-each-this="_params.%paramName%" mbr-data-tags="this.tags" mbr-data-seller="this.bestSeller" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div class="item_overlay"></div><div class="galleryItem"><div class="style_overlay"></div><div class="img_wraper"><img mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"></div><span class="onsale mbr-fonts-style" mbr-class-var="this.customStyleSale" data-app-selector=".onsale" mbr-html="this.sale" mbr-data-onsale="this.onSale" mbr-show="this.onSale" mbr-content-edit="this.sale" data-app-edit="content" data-app-placeholder="'+f("Sale")+'"></span><div class="sidebar_wraper"><h4 class="item-title mbr-fonts-style mbr-text" mbr-class-var="this.customStyle5" data-app-selector=".item-title" mbr-html="this.itemTitle" mbr-content-edit="this.itemTitle" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="price-block"><span class="shop-item-price mbr-fonts-style" mbr-class-var="this.customStyle5" data-app-selector=".shop-item-price,.price-block" mbr-html="this.itemPrice" mbr-content-edit="this.itemPrice" data-app-edit="content" data-app-placeholder="'+f("Type Price")+'"></span><span class="oldprice mbr-fonts-style" mbr-class-var="this.customStyle7" data-app-selector=".oldprice,.price-block" mbr-html="this.oldPriceValue" mbr-content-edit="this.oldPriceValue" data-app-edit="content" mbr-show="this.oldPrice" data-app-placeholder="'+f("Type Price")+'"></span></div><div class="card-description" mbr-html="this.itemDescription" data-app-edit="full" data-multiline data-app-selector=".card-description" data-app-placeholder="'+f("Type Caption")+'"></div><div class="mbr-section-btn" mbr-buttons mbr-html="this.button" mbr-content-edit="this.button" mbr-class-var="this.customStyle7" mbr-show="_params.%paramName%__showCardButtons"data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrBtnAdd,-mbrFonts,-mbrBtnRemove,-mbrFontSize,-iconFont"></div></div></div></div></div></div><div class="clearfix"></div></div></div><div class="col-xl-3 sidebar" mbr-if="_params.%paramName%__showSidebar"><div class="sidebar-background"></div><div class="sidebar-block container bestseller-block" mbr-if="_params.%paramName%__showBestSellers"><h4 data-app-edit="content"class="sidebar-title mbr-fonts-style mbr-text"mbr-class-var="this.customStyle7"data-app-selector=".sidebar-title"mbr-html="_params.sidebar1" mbr-content-edit="_params.sidebar1" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="bestsellers col-md-12" onselectstart="return false"><div class="bestsellers-img"></div><div class="bestsellers-title"></div></div></div><div class="sidebar-block container range-slider" mbr-if="_params.%paramName%__showPriceRange"><h4 class="sidebar-title mbr-fonts-style mbr-text"mbr-class-var="this.customStyle7" data-app-selector=".sidebar-title" mbr-html="_params.sidebar2" mbr-content-edit="_params.sidebar2" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="filter-cost" onselectstart="return false"><div class="price-controls"><label class="min-price"><input class="min-input" type="text" value="auto" name="min"></label><label class="max-price"><input class="max-input" type="text" value="auto" name="max"></label></div><div class="range-controls"><div class="scale"><div class="bar"></div></div><div class="toggle min-toggle"></div><div class="toggle max-toggle"></div></div></div> <div class="price-range mbr-section-btn" mbr-buttons mbr-static-html="_params.price_range" mbr-content-edit="_params.price_range" mbr-class-var="this.customStyle7" data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrLink,-mbrBtnRemove,-mbrFonts,-mbrFontSize,-mbrBtnAdd,-iconFont"></div><div class="price-range-reset mbr-section-btn" mbr-buttons mbr-static-html="_params.price_range_reset" mbr-content-edit="_params.price_range_reset" mbr-class-var="this.customStyle7" data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrLink,-mbrBtnRemove,-mbrFonts,-mbrFontSize,-mbrBtnAdd,-iconFont"></div></div><div class="sidebar-block container sidebar-categories" mbr-if="_params.%paramName%__showTags"><h4 class="sidebar-title mbr-fonts-style mbr-text" mbr-class-var="this.customStyle7" data-app-selector=".sidebar-title" mbr-html="_params.sidebar3" mbr-content-edit="_params.sidebar3" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="categories col-md-12"><div class="categories-titles">\x3c!-- Filter --\x3e<div class="mbr-gallery-filter mbr-shop-filter container" mbr-class-gallery-filter-active="_params.%paramName%__showTags" mbr-class-gallery-filter><ul><li class="mbr-gallery-filter-all active display-7" mbr-html="_params.text_all" data-app-edit="content"></li> </ul></div></div></div></div></div></div>\x3c!-- Lightbox --\x3e<div class="shopItemsModal_wraper"><div class="shopItemsModalBg"></div><div class="shopItemsModal row"><div class="col-md-6 image-modal"></div><div class="col-md-6 text-modal"></div><div class="closeModal"><div class="close-modal-wrapper"></div></div></div></div>';function g(t){var e;switch(t){case"secondary":e="btn-secondary";break;case"success":e="btn-success";break;case"info":e="btn-info";break;case"warning":e="btn-warning";break;case"danger":e="btn-danger";break;case"white":e="btn-white";break;case"black":e="btn-black";break;default:e="btn-primary"}return e}l.param("input[type=shop]",function(t,e,n){e=e||"Shop";var i=this.getComponentsDir()+"_images/shop/",o=t.attr("name")||this.getUName();this.addParam(o+"__showSidebar",new l.Param({type:"switch",title:f("Show Sidebar"),default:!1}).protect()),this.addParam(o+"__reverseSidebar",new l.Param({type:"switch",title:f("Reverse Sidebar:"),default:!1,condition:[o+"__showSidebar"]}).protect()),this.addParam(o+"__showSortButtons",new l.Param({type:"switch",title:f("Show Sorting Buttons"),default:!1}).protect()),this.addParam(o+"__showBestSellers",new l.Param({type:"switch",title:f("Show Best Sellers"),default:!1,condition:[o+"__showSidebar"]}).protect()),this.addParam(o+"__showPriceRange",new l.Param({type:"switch",title:f("Show Price Range"),default:!1,condition:[o+"__showSidebar"]}).protect()),this.addParam(o+"__showTags",new l.Param({type:"switch",title:f("Show Tags"),default:!0,condition:[o+"__showSidebar"]}).protect()),this.addParam("text_all",new l.Param({type:"hidden",default:"All"}).elm(t).protect()),this.addParam("sidebar1",new l.Param({type:"hidden",default:"Best Sellers"}).elm(t).protect()),this.addParam("sidebar2",new l.Param({type:"hidden",default:"Price Range"}).elm(t).protect()),this.addParam("sidebar3",new l.Param({type:"hidden",default:"Tags"}).elm(t).protect()),this.addParam(o+"__filtersTextStyle",new l.Param({type:"hidden",default:"display-7"}).elm(t).protect()),this.addParam("buttons_default_class",new l.Param({type:"hidden",default:t.attr("buttons")}).elm(t).protect()),this.addParam("filter_by_d",new l.Param({type:"hidden",default:'<a class="btn btn-sm '+g(t.attr("buttons"))+' disableSortButton" href="">'+f("Default sorting")+"</a>"}).elm(t).protect()),this.addParam("filter_by_pu",new l.Param({type:"hidden",default:'<a class="btn btn-sm '+g(t.attr("buttons"))+'-outline disableSortButton" href="">'+f("Price: low to high")+"</a>"}).elm(t).protect()),this.addParam("filter_by_pd",new l.Param({type:"hidden",default:'<a class="btn btn-sm '+g(t.attr("buttons"))+'-outline disableSortButton" href="">'+f("Price: high to low")+"</a>"}).elm(t).protect()),this.addParam(o,new l.Param({type:"image-tabs",title:e,defaultImg:i+"logo.jpg",_params:(e=o,{bestSeller:{type:"switch",title:f("Best Seller"),default:!1},onSale:{type:"switch",title:f("On Sale"),default:!1},oldPrice:{type:"switch",title:f("Old Price"),default:!1},image:{type:"image",title:f("Image")},tags:{type:"text",title:f("Tags"),default:f("Awesome image"),condition:[e+"__showTags"]}}),default:function(t,e){for(var n=[],i=[f("Brown Glasses"),f("Men's Shoes"),f("Blue Backpack"),f("Red Snapback"),f("Black Glasses"),f("Women's Shoes"),f("Pink Backpack"),f("Red Cap")],o=[f("Awesome"),f("Wonderful"),f("Creative"),f("Awesome"),f("Responsive"),f("Creative"),f("Animated"),f("Awesome")],r=g(e._props.default),a=0;a<8;a++){var s=!1,l=!1,c=Math.floor(100*Math.random())+1;2===a&&(l=s=!0),n.push({tags:o[a],bestSeller:!1,onSale:s,oldPrice:l,itemTitle:i[a],itemDescription:f("Casual shoes (contact us for sizing)")+"<br><br><ul><li>"+f("Lightweight textured fabric")+"</li> <li>"+f("Rounded v-neckline")+"</li> <li>"+f("Pom pom trims")+"</li> <li>"+f("Regular fit â€“ true to size")+"</li></ul> <br>"+f("Duis auctor hendrerit nisi, at lacinia ex vulputate quis. Suspendisse convallis iaculis tortor, quis mattis lectus rutrum a.")+"<br><br>"+f("Product code: ")+"<b>385DDF5p</b>",itemPriceTitle:f("From: "),itemPrice:"$"+c,oldPriceValue:"$"+2*c,sale:"-50%",button:'<a data-app-btn="true" class="btn '+r+'" data-app-placeholder="'+f("Type Text")+'" href="https://mobirise.com">'+f("Buy now!")+"</a>",image:t+"shop"+a+".jpg",thumb:t+"shop"+a+".jpg",customStyle5:"display-5",customStyle7:"display-7",customStyleSale:"display-7",customStyleTags:"display-4",caption:f("Type caption here"),active:!a})}return n}(i,this.getParam("buttons_default_class"))}).elm(t).protect())}),l.attr("mbr-shop",function(t,n,c,e){t.html(c?m.replace(/%paramName%/g,c):""),this.addProp(c+"__onChangeFiltersBtnStyle",function(t,e){e._params[c+"__filtersTextStyle"]=t.addedClass}),this.addProp(c+"__onChangeFiltersBtnText",function(t,e){t=u(t.target).html();e._params.text_all=t}),t.find(".mbr-gallery-filter ul").attr({"mbr-buttons":"","mbr-content-edit":c+"__filters","mbr-class-var":"_params."+c+"__filtersTextStyle","mbr-on-change-button-color":c+"__onChangeFiltersBtnStyle","mbr-on-change-component-node":c+"__onChangeFiltersBtnText"}),t.find(".sidebar-title").attr({"mbr-on-change-component-node":c+"__onChangeFiltersText","mbr-on-change-text-color":c+"__onChangeFiltersBtnStyle","mbr-content-edit":c+"__showSidebar","mbr-class-var":"_params."+c+"__filtersTextStyle"}),this.addProp(c+"__onChangeFiltersBtnStyle",function(t,e){e._params[c+"__filtersBtnStyle"]=t.addedClass});var o,i,t=n.is("["+e+"-minimal");function r(t){var e,n,i,o,r=u(t.target).closest(".mbr-gallery-item"),t=u(t.target).closest(".mbr-shop");h=r.index(),t.find(".shopItemsModal_wraper").css("display","flex"),e=(r=r).closest(".mbr-shop").find(".shopItemsModal"),n=r.find(".sidebar_wraper").clone(),i=r.find("img").clone(),o=r.find(".onsale").clone(),d(r.closest(".mbr-shop")),u(e).find(".text-modal").append(n),u(e).find(".image-modal").append(i).append(o),t.find(".shopItemsModal").find("[data-app-btn]").removeClass("note-air-editor","note-editable")}function a(t){var e,n,i,o,r,a,s,l=u(t).closest(".mbr-shop"),t=p.Core.getComponent(u(t).closest(".app-component").attr("data-app-component-id"));e=h,t=t,i=u(n=l).find(".text-modal h4").html(),o=u(n).find(".text-modal .card-description").html(),r=u(n).find(".text-modal .shop-item-price ").html(),a=u(n).find(".image-modal .onsale ").html(),s=u(n).find(".text-modal .oldprice ").html(),n=u(n).find(".text-modal .mbr-section-btn"),(t=t._params[c][e]).itemTitle=i,t.itemDescription=o,t.itemPrice=r,t.sale=a,t.oldPriceValue=s,t.button=function(t){var e=t.find("a").length,o="";return e&&t.find("a").each(function(){var t=u(this).attr("href"),e=u(this).attr("class"),n=u(this).attr("target"),i=u(this).html();o+='<a data-app-btn="true" href="'+t+'" data-app-placeholder="'+f("Type Text")+'" class="'+e+(n?'" target="'+n:"")+'">'+i+"</a>"}),o}(n),u(l).find(".shopItemsModal_wraper").css("display","none"),d(l)}function d(t){t=u(t).find(".shopItemsModal");u(t).children(".text-modal").empty(),u(t).children(".image-modal").empty()}function s(t){function e(t){var o=u(this),e=o.closest("section").find(".mbr-gallery-row"),r=o.html().trim();o.parent().find("li").removeClass("active"),o.addClass("active"),i.find(".mbr-gallery-item:not(.bestsellers .mbr-gallery-item)").each(function(t,e){var n=u(this),i=n.attr("data-tags").split(",").map(function(t){return t.trim()});-1!=u.inArray(r,i)||o.hasClass("mbr-gallery-filter-all")?n.removeClass("mbr-gallery-item__hided"):(n.addClass("mbr-gallery-item__hided"),setTimeout(function(){n.css("left","300px")},200))}),setTimeout(function(){e.closest(".mbr-gallery-row").trigger("filter")},50)}var n,i=p.Core.$template.find("[data-app-component-id="+t+"] .app-component-content").find("section"),t=i.find(".mbr-gallery-filter-all"),o=[];i.find("div.mbr-shop").length&&(i.find(".mbr-gallery-item").each(function(t){(u(this).attr("data-tags")||"").trim().split(",").map(function(t){t=t.trim();-1==u.inArray(t,o)&&o.push(t)})}),0<i.find(".mbr-gallery-filter").length&&i.find(".mbr-gallery-filter").hasClass("gallery-filter-active")?(n="",i.find(".mbr-gallery-filter ul li:not(li:eq(0))").remove(),o.map(function(t){n+='<li class="display-7">'+t+"</li>"}),i.find(".mbr-gallery-filter ul").append(t).append(n),i.find(".mbr-gallery-filter ul li").off("click",e).on("click",e)):(i.find(".mbr-gallery-item__hided").removeClass("mbr-gallery-item__hided"),i.find(".mbr-gallery-row").trigger("filter")))}this.addParam(c+"__minimal",new l.Param({default:t})),t&&(i=this.getParam(c))&&i.prop("default").forEach(function(t){t.customStyleSale="display-4",t.sale="SALE"}),c&&((i=this.getParam(c+"__showSortButtons"))&&i.on("change",function(t,e){e?n.attr("sorting",""):n.removeAttr("sorting")}).prop("default",n.is("[sorting]")),(i=this.getParam(c+"__showSidebar"))&&i.on("change",function(t,e){e?n.attr(c+"__showSidebar",""):n.removeAttr(c+"__showSidebar")}).prop("default",n.is("[show-sidebar]")),(i=this.getParam(c+"__reverseSidebar"))&&i.on("change",function(t,e){e?o.find(".mbr-shop__row").removeClass("flex-row-reverse"):o.find(".mbr-shop__row").addClass("flex-row-reverse")}).prop("default",n.is("[show-sidebar]")),(i=this.getParam(c))&&i.on("change",function(t,e){var n=e.length-1,i=o.find(".mbr-gallery-item").eq(n);!0===e[n].onSale?i.find(".onsale").css("display","block").attr("data-onsale","true"):!1===e[n].onSale&&i.find(".onsale").css("display","none").attr("data-onsale","false"),!0===e[n].oldPrice?i.find(".oldprice").css("display","inline-block").attr("data-onsale","true"):!1===e[n].oldPrice&&i.find(".oldprice").css("display","none").attr("data-onsale","false"),e[n].hasOwnProperty("bestSeller")&&i.attr("mbr-data-seller")&&(o.find(".bestsellers").children().remove(),o.find(".shop-items").children().each(function(){var t;"true"==u(this).attr("data-seller")&&(t=u(this).clone(),o.find(".bestsellers").append(u(t)))}))}),p.Core.on("loadedComponent",function(e,t,n,i){if(s(e._id),o=p.Core.$template.find("[data-app-component-id="+e._id+"] .app-component-content"),!i&&"secondary"===p.theme.type&&e._plugins&&-1!==e._plugins.indexOf("mobirise-shop")&&(o.find(".item_overlay").off("click").on("click",function(t){r(t)}),o.find(".shopItemsModalBg, .close-modal-wrapper").attr("data-onclick")||o.find(".shopItemsModalBg, .close-modal-wrapper").attr("data-onclick","true").on("click",function(t){a(t.target)}),o.find(".bestsellers").html(""),o.find(".mbr-gallery-item").each(function(t){e._params[c][t].bestSeller&&u(this).attr("data-seller")&&(t=u(this).clone(),o.find(".bestsellers").append(u(t)))}),o.find(".mbr-gallery-item .mbr-section-btn").css("display","none")),i){try{n.find("section").attr("data-sortbtn",g(p.Core.getComponent(e._id)._params.buttons_default_class))}catch(t){}n.find(".shopItemsModal_wraper").css("z-index","2500"),n.find(".mbr-gallery-item>div").attr("data-bs-toggle","modal"),n.find(".mbr-gallery-item>div").attr("data-toggle","modal"),n.find(".item-button").css("text-align","center"),n.find(".item-button a").css({position:"relative",display:"inline-block"}),n.find(".bestsellers").children().remove(),n.find(".shop-items").children().each(function(){var t;"true"==u(this).attr("data-seller")&&(t=u(this).clone(),n.find(".bestsellers").append(u(t)))}),n.find(".shop-items .shop-item-price").each(function(){var t=u(this).html().match(/[+\-]?\d+(,\d+)?(\.\d+)?/)[0];u(this).closest(".mbr-gallery-item").attr("data-price",t)}),n.find(".shop-items .oldprice").each(function(){var t=u(this).html().match(/[+\-]?\d+(,\d+)?(\.\d+)?/)[0];u(this).closest(".mbr-gallery-item").attr("data-oldprice",t)}),e._params[c+"__showSortButtons"]?n.find(".sort-buttons").css("display","block"):n.find(".sort-buttons").css("display","none"),e._params[c+"__showSidebar"]&&!e._params[c+"__reverseSidebar"]?n.find(".mbr-shop__row").addClass("flex-row-reverse"):n.find(".mbr-shop__row").removeClass("flex-row-reverse")}}),p.Core.on("addComponentParamsTab",function(t){p.Core.$template.find("[data-app-component-id="+t+"] .app-component-content").find(".item_overlay").last().on("click",function(t){r(t)})}),p.Core.on("changedComponentParams",function(t){s(t)}))})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-pages",function(s,l,c,a){var e=!0;function i(){var t=l.getCurrentPageName(),e=(l.$navbarPageName.html(l.getPages()[t].settings.title||""),s(".navbar-project-info .app-page-url-separator")),n=s(".navbar-project-info .app-page-url");"index.html"===t?(e.hide(),n.html("")):(e.show(),n.html(t))}function d(t){for(var e=t.children().length,n=0;n<e;n++){var i=t.children().eq(n).find("a").attr("data-page");l.currentPageSettings=i,l.changePageSettings("order",n+1)}}function u(){l.$pageSettings.find(".page-settings-chrome-preview").hasClass("chrome-preview-mobile")?l.$pageSettings.find(".chrome-preview-url").text("https://yoursite.com"+("index.html"===l.currentPageSettings?"":" > "+l.currentPageSettings)):l.$pageSettings.find(".chrome-preview-url").text("https://yoursite.com/"+("index.html"===l.currentPageSettings?"":l.currentPageSettings))}var t={init:function(){function t(t){var e,n,i,o,r=l.Core.getPages();for(e in r)r.hasOwnProperty(e)&&r[e].settings.meta_image&&(n=r[e].settings.meta_image,i=(o=a.splitPath(n)).fullname,o=o.ext,t.push({srcList:[{src:n}],dest:l.IMAGES_FOLDER+"/"+i}),t.push({srcList:[{src:n}],dest:l.IMAGES_FOLDER+"/"+e.replace(/.html/gi,"")+"-meta."+o}));return t}l.$pageSettings.on("click","#metaShareImage",function(t){var e;s(t.target).is(":checked")?(e=t.currentTarget,l.Core.resultJSON[l.Core.currentPage].settings.meta_image?s(e).closest(".form-group").find(".social-sharing-on-users").css({display:"none"}):o().then(function(t){l.showMediaImageDialog({image:{width:2e3,quality:70,src:t||""}},n(e),!0)})):(t=t.currentTarget,delete l.Core.resultJSON[l.Core.currentPage].settings.meta_image,s(t).closest(".form-group").find(".social-sharing-on-mobirise").css({display:"none"}).find("img").attr("src",""),s(t).closest(".form-group").find(".social-sharing-on-users").css({display:"block"}))}),l.$pageSettings.on("click","img.social-sharing-on-mobirise__img",function(t){var e={image:{width:2e3,quality:70,src:s(t.currentTarget).attr("src")}};0<=e.image.src.indexOf(l.getAddonDir(l.theme.name).replace("web/",""))&&(e.image.src="../../"+e.image.src),l.showMediaImageDialog(e,n(!1,t.currentTarget),!0)}),l.on("cancelMediaImageDialog",function(t){l.$pageSettings.find(".social-sharing-on-mobirise__img").attr("src")||l.$pageSettings.find("#metaShareImage").trigger("click")}),l.on("closeMediaImageDialog",function(t){l.$pageSettings.find(".social-sharing-on-mobirise__img").attr("src")||l.$pageSettings.find("#metaShareImage").trigger("click")}),l.addFilter("publishHTML",function(t,e){var n=e.settings,i=n.meta_image,i=void 0===i?"":i,n=n.socialSharingUrl,n=void 0===n?"":n;return i?(i=a.splitPath(i).ext,i='<meta name="twitter:card" content="summary_large_image"/>\n  <meta name="twitter:image:src" content="'+l.IMAGES_FOLDER+"/"+e.settings.currentPageName.replace(/\.html/gi,"")+"-meta."+i+'">\n  <meta property="og:image" content="'+l.IMAGES_FOLDER+"/"+e.settings.currentPageName.replace(/\.html/gi,"")+"-meta."+i+'">\n  <meta name="twitter:title" content="'+e.settings.title+'">\n  ',t=t.replace('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"',i+'<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"')):n&&(i='<meta name="twitter:card" content="summary_large_image"/>\n  <meta name="twitter:image:src" content="'+n+'">\n  <meta property="og:image" content="'+n+'">\n  <meta name="twitter:title" content="'+e.settings.title+'">\n  ',t=t.replace('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"',i+'<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"')),t}),l.addFilter("publishFiles",t),l.addFilter("exportProjectFiles",t)}};function n(n,i){return function(t){var e;t.image.src?(0<=(t=t.image.src).indexOf(l.path2core(l.getAddonDir(l.theme.name)+"/components"))&&(t=t.replace(/^\.\.\/\.\.\//,"")),l.Core.resultJSON[l.Core.currentPage].settings.meta_image=t,i?(s(i).css({display:"block"}).attr("src",t),s(i).css({height:i.width/1.91})):(e=s(n).closest(".form-group").find(".social-sharing-on-mobirise").css({display:"block"}).find("img"),s(n).closest(".form-group").find(".social-sharing-on-users").css({display:"none"}),s(n).closest(".form-group").find(".social-sharing-on-mobirise").css({display:"block"}),e.on("load",function(){e.css({height:e.width()/1.91})}),e.css({display:"block"}),e.attr("src",t))):l.$pageSettings.find("#metaShareImage").trigger("click")}}function o(){return new Promise(function(o,t){var e=l.Core.currentPage,e=l.Core.resultJSON[e].components;e.length?e.some(function(t,e,n){var i;return-1!==t._name.search("menu")?e+1===n.length&&(o(),!0):(i=t._id,(i=(i=(l.Core.$template.find("[data-app-component-id="+i+"] > *").html().match(/<img[^>]* src=\"([^\"]*)\"[^>]*>/gi)||[]).map(function(t){return t.match(/<img[^>]* src=\"([^\"]*)\"[^>]*>/i)[1]})).map(function(t){return l.core2abs(t)})).length?(function t(e,n,i,o){e<n&&o(i[e]).catch(function(){t(++e,n,i,o)})}(0,Array.from(new Set(i)).length,Array.from(new Set(i)),function(i){return new Promise(function(t,e){var n=new Image;n.onload=function(){400<=n.width?o(i):e()},n.src=i})}),!0):t._params&&t._params.bg&&"image"===t._params.bg.type?(o(t._params.bg.value),!0):void(n.length-1===e&&o()))}):o()})}l.regExtension({name:"pages",global:{$navbarPageName:s(".app-page-name"),$pagesList:s("#app-pages-list"),$pagesListToggle:s(".pages-block"),currentPageSettings:void 0,$pageSettings:s("#app-page-settings"),pageSettingsInputs:"[data-page-settings]",showPagesList:function(){this.$body.hasClass("app-pages-list-open")&&this.$body.hasClass("app-page-settings-open")||(this.fire("showSideBarsSection",this.$pagesList),this.fire("showPagesList"),this.$body.removeClass("app-projects-list-open").addClass("app-sidebar-open app-pages-list-open"),this.fire("showedPagesList"))},hidePagesList:function(){(this.$body.hasClass("app-pages-list-open")||this.$body.hasClass("app-page-settings-open"))&&(this.fire("hidePagesList"),this.$body.removeClass("app-pages-list-open app-page-settings-open"),this.fire("hiddenPagesList"))},addPage:function(t,e,n,i,o){var r;if(n||(r=!0,n=(a=this.Core.addPage(t)).name,i=i||a.title,o&&(l.Core.resultJSON[n].components=o)),!n)return!1;i=l.escapeHtml(i),this.fire("addPage",n);var a=s(["<li"+(e?' class="main-page"':"")+">",'<a href="javascript:void(0)" class="clearfix">','<span data-tooltipster="bottom"'+(e?"":' title="'+c("Drag Page")+'"')+">"+i+"</span>",'<div class="btn-group">','<button class="btn btn-primary app-page-clone" data-tooltipster="bottom" title="'+c("Clone Page")+'">','<i class="mbr-icon-copy"></i>',"</button>",'<button class="btn btn-info app-page-settings" data-tooltipster="bottom" title="'+c("Page Settings")+'">','<i class="mbr-icon-cog"></i>',"</button>",e?"":'<button class="btn btn-material-red app-page-remove" data-tooltipster="bottom" title="'+c("Remove Page")+'"><i class="mbr-icon-trash"></i></button>','<button class="btn btn-info app-page-ok" data-tooltipster="bottom" title="'+c("OK")+'">','<i class="mbr-icon-check"></i>',"</button>","</div>","</a>","</li>"].join("")),o=(a.find(">a").attr({"data-page":n,"data-title":i}),a=this.applyFilter("addPage",a,n),this.$pagesList.find(".list .sortable-container"));return r?(!t||(e=this.$pagesList.find('.list li > a[data-page="'+t+'"]').parent()).hasClass("main-page")?o.prepend(a):e.after(a),d(o)):a.hasClass("main-page")?o.before(a):o.append(a),this.fire("addedPage",n,arguments),a},switchPage:function(t){var e=s(t).attr("data-page");s(t).attr("data-title");this.fire("switchPage",e),s(t).closest(".list").find("li").children("a").removeClass("active"),s(t).addClass("active"),this.$body.hasClass("app-page-settings-open")&&s(t).find(".app-page-settings").click(),this.Core.switchPage(e).then(function(){l.fire("switchedPage",e)})},removePage:function(t){var e,n=s(t).find("> a").attr("data-page");this.fire("removePage",n),this.Core.removePage(n)&&(s(t).find("[data-toggle=tooltip]").tooltip("destroy"),s(t).find("> a").hasClass("active")&&(e=!(e=s(t).prev()).length&&s(t).is(":first-child")?this.$pagesList.find(".main-page"):e).children("a").click(),s(t).remove(),this.fire("removedPage",n))},showPageSettings:function(t){var e,n,i=this,o=(i.currentPageSettings=t.attr("data-page"),i.fire("showPageSettings"),i.applyFilter("showPageSettings",s.extend(!0,{fileName:i.currentPageSettings},i.Core.getPages()[i.currentPageSettings].settings))),t=(i.$pageSettings.find(i.pageSettingsInputs).each(function(){var t=s(this).attr("data-page-settings");s(this).val(o[t]||"")}),i.pageNameFullEdit=i.applyFilter("pageNameFullEdit",!1),i.pageNameFullEdit||(t=i.$pageSettings.find('[data-page-settings="fileName"]'),e=o.fileName.substr(0,o.fileName.lastIndexOf(".")),n=o.fileName.substr(o.fileName.lastIndexOf(".")+1),(t.parent(".file-name-wrap").length?(t.next().html("."+n),t):t.wrap('<div class="file-name-wrap"></div>').after("<span>."+n+"</span>")).val(e)),i.$pageSettings.find("img.social-sharing-on-mobirise__img"));t.length&&s(t).css({height:t[0].width/1.91}),i.$body.removeClass("app-projects-list-open").addClass("app-sidebar-open app-page-settings-open"),i.fire("showedPageSettings")},changePageSettings:function(t,e,n){this.fire("changePageSettings",this.currentPageSettings),e=e.toString().trim(),this.pageNameFullEdit||"fileName"!==t||(e+=this.$pageSettings.find('[data-page-settings="fileName"]').next().html());var i=this.Core.changePageSettings(this.currentPageSettings,t,e);i?(this.$pagesList.find('[data-page="'+this.currentPageSettings.replace('"','\\"')+'"]').attr("data-page",i),this.currentPageSettings=i):"title"===t&&(i=e,(t=this.$pagesList.find('[data-page="'+this.currentPageSettings.replace('"','\\"')+'"]')).attr("data-title",i),n&&s(n.target).closest(".list").length?this.$pageSettings.find('[data-page-settings="title"]').val(i):t.find("span:eq(0)").html(i)),this.fire("changedPageSettings",this.currentPageSettings)},sortPagesByOrder:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push({key:e,value:t[e]});n.sort(function(t,e){return t.value.settings.order-e.value.settings.order});for(var i={},o=n.length,r=0;r<o;r++)i[n[r].key]=n[r].value;return i},getResultPage:function(t){var e=(t=s.extend(!0,{},t)).components;delete t.components,(t=l.Core.cleanJSONPlease(s.extend(!0,{},t))).components=e;for(var n=0;n<e.length;n++)l.Core.isSecondaryComponent(t.components[n])&&(t.components[n]=l.Core.transformSecondaryComponentForProject(t.components[n])),t.components[n]=l.Core.cleanJSONPlease(t.components[n]),delete t.components[n]._anchor,delete t.components[n]._cid;return t},getResultJSON:function(){return l.Core.resultJSON},getPagesList:function(t){return l.Core.getPagesList(t)},getCurrentPageName:function(){return l.Core.currentPage}},events:{load:function(){var o,r=this,e=(l.$pagesList.prepend('\n                    <div class="col-xs-12 search-page-wrap">\n                        <input class="search-page-input form-control" type="text" placeholder="'+c("Search")+'" value="">\n                    </div>\n                '),null);function n(t,e){r.$pagesList.find(".list .sortable-container").sortable("disable");var n=t.find("span:eq(0)"),t=(o=n.html(),t.children("a").addClass("editing"),n.attr("contenteditable",""),e&&"dblclick"===e.type?n.tooltipster("content",c("Edit Title")):n.attr("title",c("Edit Title")),document.createRange()),e=window.getSelection();t.selectNodeContents(n[0]),e.removeAllRanges(),e.addRange(t)}function a(t,e){var n=e.closest("[data-page]");n.removeClass("editing"),e.removeAttr("contenteditable"),n.closest("li").hasClass("main-page")?e.tooltipster("content",null):s(t.relatedTarget).hasClass("app-page-new")||s(t.relatedTarget).attr("data-page")?setTimeout(function(){e.tooltipster("content",c("Drag Page"))},300):e.tooltipster("content",c("Drag Page")),r.$pagesList.find(".list .sortable-container").sortable("enable")}l.$pagesList.find(".search-page-input").on("input",function(t){clearTimeout(e),e=setTimeout(function(){var n=t.target.value.toLowerCase();l.$pagesList.find(".main-page, .sortable-container li").each(function(t,e){e=s(e);e.find("[data-title]").attr("data-title").toLowerCase().includes(n)?e.removeClass("hidden"):e.addClass("hidden")})},100)}),r.$pagesListToggle.on("click",function(t){t.preventDefault(),t.stopPropagation(),r.showPagesList()}),r.$pagesList.on("click",function(t){t.stopPropagation()}),r.$pagesList.on("click",".app-layer-close",function(t){r.hidePagesList()}),r.on("clickBody",function(){r.hidePagesList()}),r.on("sidebarClosed",function(){r.hidePagesList()}),r.$pagesList.on("paste","li > .editing > span:first-child",function(t){t.preventDefault();t=((t.originalEvent||t).clipboardData||window.clipboardData).getData("text/plain");s(this).html(t)}),r.$pagesList.on("click",".app-page-new",function(t){l.applyFilter("getPagePreset",Promise.resolve()).then(function(t){t=r.addPage(void 0,void 0,void 0,void 0,t);n(t),t.children("a").click()}).catch(function(){})}),r.$pagesList.find(".list").on("click",".app-page-clone",function(){var t=s(this).parents("[data-page]:eq(0)").attr("data-page");t&&(n(t=r.addPage(t)),t.children("a").click())}),r.$pagesList.find(".list").on("click","li > a:not(.active, .app-page-new)",function(t){t.preventDefault(),r.switchPage(this)}),r.$pagesList.find(".list").on("click",".app-page-remove",function(t){t.preventDefault(),t.stopPropagation();var e=s(this).parent().parent().parent()[0],t=s(this).parents("[data-page]:eq(0)").attr("data-page")||"";r.confirmDlg(c("Remove page $page name$?").replace("$page name$"," <strong>"+t+"</strong>"),function(t){t&&r.removePage(e)})}),r.$pagesList.find(".list").on("dblclick","li > a:not(.editing, .app-page-new) > span:first-child",function(t){n(s(this).closest("li"),t)}),r.$pagesList.find(".list").on("blur keydown",".editing [contenteditable]",function(t){var e,n,i=s(this);"focusout"===t.type?(e=i.closest("[data-page]").attr("data-page")||"",n=i.html(),r.currentPageSettings=e,r.changePageSettings("title",n,t),a(t,i)):13===t.which?s(this).trigger("blur"):27===t.which&&(i.html(o),a(t,i))}),r.$pagesList.find(".list").on("click",".app-page-settings",function(t){t.preventDefault(),t.stopPropagation();t=s(this).parent().parent();r.showPageSettings(t)}),r.$pageSettings.on("click",function(t){t.stopPropagation()}),r.$pageSettings.on("click",".app-layer-close",function(t){r.$body.removeClass("app-page-settings-open")}),r.on("clickBody",function(){r.$body.removeClass("app-page-settings-open")}),r.$pageSettings.on("blur keyup paste",r.pageSettingsInputs,function(){r.changePageSettings(s(this).attr("data-page-settings"),s(this).val()),l.$pageSettings.find(".chrome-preview-title").text(l.Core.getPages()[l.currentPageSettings].settings.title||""),l.$pageSettings.find(".chrome-preview-description").text(l.Core.getPages()[l.currentPageSettings].settings.meta_descr||"")}),l.$pageSettings.on("click",".app-page-settings-chrome-preview-btn",function(){s(this).addClass("active").siblings().removeClass("active"),l.$pageSettings.find(".page-settings-chrome-preview").removeClass("chrome-preview-desktop chrome-preview-mobile").addClass(s(this).hasClass("chrome-preview-desktop-btn")?"chrome-preview-desktop":"chrome-preview-mobile"),l.$pageSettings.find(".page-settings-chrome-preview").hasClass("chrome-preview-mobile")?(l.isAMP()?l.$pageSettings.find(".chrome-preview-amp-icon").show():l.$pageSettings.find(".chrome-preview-amp-icon").hide(),l.$pageSettings.find(".chrome-preview-link").insertBefore(l.$pageSettings.find(".chrome-preview-title"))):(l.$pageSettings.find(".chrome-preview-link").insertAfter(l.$pageSettings.find(".chrome-preview-title")),l.$pageSettings.find(".chrome-preview-amp-icon").hide()),u()}),t.init(),l.$body.find(".navbar-project-info .app-page-name").on("click",function(t){t.preventDefault(),t.stopPropagation(),l.$pageSettings.find(".page-setting-title-wrap").removeClass("selected"),l.openSidebar(),setTimeout(function(){l.$pageSettings.find(".app-layer-cont").scrollTop(0),l.$pagesList.find(".list li > a.active .app-page-settings").click(),l.$pageSettings.find(".page-setting-title-wrap").addClass("selected")},300)}),l.$body.find(".navbar-project-info .app-page-url").on("click",function(t){t.preventDefault(),t.stopPropagation(),l.$pageSettings.find(".page-setting-url-wrap").removeClass("selected"),l.openSidebar(),setTimeout(function(){l.$pageSettings.find(".app-layer-cont").scrollTop(0),l.$pagesList.find(".list li > a.active .app-page-settings").click(),l.$pageSettings.find(".page-setting-url-wrap").addClass("selected")},300)})},loadedProject:function(){var n,t,e,i=this.$pagesList.find(".list"),o=(i.html('<li><a href="javascript:void(0)" class="app-page-new"><span><i class="mbr-icon-plus"></i> '+c("Create New Page")+'</span></a></li><div class="sortable-container"></div>'),this.Core.getPages());for(t in o)if(o[t].settings.main){o[t].settings.order=0;break}for(e in o=this.sortPagesByOrder(o)){var r=o[e].settings.main,a=o[e].settings.title,a=this.addPage(null,r,e,a);r&&a.children("a").click()}var s=i.find(".sortable-container");s.sortable({axis:"y",containment:"parent",tolerance:"pointer",start:function(t,e){n=e.item.index()},stop:function(t,e){e.item.css("left",""),e.item.index()!==n&&d(s)}})},showSideBarsSection:function(){this.hidePagesList()},showedPageSettings:function(){var t=l.projectSettings.favicon||l.findMenuLogo()||("secondary"===l.theme.type?"app/builder/images/logo5.png":"app/builder/images/logo.png");0===t.indexOf("../../")&&(t=t.replace("../../","")),u(),l.Core.getPages()[l.currentPageSettings].settings.main?l.$pageSettings.find(".page-settings-url-info").show():l.$pageSettings.find(".page-settings-url-info").hide(),l.$pageSettings.find(".chrome-preview-favicon").attr("src",t),l.$pageSettings.find(".chrome-preview-title").text(l.Core.getPages()[l.currentPageSettings].settings.title||""),l.$pageSettings.find(".chrome-preview-description").text(l.Core.getPages()[l.currentPageSettings].settings.meta_descr||""),e&&(l.$pageSettings.find(".chrome-preview-mobile-btn").click(),e=!1)},changedPageSettings:function(){u(),l.$pageSettings.find(".chrome-preview-title").text(l.Core.getPages()[l.currentPageSettings].settings.title||""),i()},switchedPage:function(t){var t=l.Core.getPages()[t].settings.meta_image||"",e=l.$pageSettings.find(".social-sharing-on-mobirise"),n=l.$pageSettings.find("#metaShareImage");e.hide(),t?(e.find("img").attr("src",t),e.show(),n.is(":checked")||n.trigger("click")):n.is(":checked")&&n.trigger("click"),i()}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var i=n(142),p=(i=i)&&i.__esModule?i:{default:i},v=n(23);defineM("app-projects",function(f,h,m){var d,t={settings:{name:name,currentPage:"index.html",theme:{name:h.DEFAULT_THEME,title:h.DEFAULT_THEME_TITLE}},pages:{"index.html":{settings:{main:!0,title:"Home",meta_descr:"",header_custom:"",footer_custom:"",html_before:""},components:[]}}},u={};function e(){h.$projectName.each(function(t,e){var n,e=f(e),i=e.closest(".navbar-url");i.find(".ext-link").remove(),i.length?h.projectSettings.mbrsite?(e.html(h.escapeHtml(h.getPublicDomain())).addClass("navbar-domain").tooltipster("content",m("Change Site Domain")),(n=f('<span class="ext-link hover-block-arrow pages-show mbr-icon-external-link"></span>')).css({cursor:"pointer","padding-left":"5px"}),n.on("click",function(){h.openUrl(h.getPublicDomain())}),i.append(n)):e.html(h.escapeHtml(h.projectSettings.name)).removeClass("navbar-domain").tooltipster("content",m("Change Site Name")):e.html(h.escapeHtml(h.projectSettings.name))})}function g(t){return h.escapeHtml(t)}function i(e,n){function i(t){0!==f(t.target).parents(".app-layer, .modal").length||f(t.target).is("body, .app-layer, .modal, ul, li")||o(e,i,!0,n)}e.addClass("app-layer-open"),f("body").on("click",i),f("button.app-components-toggle").on("click",i),e.find(".app-layer-close").click(function(){o(e,i,!0,n)})}function o(t,e,n,i){var o,r=f(".app-layer-item-opened");r.length?(r.removeClass("app-layer-item-opened"),r.one("transitionend",function(){t.removeClass("app-layer-open"),t.one("transitionend",function(){t.remove(),f(".app-layer-item").remove(),n||(h.openSidebar(),h.$projectsListToggle.click())})})):(t.removeClass("app-layer-open"),t.one("transitionend",function(){t.remove(),f(".app-layer-item").remove(),n||(h.openSidebar(),h.$projectsListToggle.click()),h.$projectsListToggle.click()})),r=i,i=f(".app-layer-item").find("input:not(.fakeinput), select"),o={},i.each(function(t,e){e.name&&"checkbox"==e.type?o[e.name]=h.projectSettings[e.name]||e.checked||!1:e.name&&(o[e.name]=e.value||h.projectSettings[e.name]||!1)}),h.changeProjectSettings(r,o),f("body").off("click",e),f("button.app-components-toggle").off("click",e)}h.regExtension({name:"projects",global:{$projectsListToggle:f(".projects-block"),projectPath:void 0,projectSettings:{},$projectName:f(".app-project-name"),getDefaultProject:function(e){var n=this;v.Bridge.getLocalJSON(h.getAddonDir(h.DEFAULT_THEME)+"/default-project.json",function(t){(t=t||{}).settings=t.settings||{},t.settings.theme=t.settings.theme||{},t.settings.theme.name=h.DEFAULT_THEME,t.settings.theme.title=h.DEFAULT_THEME_TITLE,t=n.applyFilter("loadRecentProjectDefault",t),console.warn("Used default project"),e(t)})},getRecentProject:function(e,n){var i;function o(e){e?v.Bridge.getLocalJSON(e.path+"/project.mobirise",function(t){t?(t.settings=f.extend({},t.settings,e),i(null,t,e.path)):v.Bridge.isExistsLocal(e.path,function(t){t?i(null,0,e.path):(console.warn("Recent(last) project folder is not exists! ("+e.path+")"),i(null))})}):i(null)}e&&(i=function(){var t=Array.prototype.slice.call(arguments,n?0:1);e.apply(null,t)},v.Bridge.initPath?o({path:v.Bridge.initPath.replace("/project.mobirise","")}):v.Bridge.getRecentsList(function(t,e){if(t)return i(t);t=e&&e[0];t&&t.path?o(t):o()},!0))},loadRecentProject:function(e){var n=this;function i(t){e&&e()}n.getRecentProject(function(t,e){e?(n.fire("loadRecentProject"),n.loadProject(e,t,{noSave:!0,onError:function(){n.createProject("My Site",0,0,i)},onDone:function(){n.fire("loadedRecentProject",e),i()}})):n.createProject("My Site",0,0,i)})},loadProject:function(t,n,i){var o,r,a=this;function s(t){t?(console.error(t),i.onError(t)):(i.onSuccess(),i.onDone())}(i=i||{}).onError=i.onError||function(){},i.onSuccess=i.onSuccess||function(){},i.onDone=i.onDone||function(){},r=t.endsWith(".mobirise")?(o=t).replace(/\/[^\/]+\.mobirise$/,""):(o=t+"/project.mobirise",t),(n?f.Deferred().resolve(n):p.default.getLocalJSON(o)).then(function(t){return t?f.Deferred().resolve(t):f.Deferred().reject(m("Empty project"))}).then(function(e){var n=f.Deferred();return v.Bridge.getRecentSettings(r,function(t){e.settings=f.extend({},t,e.settings,{path:t.path||r}),n.resolve(e)}),n}).then(0,function(t){a.fire("projectError",r,t);t=f.Deferred();return t.reject(),t}).then(function(t){return n=t}).then(function(t){var e=a.calcProjectTheme(n);return a.requestTheme(e&&e.name,e&&e.title)}).fail(function(t){console.error(t)}).then(function(t){if(a.fire("loadProject",n,r),!t)return p.default.addRecent({path:r,name:n.name}).then(function(t){if(!i.noSave)return p.default.saveLocalFile(o,JSON.stringify(n))}).then(function(t){i.onSuccess(),v.Bridge.reload()}).fail(function(t){console.error("Unexpected project save error"),i.onError(m("Unexpected project save error"))}),f.Deferred().reject();var e,t=a.applyFilter("loadingProject",f.extend(!0,{},n),r),t=a.substProject(t,r);e=t,a.projectSettings=f.extend({},e.settings),a.projectPath=r,a.resetUniqNum(!0),a.applyFilter("loadProjectCore",f.Deferred().resolve(),e,r).then(function(){a.fire("loadProjectCore",e,r),a.Core.loadProject(e).always(function(){var t;a.fire("loadedProject",e,r),i.noSave?(t={path:r,name:a.projectSettings.name},a.projectSettings.screenshot&&(t.screenshot=a.projectSettings.screenshot),p.default.addRecent(t).then(function(t){return s()})):a.runSaveProject(function(t){t?s():s(m("Unable to save loaded project"))},!0)})})})},substProject:function(e,t){var n=h.getAddonDir(e.settings&&e.settings.theme&&e.settings.theme.name||h.DEFAULT_THEME),i=(i=JSON.stringify(e)).replace(/@PROJECT_PATH@(\/project\.mobirise)+/g,"@PROJECT_PATH@");i=(i=(i=t?(i=i.replace(/\@PROJECT_PATH\@/g,t)).replace(/\{PROJECT_IMAGES\}/g,t+"/assets/images/"):i).replace(/\@ADDONS_PATH\@/g,h.getAddonsDir())).replace(/@THEME_PATH@/g,h.path2core(n));try{i=JSON.parse(i)}catch(t){console.error(error),i=e}return i},createProject:function(r,n,a,s){var l=this,c=(r=r||l.projectSettings.name,h.getAddonDir(a.presetSourceTheme));l.fire("createProject",r),v.Bridge.initProject(function(i,o){function e(){n=n||f.extend(!0,{},t),n=l.applyFilter("createProject",n,n.settings.name,o.path),l.applyFilter("promiseDefaultProject",Promise.resolve(n),o.path,a).then(function(t){if(t.settings=f.extend({},t.settings,o),t.settings.theme=f.extend({},t.settings.theme,a),a&&a.nameSelectPreset){var e=h.isBuildInAddon(a.name)?h.path2core(c+"/projects/"+a.nameSelectPreset):c+"/projects/"+a.nameSelectPreset,n=(n=JSON.stringify(t)).replace(/\@PROJECT_PATH\@/g,e);try{t=JSON.parse(n)}catch(t){console.error(i),n=rowProject}}t.settings.name=l.applyFilter("createProjectName",g(r)),l.loadProject(o.path,t,{onSuccess:function(){l.fire("createdProject",r)},onError:function(t){s&&s(t),h.hidePreloader()},onDone:function(){s&&s(),h.hidePreloader()}})})}!i&&o&&o.path?n||a?e():l.getDefaultProject(function(t){n=t,e()}):(console.error("Error init project folder"),s&&s(i))},r)},saveProjectFiles:function(e,t,n){var i;try{i=this.prepareProjectText()}catch(t){console.error(t)}i?v.Bridge.saveLocalFile(e+"/project.mobirise",i,function(t){n(t&&e)}):(console.error("Wrong project compilation"),n(!1))},waiting:0,running:0,runSaveProject:function(t,e){function i(t){var e=h.running.callbacks;if(e){for(var n=0;n<e.length;n++)if(e[n])try{e[n](t)}catch(t){console.error("SaveProject callback error: "+t.message,t)}h.running=0}}h.projectPath?(h.waiting=h.waiting||{timeout:0,callbacks:[],screenshot:!1},h.waiting.screenshot=h.waiting.screenshot||!e,t&&h.waiting.callbacks.push(t),h.running||function n(){h.waiting&&(h.waiting.timeout&&clearTimeout(h.waiting.timeout),h.waiting.timeout=setTimeout(function(){var e;h.running?setTimeout(n,1):(h.running=h.waiting,h.waiting=0,h.projectPath?(e=setTimeout(function(){e=0,console.error("Error: SaveProject timeout expired. Next run will be forced."),i(!1),h.waiting&&n()},3e3),h._saveProject(function(t){e&&(clearTimeout(e),i(t)),h.waiting&&n()},!h.running.screenshot)):(console.error("Critical error: projectPath is unexpectedly empty, while saveProject"),i(!1)))},h.waiting.callbacks.length?100:1e3))}()):(console.warn("projectPath is unexpectly empty, while saveProject"),t&&t(!1))},_saveProject:function(n,i){var o=this,r=o.projectSettings.name,a=o.projectPath;n=n||function(){},o.fire("saveProject",r,a),o.saveProjectFiles(a,!i,function(t,e){t?(t={name:r,path:a},!i&&e?t.screenshot=e:o.projectSettings.screenshot&&(t.screenshot=o.projectSettings.screenshot),h.projectSettings.mbrsite&&(t.mbrsite=h.projectSettings.mbrsite),v.Bridge.addRecent(t,function(t){t||h.showError(m("Error update recents list.")),n(!0),o.fire("savedProject",r,a)})):(console.error("Error to save project to "+a),h.criticalError(m("Error to save project file. Close application and run again."),"project_not_save"),n(!1))})},IMAGES_FOLDER:"assets/images",getProjectImagesDir:function(){return this.projectPath+"/"+this.IMAGES_FOLDER},addImageToAssets:function(t){var e=jQuery.Deferred();return t&&0!=t.indexOf(h.getAddonDir(h.theme.name))&&0!=t.indexOf(v.Bridge.base)&&0!=t.indexOf("web/")?v.Bridge.saveFileUnique(t,this.getProjectImagesDir(),e.resolve):e.resolve(t),e.promise()},addImageFromUrlToAssets:function(t){var e=this,n=jQuery.Deferred();function i(t){t?v.Bridge.saveFileUnique(t,e.getProjectImagesDir(),n.resolve):n.resolve(!1)}return v.Bridge.download2(t,function(t){var e,n;t?"jpg"==(e=v.Bridge.splitPath(t)).ext?i(t):(n=e.dir+e.name+".jpg",v.Bridge.moveLocal(t,n,function(t){return i(t&&n)})):i(!1)}),n.promise()},importProject:function(t,n){var i=this;function e(e){i.runSaveProject(function(t){t||console.error("Error: unable to save current project"),i.loadProject(e,0,{onError:function(t){h.showError("Error while import project: "+t),n&&n()},onSuccess:function(){i.fire("importedProject",e)},onDone:function(){i.showProjectsList(),n&&n()}})},!1)}i.fire("importProject"),t?e(t):v.Bridge.runFileDialog(m("Open Site"),"",v.Bridge.appName+" (project.mobirise)",function(t){t&&e(t.replace(/project\.mobirise$/,""))})},removeProject:function(e,n){var i=this;e=e.substring(0,e.lastIndexOf("/")),i.applyFilter("removeProject",f.Deferred().resolve(),e).then(function(){i.fire("removeProject",e),v.Bridge.rmRecent(e,function(t){t?(i.fire("removedProject",e),n&&n(!0)):n(!1)})})},changeProjectSettings:function(e,n){e=e.substring(0,e.lastIndexOf("/")),this.fire("changeProjectSettings",e,n),n=this.applyFilter("changeProjectSettings",n,e),this.projectSettings=f.extend({},this.projectSettings,n);var t={path:h.projectSettings.path,name:h.projectSettings.name};h.projectSettings.screenshot&&(t.screenshot=h.projectSettings.screenshot),h.projectSettings.mbrsite&&(t.mbrsite=h.projectSettings.mbrsite),v.Bridge.changeRecentSettings(e,t,function(t){h.fire("changedProjectSettings",e,n)})},showProjectsList:function(){var p;h.$body.hasClass("app-projects-list-open")||(p=this,v.Bridge.getRecentsList(function(t){p.fire("showProjectsList");for(var e=t.filter(function(t){return!t.mbrsite}),n=t.length-1;0<=n;n--)t[n].hasOwnProperty("mbrsite")&&e.unshift(t[n]);t=e;var i,o='<div class="col-xs-12">\n                            <div class="app-new-project project-element-panel">\n                                <div class="project-img">\n                                    <i class="mbr-icon-plus"></i>\n                                    <h3 class="project-name">'+m("Create New Site")+'</h3>\n                                </div>\n                                <div class="project-body"></div>\n                                \x3c!-- <div class="project-body app-import-project" data-tooltipster="bottom" title="'+m("Open Mobirise site (project.mobirise) not listed here.")+'">\n                                    <span class="app-import-project-or">'+m("or")+'</span>\n                                    <span class="app-import-project-label">'+m("Import Mobirise Site")+"</span>\n                                </div> --\x3e\n                            </div>\n                        </div>",o=h.applyFilter("showProjectsListStart",o);for(i in t){var r,a,s,l,c,d,u=t[i].path;u&&(r=u+"/project.mobirise",a=t[i].name||t[i].title||t[i].id,s=t[i].domains.filter(function(t){return"Deployed"===t.status.name}).pop(),l=t[i].screenshot?u+"/"+t[i].screenshot+"?nocache="+ +new Date:"",c=p.projectPath===u,d=h.hasThemeSettings(h.theme.params),o+=p.applyFilter("showProjectsListEach",'<div class="project-element col-xs-12" data-url="'+r+'" data-path="'+v.Bridge.url2sys(r)+'" data-name="'+g(a)+'">\n                                <div class="project-element-panel '+(c?"active":"")+'">\n                                    <div class="project-img '+(l?"":"project-img-icon")+'">\n                                        '+(l?'<div style="background-image: url('+l+')"></div>':'<i class="mbr-icon-image"></i>')+'\n                                    </div>\n                                    <div class="project-body">\n                                        <h3 class="project-label project-name text-primary">'+g(a)+'</h3>\n                                        <h3 class="project-label project-domain text-primary">https://'+s.name+'/</h3>\n                                    </div>\n                                    <div class="btn-group">\n                                        \x3c!-- <span class="app-project-clone btn btn-primary" data-tooltipster="bottom" title="'+m("Clone Site")+'">\n                                            <i class="mbr-icon-copy"></i>\n                                        </span> --\x3e\n                                        '+(c&&d?'<span class="app-project-styles btn btn-info" data-tooltipster="bottom" title="'+m("Edit Site Styles")+'">\n                                            <i class="mbr-icon-paint-brush"></i>\n                                        </span>':"")+"\n                                        "+(c?'<span class="app-project-settings btn btn-info" data-tooltipster="bottom" title="'+m("Site Settings")+'">\n                                            <i class="mbr-icon-cog"></i>\n                                        </span>':"")+'\n                                        <span class="app-project-remove btn btn-material-red" data-tooltipster="bottom" title=" '+m("Remove Site")+'">\n                                            <i class="mbr-icon-trash"></i>\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>',u,t[i]))}o=h.applyFilter("showProjectsList",o),p.fire("showSideBarsSection"),h.showDialog({title:m("Sites"),className:"show-site-list-modal",body:'<div class="row form-group">\n                                <div class="col-xs-4">\n                                    <input class="search-site-input form-control" type="text" placeholder="'+m("Search")+'" value="">\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <div class="site-list">\n                                        '+o+"\n                                    </div>\n                                </div>\n                            </div>",show:function(t){var e=null,n=t.find(".project-element");t.find(".search-site-input").on("input",function(t){clearTimeout(e),e=setTimeout(function(){var o=t.target.value.toLowerCase();n.each(function(t,e){var e=f(e),n=e.find(".project-name").text().toLowerCase(),i=e.find(".project-domain").text().toLowerCase();n.includes(o)||i.includes(o)?e.removeClass("hidden"):e.addClass("hidden")})},100)}),t.find(".site-list").on("click",".project-domain",function(t){t.stopPropagation();t=t.target.textContent;p.openUrl(t)}),t.find(".site-list").on("click",".project-element > .project-element-panel:not(.active)",function(t){var e,n;f(t.target).hasClass(".btn")||f(t.target).closest(".btn").length||(t.preventDefault(),t.stopPropagation(),t=f(this).parent().attr("data-url"),e=f(this).parent().attr("data-path")||t,n=f(this).find(".project-name").text(),p.openProjectFromList(t,e,n))}),t.on("click",".app-project-styles",function(t){p.closeSidebar(),p.openThemeSettings()}),t.on("click",".app-project-settings",function(t){t.preventDefault();t=f(this).parents("[data-url]:eq(0)").attr("data-url")||"";p.openProjectSettings(t)}),t.on("click",".app-project-remove",function(t){t.preventDefault(),t.stopPropagation();var e=f(this),n=e.parents("[data-url]:eq(0)").attr("data-url"),i=e.parents("[data-path]:eq(0)").attr("data-path")||n,i=e.parents("[data-name]:eq(0)").attr("data-name")||i;e.tooltip("destroy"),p.projectRemove(n,i,t)}),t.on("click",".app-new-project",function(t){t.preventDefault(),p.newProject()}),t.on("click",".modal-header .close",function(){h.hideProjectsList()}),p.$body.addClass("app-sidebar-open app-projects-list-open"),p.fire("showedProjectsList",t)}})}))},hideProjectsList:function(){this.$body.hasClass("app-projects-list-open")&&(this.fire("hideProjectsList"),this.$body.removeClass("app-projects-list-open").find(".show-site-list-modal").modal("hide"),this.fire("hiddenProjectsList"))},makeScreenshot:function(e){var n=this,t=(n.fire("makeScreenshot"),n.appElements.iframe.width),i=n.appElements.iframe.height,o=(n.appElements.window.width-t)/2,r=n.appElements.window.height-i,a=Math.min(t,800),s=a*i/t,l=f("body > *:not(.app-navbar, .app-template, script, link)"),c=(l.addClass("hidden-interface"),h.Core.$body.is(".rounded-canvas")||h.Core.$body.css("padding","0"),h.Core.$template.find(".app-component > .app-component-menu").css("display","none"),new Date),c=v.Bridge.tempLocation+"/screen"+c.getFullYear()+c.getMonth()+c.getDay()+"_"+c.getHours()+c.getMinutes()+c.getSeconds()+".jpg";v.Bridge.getScreen(function(t){l.removeClass("hidden-interface"),h.Core.$body.css("padding",""),h.Core.$template.find(".app-component > .app-component-menu").css("display",""),e&&e(t),n.fire("makedScreenshot",t)},c,[a,s],[o,r,t,i])},showPresets:function(r,a){return new Promise(function(o,t){var e,i,n;(e=(e=r).map(function(t){if(t)return function(t){var e,n,i,o,r=t.presetsList,a=[],s=void 0;for(n in s=t.local?(e=h.getAddonDir(t.themeName),v.Bridge.path2app(e)):"https://my.mobirise.com/data/upload/thumbs/"+t.themeName,r)r.hasOwnProperty(n)&&a.push((o=r[i=n],'<div class="column column-preset col-sm-4 col-md-4 col-lg-3" data-local=\''+t.local+"' data-theme='"+t.themeName+"' data-theme-title='"+t.themeTitle+"' namepreset=\""+i+'" data-titlepreset="'+o.title+'">\n                                                <div class="column-content">\n                                                    <div class="wrapper-img">\n                                                        <div class="theme-type-tag">'+t.themeTitle+'</div>\n                                                        <img src="'+s+"/projects/"+i+'/cover.jpg">\n                                                    </div>\n                                                    <div class="wrapper-name">\n                                                        <span>'+o.title+"</span>\n                                                    </div>\n                                                </div>\n                                            </div>"));return a}(t).join("")})).unshift("\n                            <div class=\"column column-preset col-sm-4 col-md-4 col-lg-3\" data-local='true' data-theme='"+h.DEFAULT_THEME+"' data-theme-title='"+h.DEFAULT_THEME_TITLE+'\'>\n                                <div class="column-content">\n                                    <div class="wrapper-icon" style="width: 100%;height: 90%;display: flex;justify-content: center;align-items: center;">\n                                        <i class="mbr-icon-file" style="font-size: 10rem;color: #777d74;"></i>\n                                    </div>\n                                    <div class="wrapper-name">\n                                        <span>Add Blank Page</span>\n                                    </div>\n                                </div>\n                            </div>\n                        '),e='<div class="site-create-presets-list main-wrapper">\n                                        <div class="columns row">\n                                            <div class="columns-presets">\n                                                '+e.join("\n")+"\n                                            </div>\n                                        </div>\n                                </div>",f("#presets").append(e),f(".column-preset").each(function(t,i){f(i).on("click",function(){var t,e,n;"false"===f(i).attr("data-local")?(t=f(i),t=t,e="",n=h.getUserInfo(),t.attr("data-theme"),t=t.attr("data-theme"),n&&n.email&&(e=n.email),h.confirmDlg({message:m("The $extension$ theme isn't available for your account").replace("$extension$",t?"<strong>"+t+"</strong>":"")+(e?" "+e+"<br>":".<br>"),buttons:{cancel:{label:m("Cancel"),className:"btn-default"},confirm:{label:m("Upgrade"),className:"btn-primary"}},callback:function(t){t&&h.goToBuyPremium({alert:!1})}})):((n={}).title=f(i).attr("data-theme-title"),n.name=f(i).attr("data-theme"),n.titlePreset=f(i).attr("data-titlepreset"),n.nameSelectPreset=f(i).attr("namepreset"),n.presetSourceTheme=f(i).attr("data-theme"),o(n))})}),f(e).find(".column-options").on("click",".column-option",function(){f(this).hasClass("plus")?(presets.modal("hide"),o(void 0)):f(this).hasClass("features")&&(h.showAddonsList(),presets.modal("hide"),t())}),i=f(e).find(".columns-presets > .column-preset"),n=h.stopIfRepeatDecorator(function(t){var n=t.target.value.toLowerCase();i.each(function(t,e){e=f(e);e.attr("data-titlepreset").toLowerCase().includes(n)?e.removeClass("hidden"):e.addClass("hidden")})},100),f(e).find(".search-preset-input").on("input",function(t){n(t)}),a()})},newProject:function(){var l,c=this;d||(d=!0,l=h.showDialog({title:m("Create New Site"),className:"create-site-modal presets-site-project modal-fs",body:['<div class="row">','<div class="col-md-12">','<form class="project-create-form">','<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="site-create-name">'+m("Site Name")+"</label>",'<div class="col-md-9">','<input id="site-create-name" name="name" type="text" placeholder="'+m("Type the name of your new site")+'" value="Site-'+v.Bridge.dateFormat(new Date,"MM-dd_hhmm")+'" class="form-control">',"</div>","</div>",'<div class="form-group row clearfix">','<div class="col-md-8">','<ul class="nav nav-tabs" style="margin-top:2px" role="tablist">','<li role="presentation" class="active"><a href="#presets" aria-controls="presets" role="tab" data-toggle="tab">'+m("Page Templates")+"</a></li>",'<li role="presentation"><a href="#theme" aria-controls="theme" role="tab" data-toggle="tab">'+m("Themes")+"</a></li>","</ul>","</div>",'<div class="col-md-4">','<input id="filter-themes" style="height:100%;" name="name" type="text" placeholder="'+m("Search")+'" value="" class="form-control">',"</div>","</div>",'<div class="form-group row clearfix">',"\x3c!-- Tab panes --\x3e",'<div class="col-md-12 tab-content">','<div role="tabpanel" class="tab-pane active" id="presets">','<div class="site-create__preloader-wrapper">',m("No templates matched your search"),"</div>","</div>",'<div role="tabpanel" class="tab-pane" id="theme">','<div class="site-create-themes-list">','<div class="site-create__preloader-wrapper">',m("No themes matched your search"),"</div>","</div>","</div>","</div>","</div>","</form>","</div>","</div>"].join("\n")}),f(l).on("shown.bs.modal",function(){f(".site-create__preloader-wrapper").hide(),h.showPreloader();var s="";c.getAddonsEx(function(t){var e=t.reduce(function(t,e){return"archive"===e.status&&t.push(e.name),t},[]),n=t.filter(function(t){return!e.includes(t.name)}),t=t.filter(function(e){return!n.some(function(t){return t.name===e.name})&&"archive"!==e.status&&"teaser-48"!==e.name}),t=(n=(n=n.filter(function(t){return"teaser-48"!=t.name})).concat(t),Promise.all(n.map(function(i){return new Promise(function(n){var t;i.installed&&i.paid&&!i.expired||i.name===c.DEFAULT_THEME?(t=h.getAddonDir(i.name)+"/projects/list.json",v.Bridge.getLocalJSON(t,function(t){n(t?{themeName:i.name,themeTitle:i.title,presetsList:t,local:!0}:null)})):u[i.name]?n({themeName:i.name,themeTitle:i.title,presetsList:u[i.name],local:!1}):v.Bridge.http("https://my.mobirise.com/data/upload/thumbs/"+i.name+"/projects/list.json",{withCredentials:!1,success:function(t){try{var e=JSON.parse(t);u[i.name]=e,n({themeName:i.name,themeTitle:i.title,presetsList:e,local:!1})}catch(t){console.log("No presets in "+i.name+" theme."),n(null)}},error:function(t){console.log(t),n(null)}})})}))),o=f(".project-create-form #site-create-name").val(),t=(t.then(function(t){return h.hidePreloader(),h.showPresets(t.reduce(function(t,e){return e&&(e.themeName===h.DEFAULT_THEME||"startm5"===e.themeName?t.unshift(e):t.push(e)),t},[]),function(){f(l).data("bs.modal").handleUpdate()})}).then(function(i){p.default.getSettings("dontShowCreateSiteModal").then(function(t){function e(){h.closeSidebar(),l.modal("hide"),c.runSaveProject(function(t){t||console.error("Error: unable to save current project"),c.createProject(o,0,i,function(t){t&&h.showError(m("Unexpected project create error ")+" ("+t+").",function(){c.showProjectsList()})})},!0)}var n;"true"!==t?n=h.showDialog({body:['<div class="form-group">',m("Do you want to create the $site name$ site based on the $theme name$ theme, $name preset$ Template?").replace("$site name$","<strong>"+o+"</strong>").replace(i.titlePreset?"$name preset$":", $name preset$ Template",i.titlePreset?"<strong>"+i.titlePreset+"</strong>":"").replace("$theme name$","<strong>"+i.title+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',m("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:m("Cancel"),className:"btn-default",callback:function(){l.modal("hide"),h.closeSidebar()}},success:{label:m("Ok"),className:"btn-primary",callback:function(){var t=n.find("#dont-show-again")[0].checked;p.default.setSettings("dontShowCreateSiteModal",t),e()}}}}).on("hidden.bs.modal",function(){h.hidePreloader()}):e()})}),n.find(function(t){return"startm5"===t.name})),i=n.find(function(t){return"mobirise5"===t.name});n.splice(n.indexOf(t),1),n.splice(n.indexOf(i),1),n.unshift(t),n.unshift(i);for(var r=0;r<n.length;r++){var a="",a=(a=(a+='<div class="col-xs-6 col-sm-6 col-md-4 col-lg-3" data-theme="'+n[r].name+'" data-installed="'+!!n[r].installed+'" data-theme-title="'+n[r].title+'"><div>')+('<div class="card-img"><img src="'+(n[r].largeCover||n[r].cover)+'"></div>'))+("<span>"+n[r].title+"</span>");s+=a+="</div></div>"}s=h.applyFilter("themes_list",s),f(l).find(".site-create-themes-list").append(s),l.on("hidden.bs.modal",function(){d=!1}).on("shown.bs.modal",function(t){f(t.target).find("#site-create-name").focus()}),f(".project-create-form .site-create-themes-list > :not(.ext-link) > div").click(function(){var t,e,o,n;"false"===f(this).parent().attr("data-installed")?(n=f(this).parent(),n=n,t="",e=h.getUserInfo(),n.attr("data-theme"),n=n.attr("data-theme-title"),e&&e.email&&(t=e.email),h.confirmDlg({message:m("The $extension$ theme isn't available for your account").replace("$extension$",n?"<strong>"+n+"</strong>":"")+(t?" "+t+"<br>":".<br>"),buttons:{cancel:{label:m("Cancel"),className:"btn-default"},confirm:{label:m("Upgrade"),className:"btn-primary"}},callback:function(t){t&&h.goToBuyPremium({alert:!1,delay:!1})}})):(e=f(this).parent(),o=f(".project-create-form #site-create-name").val(),n={name:e.attr("data-theme"),title:e.attr("data-theme-title")},h.applyFilter("promiseChosenTheme",Promise.resolve(n)).then(function(i){h.showPreloader(),setTimeout(function(){f(".preloader").css("opacity",1)},1),p.default.getSettings("dontShowCreateSiteModal").then(function(t){function e(){h.closeSidebar(),l.modal("hide"),c.runSaveProject(function(t){t||console.error("Error: unable to save current project"),c.createProject(o,0,i,function(t){t&&h.showError(m("Unexpected project create error ")+" ("+t+").",function(){c.showProjectsList()})})},!0)}var n;"true"!==t?n=h.showDialog({body:['<div class="form-group">',m("Do you want to create the $site name$ site based on the $theme name$ theme, $name preset$ Template?").replace("$site name$","<strong>"+o+"</strong>").replace(i.titlePreset?"$name preset$":", $name preset$ Template",i.titlePreset?"<strong>"+i.titlePreset+"</strong>":"").replace("$theme name$","<strong>"+i.title+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',m("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:m("Cancel"),className:"btn-default"},success:{label:m("Ok"),className:"btn-primary",callback:function(){var t=n.find("#dont-show-again")[0].checked;p.default.setSettings("dontShowCreateSiteModal",t),e()}}}}).on("hidden.bs.modal",function(){h.hidePreloader()}):e()})}).catch(function(){h.closeSidebar(),h.hidePreloader(),l.modal("hide")}))})},{type:"theme"},{server:!0,serverOptions:{with_archive:1}})}))},openProjectSettings:function(e){var t,n;e&&(this.fire("showProjectSettings",e,this.projectSettings.name),n=this.theme&&this.theme.params?this.theme.params.title:"Mobirise",t=function(t){var e=f('<section id="app-project-sidebar" class="app-layer no-select">\n            <h4 class="app-layer-title">'+m("Site Settings")+'</h4>\n            <span class="app-layer-close mbr-icon-angle-left"></span>\n        </section>');f("body").append(e),f("body").is(".app-sidebar-open")?(h.closeSidebar(),f(".app-sidebar").one("transitionend",function(){i(e,t)})):i(e,t);return e}(e),n=[{title:m("Common"),name:"common",html:'<div class="form-group col-md-12">\n                        <label class="control-label">'+m("Theme Name")+"</label>\n                        <p>"+n+'</p>\n                    </div>\n                    <div class="form-group col-md-12 site-name-setting-wrap">\n                        <label class="control-label" for="site-settings-name">'+m("Site Name")+'</label>\n                        <input id="site-settings-name" name="name" type="text" placeholder="'+m("Site Name")+'" value="'+h.projectSettings.name+'" class="form-control">\n                    </div>'}],n=h.applyFilter("sidebarProjectSettings",n),f(n).each(function(t,e){var n,i=f('<div class="hover-block tooltipstered" data-tab="'+e.name+'" data-tooltipster="right">\n            <span class="hover-block-arrow mbr-icon-angle-right"></span>\n            <h4>'+e.title+'</h4>\n            <span class="hover-block-sub" style="display:none;">Description</span>\n        </div>'),o=f('<section class="app-layer app-layer-item app-layer-'+e.name+' no-select">\n            <h4 class="app-layer-title">'+e.title+'</h4>\n            <span class="app-layer-close mbr-icon-angle-left"></span>\n            <div class="app-layer-cont">\n                '+e.html+"\n            </div>\n        </section>");f("body").find(".app-layer-"+e.name).length||f("body").append(o),"common"==e.name&&f("#app-project-sidebar").one("transitionend",function(t){i.addClass("open"),o.addClass("app-layer-item-opened")}),f("#app-project-sidebar").find('.hover-block[data-tab="'+e.name+'"]').length?(n=f(".app-layer-"+e.name).find(".app-layer-cont")).html(n.html()+e.html):f("#app-project-sidebar").find(".app-layer-title").before(i),i.click(function(t){f(".hover-block").removeClass("open"),i.addClass("open");t=f(t.currentTarget).attr("data-tab");f("section.app-layer-item").removeClass("app-layer-item-opened"),f("section.app-layer-"+t).toggleClass("app-layer-item-opened")}),o.find(".app-layer-close").click(function(){o.removeClass("app-layer-item-opened")})}),t.one("transitionend",function(t){h.fire("shownSidebarProjectSettings",t,e)}),this.fire("showedProjectSettings",e,name))},projectRemove:function(e,t,n){var i=this,t=m("Do you want to remove $site name$?").replace("$site name$","<strong>"+g(t)+"</strong>");h.confirmDlg(t,function(t){t?i.removeProject(e,function(t){0===e.indexOf(i.projectPath)?i.loadRecentProject(function(){h.closeSidebar()}):h.$body.find('.show-site-list-modal .project-element[data-url="'+e+'"]').remove()}):i.fire("cancelProjectRemove",e,n)})},projectClone:function(n,o){h.showPreloader(),setTimeout(function(){f(".preloader").css("opacity",1)},1),v.Bridge.initProject(function(t,i){var e=i&&i.path;t?h.showError(m("Unable to init project")):h.runSaveProject(function(t){t||console.error("Error: unable to save current project"),v.Bridge.copyLocal(n,e,function(e){var n;e?v.Bridge.getLocalJSON(n=e+"/project.mobirise",function(t){t?(t.settings=f.extend({},t.settings,i),t.settings.name=o,v.Bridge.saveLocalFile(n,JSON.stringify(t),function(){h.importProject(e,function(){h.closeSidebar(),h.hidePreloader()})})):h.showError(m("Cloned project is wrong"))}):(h.showError(m("Unable to clone project")),h.hidePreloader())})},!0)})},openProjectFromList:function(i,o,r){i&&p.default.isExistsLocal(i.replace(/project\.mobirise$/,""),function(t){var e;t?(h.showPreloader(),setTimeout(function(){f(".preloader").css("opacity",1)},1),p.default.getSettings("dontShowOpenSiteModal").then(function(t){function e(){h.runSaveProject(function(t){t||(h.hidePreloader(),console.error("Error: unable to save current project")),h.loadProject(i,0,{noSave:!0,onError:function(){h.hidePreloader()},onDone:function(){h.closeSidebar(),h.hidePreloader()}})},!0)}var n;"true"!==t?n=h.showDialog({body:['<div class="form-group">',m("Do you want to close the current site and open $site name$?").replace("$site name$","<strong>"+g(r||o)+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',m("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:m("Cancel"),className:"btn-default"},success:{label:m("Ok"),className:"btn-primary",callback:function(){var t=n.find("#dont-show-again")[0].checked;p.default.setSettings("dontShowOpenSiteModal",t),e()}}}}).on("hidden.bs.modal",function(){h.hidePreloader()}):e()})):(e=h.confirmDlg('<a href="javascript:void(0)" data-tooltipster="bottom" title="'+o+'">'+m("%This site% is not available. Do you want to remove it from the list?").replace(/%(.+)%/,"<strong>"+(r||"$1")+"</strong></a>"),function(t){e.find("[data-tooltipster]").tooltipster("destroy"),t&&h.removeProject(i)})).find("[data-tooltipster]").tooltipster({delay:0,position:"bottom"})})},addProjectAsset:function(t,e,n){t=t.replace(/\.\.\//g,""),p.default.saveLocalFile(h.projectPath+"/assets/"+t,e,n)},readProjectAsset:function(t,e){t=t.replace(/\.\.\//g,""),p.default.loadLocalFile(h.projectPath+"/assets/"+t).then(function(t){e(t)})},getPages:function(){return h.Core.getResultProject().pages},getResultHTML:function(t){return h.Core.getResultHTML(t)},projectHasLicense:function(){return!!h.userLicenses.getPlansLicenses().filter(function(t){return t.items.some(function(t){return t.params&&t.params.site.id===h.projectSettings.id&&"site_plan"===t.type&&!t.expired})}).length},updateProjectName:e},events:{load:function(){var e;h.$projectsListToggle.on("click",function(t){t.preventDefault(),t.stopPropagation(),h.showProjectsList()}),h.on("clickBody",function(){h.hideProjectsList()}),h.on("sidebarClosed",function(){h.hideProjectsList()}),h.$body.on("submit",".project-create-form",function(t){t.stopPropagation(),t.preventDefault(),f(t.target).closest(".modal-content").find(".btn-primary").click()}),h.$body.on("click",".app-export-project",function(t){t.preventDefault(),t.stopPropagation(),v.Bridge.runFileDialog("Browse for folder","","dir",function(t){t&&h.exportProject(t)})}),h.$body.on("submit",".page-settings-form",function(t){t.preventDefault(),f(t.target).closest(".modal-dialog").find('[data-bb-handler="success"]').click()}),v.Bridge.regQuitTask(function(t){e=1,h.$template.find("[contenteditable]:focus").trigger("blur"),h.runSaveProject(t,!0)}),v.Bridge.bind("pause",function(){h.runSaveProject(function(t){t?console.log("Project saved on pause."):console.error("Error: unable to save current project")})}),h.on(["changedProjectSettings","saveMediaImageDialog","saveMediaVideoDialog","savedSiteCodeEditor"],function(){e||h.runSaveProject(!1,!0)}),h.Core.on("removedPage",function(){e||h.runSaveProject()}),h.Core.on(["addedComponent","removedComponent","changedComponentPosition","changedComponentParams","addedPage","changedPageSettings","convertedComponentToCustomHTML","renderedCodeEditorChanges","rivetsBlur","saveMediaIconFontDialog"],function(){e||h.runSaveProject(!1,!0)}),h.$body.on("keyup",".project-create-form #filter-themes",function(t){var e,n=Array.from(document.querySelector(".site-create-themes-list").children),i=Array.from(document.querySelector(".site-create-presets-list .columns-presets").children),o=t.target.value.toLowerCase();n.forEach=[].forEach,n.forEach(function(t){return t.classList.remove("hide")}),i.forEach=[].forEach,i.forEach(function(t){return t.classList.remove("hide")}),""!==o&&(o=o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t=n.filter(function(t){return t.dataset.themeTitle}),n=n.filter(function(t){return void 0!==t&&t.dataset&&t.dataset.themeTitle?-1===t.dataset.themeTitle.toLowerCase().indexOf(o):""}),e=i.filter(function(t){return void 0!==t&&t.dataset&&t.dataset.titlepreset?-1===t.dataset.titlepreset.toLowerCase().indexOf(o):""}),n.forEach=[].forEach,n.forEach(function(t){return t.classList.add("hide")}),t.length-n.length?f("#theme .site-create__preloader-wrapper").hide():f("#theme .site-create__preloader-wrapper").show(),e.forEach=[].forEach,e.forEach(function(t){return t.classList.add("hide")}),i.length-e.length?f("#presets .site-create__preloader-wrapper").hide():f("#presets .site-create__preloader-wrapper").show(),f(".create-site-modal").modal("handleUpdate"))}),h.$body.find(".navbar-project-info .app-project-name").on("click",function(t){t.preventDefault(),t.stopPropagation(),h.openProjectSettings(h.projectPath+"/project.mobirise"),setTimeout(function(){f('#app-project-sidebar > [data-tab="common"]').click(),(f(t.target).hasClass("navbar-domain")?f(".app-layer-common .mbrsite-domain-control"):f(".app-layer-common .site-name-setting-wrap")).addClass("selected")},100)})},loaded:function(){h.runSaveProject()},showSideBarsSection:function(){this.hideProjectsList()},incomingFile:function(t){/project.mobirise$/.test(t)&&h.importProject(t.replace(/\/project.mobirise$/,""))},loadedProject:function(){e()},savedProject:function(){e()},changedProjectSettings:function(){e()},domainManagerLoaded:function(){e()}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-projects-hash",function(l,a,t,s,c){var r="",d={},u={};a.regExtension({name:"projects-hash",events:{load:function(){a.addFilter("uploadFilesStart",function(t,e){var o=l.Deferred();return t.then(function(n,i){e.preview?(r="",o.resolve(n,i)):(r=i,u={},d={},a.checkPublishDublicates(n,i,function(t,e){d=e,o.resolve(n,i)}))}),o})},uploadFilesUploaded:function(t){r&&(u[t]=d[t])},uploadFilesComplete:function(t){r&&(a.updateProjectHashes(u,r),r="")},createPublishModal:function(t){}},global:{HASH_LIST:"publish-hashes.json",calcFileHash:function(t,e){var n=jQuery.Deferred(),i=[];function o(t){n.resolve(t),e&&e(t)}for(var r=0;r<t.srcList.length;r++){if(t.srcList[r].filter)return o(),n;i.push(c.md5_base64(t.srcList[r].src))}return l.when.apply(l,i).then(function(){for(var t=Array.prototype.slice.call(arguments),e=0;e<t.length;e++)if(!t[e])return void o();o(t.join("-"))}),n},getProjectHashes:function(e,n){s.getLocalJSON(this.projectPath+"/"+this.HASH_LIST,function(t){t=(t=t||{})[e=a.applyFilter("projectHashesUrl",e)]||{};n&&n(t)})},updateProjectHashes:function(n,i,o){var r=this;s.getLocalJSON(r.projectPath+"/"+r.HASH_LIST,function(t){for(var e in(t=t||{})[i=a.applyFilter("projectHashesUrl",i)]=t[i]||{},n)n[e]?t[i][e]=n[e]:delete t[i][e];s.saveLocalFile(r.projectPath+"/"+r.HASH_LIST,JSON.stringify(t),o)})},checkPublishDublicates:function(t,e,a){var s=this;a=a||function(){},t?s.getProjectHashes(e,function(n){var i=[],o=[],r={};t.forEach(function(e){var t;e&&((t=s.calcFileHash(e)).then(function(t){(r[e.dest]=t)&&t==n[e.dest]||o.push(e)}),i.push(t,r))}),l.when.apply(l,i).then(function(){a(o,r)})}):a([],{})}}})},["jQuery","mbrApp","TR()","Bridge","$Bridge"])},function(t,e,n){"use strict";var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(23);defineM("app-plugins",function(a,h,t){h.regExtension({name:"plugins",global:{_buildInPlugins:[{name:"jQuery",condition:!0,files:[{src:"web/assets/jquery/jquery.min.js",publishOnly:!0}],priority:1e3},{name:"mobirise-icons",condition:!1,priority:900,iconfont:{family:"MobiriseIcons",title:"LineWeb",prefix:"mbri-",names:["mobirise","mobile","mobile2","tablet","tablet-vertical","watch","devices","laptop","desktop","responsive","touch-swipe","touch","browse","shopping-bag","shopping-basket","shopping-cart","cart-add","cart-full","cash","delivery","credit-card","sale","left","right","up","down","arrow-next","arrow-prev","arrow-up","arrow-down","plus","close","menu","success","play","more-horizontal","more-vertical","home","star","hearth","idea","magic-stick","flag","target","speed","help","letter","info","question","features","briefcase","sun","sun2","smile-face","sad-face","alert","timer","clock","growing-chart","cursor-click","protect","camera","globe","globe-2","bookmark","rocket","paper-plane","hot-cup","calendar","search","zoom-out","android","apple","windows","bootstrap","github","like","wifi","gift","database","paperclip","print","align-left","align-center","align-right","align-justify","undo","redo","new-file","file","share","save","folder","opened-folder","edit","edit2","change-style","setting","setting2","setting3","refresh","trash","drag-n-drop","drag-n-drop2","up-down","left-right","layers","code","bold","italic","underline","add-submenu","bulleted-list","numbered-list","photo","photos","video-play","video","music","pin","map-pin","chat","image-gallery","image-slider","cust-feedback","contact-form","link","unlink","quote-left","quote-right","user","user2","users","key","lock","unlock","login","logout","cloud","download","upload","to-ftp","to-local-drive","preview","error","pages","sites","extension","website-theme","update"]},files:["web/assets/mobirise-icons/mobirise-icons.css","web/assets/mobirise-icons/mobirise-icons.eot","web/assets/mobirise-icons/mobirise-icons.svg","web/assets/mobirise-icons/mobirise-icons.ttf","web/assets/mobirise-icons/mobirise-icons.woff"]},{name:"mobirise-icons2",condition:!1,priority:900,iconfont:{family:"Mobirise2",title:"LineWeb 2",prefix:"mobi-mbri-",class:"mobi-mbri",names:["add-submenu","alert","align-center","align-justify","align-left","align-right","android","apple","arrow-down","arrow-next","arrow-prev","arrow-up","bold","bookmark","bootstrap","briefcase","browse","bulleted-list","calendar","camera","cart-add","cart-full","cash","change-style","chat","clock","close","cloud","code","contact-form","credit-card","cursor-click","cust-feedback","database","delivery","desktop","devices","down","download-2","download","drag-n-drop-2","drag-n-drop","edit-2","edit","error","extension","features","file","flag","folder","gift","github","globe-2","globe","growing-chart","hearth","help","home","hot-cup","idea","image-gallery","image-slider","info","italic","key","laptop","layers","left-right","left","letter","like","link","lock","login","logout","magic-stick","map-pin","menu","mobile-2","mobile-horizontal","mobile","mobirise","more-horizontal","more-vertical","music","new-file","numbered-list","opened-folder","pages","paper-plane","paperclip","phone","photo","photos","pin","play","plus","preview","print","protect","question","quote-left","quote-right","redo","refresh","responsive-2","responsive","right","rocket","sad-face","sale","save","search","setting-2","setting-3","setting","share","shopping-bag","shopping-basket","shopping-cart","sites","smile-face","speed","star","success","sun","sun2","tablet-vertical","tablet","target","timer","to-ftp","to-local-drive","touch-swipe","touch","trash","underline","undo","unlink","unlock","up-down","up","update","upload-2","upload","user-2","user","users","video-play","video","watch","website-theme-2","website-theme","wifi","windows","zoom-in","zoom-out"]},files:["web/assets/mobirise-icons2/mobirise2.css","web/assets/mobirise-icons2/mobirise2.eot","web/assets/mobirise-icons2/mobirise2.svg","web/assets/mobirise-icons2/mobirise2.ttf","web/assets/mobirise-icons2/mobirise2.woff"]},{name:"cookies-alert-plugin",condition:function(){if(h.projectSettings.cookiesAlert)return!0},priority:3e3,files:[{src:"web/assets/cookies-alert-plugin/cookies-alert-core.js",publishOnly:!0},{src:"web/assets/cookies-alert-plugin/cookies-alert-script.js",publishOnly:!0}]},{name:"gdpr-plugin",condition:function(){if(h.projectSettings.gdpr)return!0},priority:3e3,files:["web/assets/gdpr-plugin/gdpr-styles.css"]}],registeredPlugins:[],readPlugin:function(e){var n=this,i=a.Deferred();return o.Bridge.getLocalJSON(e+"/plugin.json",function(t){"object"==(void 0===t?"undefined":p(t))?(jQuery.isArray(t)?t.forEach(function(t){t.root=e,n.registerPlugin(t)}):(t.root=e,n.registerPlugin(t)),setTimeout(function(){i.resolve(!0)},0)):h.addAppResource(e+"/plugin.js").then(function(){i.resolve(!0)})}),i.promise()},registerPlugin:function(t,e){e||(e=t,t=void 0),e=this.applyFilter("registerPlugin",e),this.fire("registerPlugin",e),t&&(e.alias=t),e.addon_root=e.alias?this.getAddonDir(e.alias):"",this.registeredPlugins.push(e),this.fire("registeredPlugin",e),this.fire("pluginsLoaded")},eachPlugins:function(t,e){for(var n=0;n<t.length;n++){var i,o=t[n].root||t[n].addon_root||"",r=(o&&(o+="/"),t[n].conditional_comment),a=t[n].in_head;for(i in t[n].files){var s=t[n].files[i],l=(s="string"==typeof s?{src:s}:s).name||t[n].name,c=s.src,d=!1,u=s.type||(/.js$/g.test(c)?"js":/.css$/g.test(c)?"css":""),p=l+(i&&"0"!=i?i:"");/^\/\//g.test(c)||/^http/g.test(c)||(t[n].root||o&&(c=l+"/"+c),d="assets/"+c,c=o+c),e(c,u,p,d,r,a,s.publishOnly,t[n])}}},eachPlugins2:function(t,l){this.eachPlugins(t,function(t,e,n,i,o,r,a,s){/^\/\//.test(t)||/^http[s]?:/.test(t)||/^file:/.test(t)||/^web\//.test(t)||(t=h.getAddonDir(h.theme.name)+"/plugins/"+t),l(t,e,n,i,o,r,a,s)})},getPlugin:function(t){var e,n=this.registeredPlugins;for(e in n)if(n[e].name===t)return this.applyFilter("getPlugin",n[e]);return!1},getPluginsListForPage:function(t,e){var n,i,o=this.registeredPlugins;function r(t,e){if(t&&t.length){"string"==typeof t&&(t=t.split("&&"));for(var n=!0,i=0;n&&i<t.length;i++)n=n&&function(t,e){for(var n=(t=t.replace(/^\s+|\s+$/g,""))&&t.split("=")[0]||"",t=t&&t.split("=")[1],i=n&&n.split(".")||[],o=0;e&&o<i.length;o++)e="function"==typeof e?e(i[o]):e[i[o]];return void 0===t?e:String(e)==t}(t[i],e);return n}}for(n in t=t.split(","),o)0<=t.indexOf(o[n].name)||(!0===o[n].condition||"function"==typeof o[n].condition&&o[n].condition())&&t.push(o[n].name);for(i in this.Core.resultJSON[e].components){var a,s=h.Core.resultJSON[e].components[i];if(s._plugins){var l,c=s._plugins.split(",");for(l in c)-1==t.indexOf(c[l])&&t.push(c[l])}for(a in o){var d,u=o[a].name;0<=t.indexOf(u)||"object"!=p(o[a].condition)&&"string"!=typeof o[a].condition||(d={_theme:h.getThemeSettings,_project:h.projectSettings,_page:h.Core.resultJSON[e],_params:s._params},r(o[a].condition,d)&&t.push(u))}}return this.applyFilter("getPluginsListForPage",t.join(","),this.Core.resultJSON[e])},updatePlugins:function(t){this.Core.$document.find("#insertBefore");var l=a.Deferred().resolve(),e=this.sortPlugins(this.registeredPlugins);this.eachPlugins2(e,function(t,e,n,i,o,r,a,s){o||a||(/^\/\//g.test(t)&&(t="https:"+t),"js"===e&&(l=l.then(o=function(){return h.addCoreResource(t,!0)},o)),"css"===e&&h.addCoreResource(t,!1))}),l.then(t)},getPluginsHTMLForPublish:function(t){for(var e=[],u="",p="",f="",n=this.getPluginsListForPage("",t),n=this.applyFilter("allUsedPluginsForPage",n.split(","),t),i=0;i<n.length;i++){var o=this.getPlugin(n[i]);o&&e.push(a.extend(!0,{},o))}return e=this.sortPlugins(e),e=this.applyFilter("svgFontFilter",e),this.eachPlugins(e,function(t,e,n,i,o,r){var a="",s="",l="",c="",d="",o=(o&&(a="\x3c!--[if "+o+"]>\n    ",s="<![endif]--\x3e\n  "),/^\/\//g.test(t)?i="https:"+t:/^http[s]?:/.test(t)&&!h.isAddonsDir(t)&&(i=t),"js"===e&&(o=a+'<script src="'+i+'"><\/script>\n  '+s,r?c+=o:l+=o),"css"===e&&(d+=a+'<link rel="stylesheet" href="'+i+'">\n  '+s),h.applyFilter("getPluginResource",{js:l,js_head:c,css:d},n,e,i,r,t));p+=o.js_head,u+=o.js,f+=o.css}),this.applyFilter("getPluginsHTMLForPublish",{css:f,js:u,js_head:p},t)},getPluginsFilesForPublish:function(){var t,o=this,e=(o.registeredPlugins,[]),r=[],n="";for(t in o.Core.resultJSON)n=o.getPluginsListForPage(n,t);for(t in n=this.applyFilter("allUsedPlugins",n.split(","))){var i=o.getPlugin(n[t]);i&&e.push(a.extend(!0,{},i))}return o.eachPlugins(e,function(t,e,n,i){/^(http[s]?:)?\/\//.test(t)&&!o.isAddonsDir(t)||(/^(file|https?):/g.test(t)||/^web\//g.test(t)||(t=o.theme.pathExport+"/plugins/"+t),r.push({src:t,dest:i}))}),o.applyFilter("getPluginsFilesForPublish",r)},sortPlugins:function(t){var e=a.extend(!0,[],t);return e.sort(function(t,e){return t.priority>e.priority?1:t.priority<e.priority?-1:0}),this.applyFilter("sortPlugins",e,t)}},events:{beforeAppLoad:function(){for(var t=0;t<this._buildInPlugins.length;t++)this.registerPlugin(this._buildInPlugins[t])}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var p=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=e,i=[],o=!0,e=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(i.push(a.value),!n||i.length!==n);o=!0);}catch(t){e=!0,r=t}finally{try{!o&&s.return&&s.return()}finally{if(e)throw r}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-components-list",function(v,b,y,d){var t=!0,l=void 0,w=!0,u=!1,i="";function e(){v(".app-template").removeClass("scaled"),b.Core.$body.removeClass("scaled"),b.Core.$template.removeClass("scaled");var t=b.Core.$body.closest("html").scrollTop();b.Core.$body.closest("html").stop().animate({scrollTop:t},0)}var o;function c(t){for(var e in t)this[e]=t[e]}b.regExtension({name:"components-list",global:{components:{},getComponentHTML:function(t){return b.Core.getComponent(t)._customHTML},setComponentHTML:function(t,e){var n,i=b.Core.getComponent(t),e=(i._customHTML=e,b.Core.getSecondaryComponent(i));e.isActualTemplate()||(n=b.$template.find("[data-app-component-id="+t+"] .app-component-content"),e=e.update().createElementFromTemplate(),b.Core.$window[0].rivets.unbind(n).bind(e,i),n.html(e),b.fire("loadedComponent",i,b.Core.currentPage,b.Core.$template,!1)),b.Core.$template.find("[data-app-component-id="+t+"] .app-component-content > *").trigger("add.cards"),b.runSaveProject(!1,!0),b.Core.fire("setComponentHTML",t)},$componentsLayer:v("#add-component"),$componentsToggleBtn:v(".app-components-toggle"),readComponent:function(n){var i=this,o=v.Deferred();return d.getLocalJSON(n+"/component.json",function(t){var e;"object"==(void 0===t?"undefined":f(t))?(e=[],t._path&&(e.push(t._path),delete t._path),e.push(t),i.loadComponents.apply(i,e),setTimeout(function(){o.resolve(!0)},0)):b.addAppResource(n+"/component.js").then(function(){o.resolve(!0)})}),o.promise()},readComponent2:function(t,e,n){if("string"==typeof t)return b.readComponent(e+"/"+t);if("object"==(void 0===t?"undefined":f(t))){var i=t.name||t.path.split("/").pop();if(i in b.components)return;var o="plugin"==n.type,r=t.path.replace(/\/.*$/,"");b.Core.components[i]=b.components[i]=new c(v.extend({name:i,alias:o&&n.name+(r?"/"+r:""),_tags:o&&["Extension"],scriptPath:e+"/"+t.path},t))}else console.warn("Wrong component "+t);return v.Deferred().resolve()},loadComponents:function(t,e,n){var i,o=this;for(i in e||(e=t,t=void 0),e=o.applyFilter("loadingComponents",e,t),o.fire("loadComponents",e,t),e){var r=e[i];if(t&&(r.alias=t),r._tags=r._tags||[],r._tags.length||(t&&o.theme&&o.theme.name&&t.split("/")[0].toLowerCase()!=o.theme.name.toLowerCase()?r._tags.push("Extension"):r._tags.push("Theme")),r._inherit){var a=v.extend(!0,{},o.components[r._inherit]);if(a)for(var s in a)if("_params"===s){r[s]||(r[s]={});var l,c={};for(l in a[s]){var d=a[s][l];null!==r[s][l]&&(d.default=void 0!==r[s][l]?r[s][l]:d.default,c[l]=d)}r[s]=c}else r[s]=(void 0!==r[s]?r:a)[s];else console.warn("Warning: not yet loaded parent block for component "+i+" _inherit "+r._inherit)}}o.components=o.applyFilter("loadComponents",v.extend(o.components,e)),n&&o.initComponentsPalette(),o.loadComponentTemplates(o.components),o.fire("loadedComponents",e)},addComponentToCore:function(t,e,n){var i=arguments;return"menu"===n.attr("data-component-once")&&"true"===n.attr("data-app-always-top")?((e=e||{}).item=b.Core.resultJSON[b.Core.currentPage].components[0]._id.toString(),e.where="before",i[1]=e):e&&"before"==e.where&&"menu"===b.Core.resultJSON[b.Core.currentPage].components[0]._once&&b.Core.resultJSON[b.Core.currentPage].components[0]._id==e.item&&!0===b.Core.resultJSON[b.Core.currentPage].components[0]._noDrag&&(e.where="after",i[1]=e),this.getRealComponent(t).then(function(){b.Core.addComponent.apply(b.Core,i)})},getRealComponent:(o={},b.on("loadedComponentTemplate",function(t){t in o&&o[t].resolve(b.components[t])}),function(e){var n,t,i;return((e="string"==typeof e?b.components[e]:e)instanceof c?(n=e.name,t=b.components,n in o&&(!u||e.alias)||(o[n]=v.Deferred(),i=function(){var t;b.isSecondaryComponent(e)?((t={})[n]={_group:e._group,alias:e.alias,_isSecondary:e._isSecondary,typeCompatible:e.typeCompatible},e.alias?b.loadComponents(e.alias,t):b.loadComponents(t)):b.readComponent(e.scriptPath)},e._inherit?this.getRealComponent(t[e._inherit]).then(i):i()),o[n]):v.Deferred().resolve(e)).promise()}),cachedTemplates:{},loadComponentTemplates:function(s){var l=this;b.Core.components=s,v.when(function(){var t,e=v.Deferred(),a=[];for(t in s)s[t]instanceof c||t in l.cachedTemplates||!function(n,t){l.cachedTemplates[n]="";var i=s[n].alias,e=void 0,o=b.$componentsLayer.attr("data-theme"),e=i?b.getAddonDir(i)+"/"+(t||n)+"/template.html":o?b.getAddonDir(o)+"/components/"+(t||n)+"/template.html":l.theme.pathExport+"/components/"+(t||n)+"/template.html",r=v.Deferred();d.loadLocalFile(e,function(t){var e;t&&((s[n]._css||s[n]._js)&&b.Core.prepareComponentAssets(n),l.cachedTemplates[n]=t),b.isSecondaryComponent(s[n])?(e=void 0,e=i?b.getAddonDir(i)+"/"+n+"/style.less":o?b.getAddonDir(o)+"/components/"+n+"/style.less":l.theme.pathExport+"/components/"+n+"/style.less",d.loadLocalFile(e,function(t){s[n]._styles={},b.objectifyCSS(t).then(function(t){s[n]._styles=t},function(t){t.filename=e,console.error(t)}).always(r.resolve)})):r.resolve()}),r.then(function(){l.fire("loadedComponentTemplate",n)}),a.push(r)}(t,s[t]._inherit);return v.when.apply(v,a).then(function(){e.resolve()}).fail(function(){e.resolve()}),e.promise()}()).done(function(){l.fire("loadedComponentTemplates")})},initComponentsPalette:function(t){var e=this,n={};for(o in e.components){var i=e.components[o];n[i._group]||(n[i._group]={}),n[i._group][o]=i}var o,r="";for(o in n=e.applyFilter("loadComponentsSorted",n)){for(var a in r=r+("<h5 data-group="+o.replace(/\s/g,"_")+">"+y(o,"blocks")+"</h5>")+'<ul class="row">',n[o]){var s,l=n[o][a].alias,c=n[o][a].typeCompatible;!(c=null!=c?function(t){var e,n,i=b.theme.params.theme;if("string"==typeof t)return n=!!i[(e=function(t){return"!"===t.charAt(0)})(t)?t.split("!")[1]:t],e(t)?!n:n;if("object"==(void 0===t?"undefined":f(t))){var o,r=void 0;for(o in t)if(r=!!i["!"===t[o].charAt(0)?t[o].split("!")[1]:t[o]])break;return!r}}(c):c)&&null!=c||(c=b.$componentsLayer.attr("data-theme"),s=void 0,s=l?e.getAddonDir(l)+"/"+a+"/thumb.png":c?b.isBuildInAddon(c)?d.path2app(e.getAddonDir(c))+"/components/"+a+"/thumb.png":e.getAddonDir(c)+"/components/"+a+"/thumb.png":e.theme.path+"/components/"+a+"/thumb.png",l={"component-once":n[o][a]._once},r+=e.generateComponentPaletteItemHtml(a,s,null,l))}r+="</ul>"}r=e.applyFilter("loadComponentsHTML",r),e.insertComponentPaletteHTML(r),t&&t(),e.fire("initedComponentsPalette")},generateComponentPaletteItemHtml:function(t,e,n,i,o){var r="",a="";if(o=o||"","object"==(void 0===i?"undefined":f(i)))for(var s in i)"filter"==s?a=" data-"+s+'="'+i[s]+'"':void 0!==i[s]&&(r+=" data-"+s+'="'+i[s]+'"');n='<li class="col-xs-12 col-sm-6 col-md-4 col-lg-3 '+(n=n||"")+'" '+a+' data-layer="add-component"><a href="javascript:void(0)" data-component="'+t+'"'+r+">";return n+('<img src="'+e+'" alt="'+t+'"></a>')+(o+"</li>")},insertComponentPaletteItem:function(t,e,n,i,o,r,a){e=b.generateComponentPaletteItemHtml(e,n,o,r);b.insertComponentPaletteHTML(e,t,a)},insertComponentPaletteHTML:function(t,e,n,i){var o,r=b.$componentsLayer.find(".app-layer-cont");1===arguments.length?r.html(t):(n=n?' class="'+n+'"':"",i=i?'class="'+i+'"':"",o=e.replace(/\s/g,"_"),0==r.find('h5[data-group="'+o+'"]').length&&r.append('<h5 data-group="'+o+'" '+i+">"+e+"</h5><ul"+n+"></ul>"),(i=(i=r.find('h5[data-group="'+o+'"]').next()).is("ul")?i:i.next()).append(t))},cleanOnceComponents:function(){var t,e=this.$componentsLayer.find("[data-component-once]").removeClass("inactive"),n=(e.find("> span").remove(),this.Core.getPageComponents());for(t in n){var i=!0===n[t]._once,o=!i&&n[t]._once;(i||o)&&(o=i?'[data-component="'+n[t]._name+'"]':'[data-component-once="'+n[t]._once+'"]',e.filter(o).addClass("inactive").append("<span>"+y("Added")+"</span>"))}this.fire("cleanOnceComponents",e)},dragComponent:function(){var t,o=this,e=["click"];for(t in e)!function(i,o){var r=i.contentWindow["on"+o];i.contentWindow["on"+o]=function(t){r&&r(t);var e=document.createEvent("MouseEvents"),n=i.getBoundingClientRect();e.initMouseEvent(o,!0,!1,window,t.detail,t.screenX,t.screenY,t.clientX+n.left,t.clientY+n.top,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,null),i.dispatchEvent(e)}}(o.iframe,e[t]);function i(t){var e=o.appElements.window.width-o.appElements.componentsLayer.width;return e>o.appElements.iframe.width+0&&(e=o.appElements.iframe.width+0),0<t&&t<e}var r,a,s,l,c,d=v('<div class="app-dragger">').append("<img>").appendTo("body"),u=v('<div class="app-component-divider">'),p=o.$template.find(".template .app-component"),f={item:void 0,where:void 0},h=void 0,m=void 0,g=void 0;o.$componentsLayer.on("mousedown touchstart","a[data-component]:not(.inactive)",function(t){var e,n,i;w&&(t.stopPropagation(),t.preventDefault(),v(this).closest(".not-available").length?(e="",n=b.getUserInfo(),b.$componentsLayer.attr("data-theme"),i=b.$componentsLayer.find(".blocks-theme-btn .blocks-theme-name").text(),n&&n.email&&(e=n.email),b.alertDlg(y("The $extension$ theme isn't available for your account").replace("$extension$",i?"<strong>"+i+"</strong>":"")+(e?" "+e+"<br>":".<br>"))):(m=1920<b.appElements.window.width?.5:.25,g=1/m,a=v(this).attr("data-component"),s=t.currentTarget,r=!0,d.find("img").attr("src",v(this).find("img").attr("src")),p=o.$template.find(".template .app-component"),h=o.appElements.iframe.height/2,o.$iframeOverlay.css({top:o.appElements.window.height-h}).show(),o.fire("dragComponentStart",a,t)))}),v(document).on("mousemove touchmove",function(t){var n,e;r&&(t.preventDefault(),t.stopPropagation(),e=(t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,t=(t.originalEvent.touches?t.originalEvent.touches[0]:t).pageY,d.css({display:"block",left:e,top:t,marginTop:-d.height()/2,marginLeft:-d.width()/2}),i(e)?(o.Core.dragComponent=!0,b.$template.find(".template > div").append(u),u.show()):u.hide(),h=o.appElements.iframe.height/g,n=t-(o.appElements.window.height-h),p.each(function(){var t=this.getBoundingClientRect(),e={};e.height=t.height/g,e.top=t.top/g,e.bottom=t.bottom/g,e.bottom<0||h<=e.top||n<e.top||n<=e.top+e.height&&(f.item=v(this),e.top+e.height/2<n?(v(this).after(u),f.where="after"):(v(this).before(u),f.where="before"))}),e=t-(o.appElements.window.height-h),t=o.appElements.window.height-t,e<80?c=-30*(80-Math.max(e,0))/80:t<80&&(c=30*(80-Math.max(t,0))/80),clearInterval(l),e<80||t<80)&&(o.iwindow.scrollBy(0,c),l=setInterval(function(){o.iwindow.scrollBy(0,c)},17))}),v(document).on("mouseup touchend",function(t){r&&(r=!1,d.css("display","none"),u.remove(),i((t.originalEvent.changedTouches?t.originalEvent.changedTouches[0]:t).pageX)&&(w=!1,f.item&&f.item.length&&(f.item=v(f.item).attr("data-app-component-id")),o.addComponentToCore(a,v.extend({},f),v(s)).then(function(){o.cleanOnceComponents()})),f.item=void 0,f.where=void 0,o.$iframeOverlay.hide(),clearInterval(l),o.fire("dragComponentEnd",a,t))})},hideComponentsList:function(t){this.fire("beforeHideComponents",t),this.$body.removeClass("app-add-component-open"),this.$componentsToggleBtn.tooltipster("content",y("Add Block to Page")),this.$themeToggleBtn.fadeIn(200),this.fire("hideComponents",t)},toggleComponentsList:function(){this.cleanOnceComponents(),this.$body.toggleClass("app-add-component-open"),this.$body.hasClass("app-add-component-open")?(this.$componentsToggleBtn.tooltipster("content",y("Close")),this.$themeToggleBtn.fadeOut(200),v(".app-template").addClass("scaled"),b.Core.$body.addClass("scaled"),b.Core.$template.addClass("scaled")):(v(".app-template").hasClass("scaled")&&e(),this.$componentsToggleBtn.tooltipster("content",y("Add Block to Page")),this.$themeToggleBtn.fadeIn(200)),this.fire("toggleComponents")},addComponentsFilterTab:function(t,e,n){n=b.applyFilter("addComponentsFilterTab",v('<li data-tooltipster="bottom" title="'+n+'"data-filter="'+t+'">'+e+"</li>"));b.$componentsLayer.find(".add-component-filter ul").append(n)},createComponentsFilter:function(){var e=this,n=[],i=(e.$componentsLayer.find(".app-layer-cont >ul>li").not(".app-layer-cont-user-block").each(function(){var t=v(this).find("a").attr("data-component");v(this).attr("data-filter",e.components[t]._tags?e.components[t]._tags.join(","):"Theme"),v(this).attr("data-group",e.components[t]._group||"undefined"),void 0===e.components[t]._group?-1===n.indexOf("undefined")&&n.push("undefined"):-1===n.indexOf(e.components[t]._group)&&n.push(e.components[t]._group)}),e.$componentsLayer.find(".add-component-groups"));i.find("ul").empty(),n.forEach(function(t){i.find("> ul").append('<li data-group-name="'+t.replace(/\s/g,"_")+'">'+t+"</li>")}),i.append('<div class="add-component-filter"><ul></ul></div>')},bindComponentsFilterEvents:function(){var i=this;i.$componentsLayer.on("click",".add-component-filter>ul>li:not(.active)",function(t){i.$componentsLayer.find(".add-component-groups > ul li").removeClass("active");var e=v(t.target).closest("#add-component").find(".app-layer-cont"),n=v(t.target).attr("data-filter");v(t.target).parent().find(">li").removeClass("active"),v(t.target).addClass("active"),e.find(">ul>li").addClass("hidden"),e.find('>ul>li[data-filter*="'+n+'"]').removeClass("hidden"),e.find(">ul").each(function(){var t=v(this).prev();0==v(this).find('>li:not(".hidden")').length?(t.is("[data-group]")||(t.addClass("hidden"),t=t.prev()),t.addClass("hidden")):(t.is("[data-group]")||(t.removeClass("hidden"),t=t.prev()),t.removeClass("hidden"))}),e.scrollTop(0)})},render:function(t){b.Core.render(t)}},events:{coreLoad:function(){b.Core.addFilter("addComponent",function(t){if("secondary"===b.theme.type){var e=b.$componentsLayer.attr("data-theme");if(e)t._sourceTheme=e}return t})},load:function(){var o=this;o.cleanOnceComponents(),o.dragComponent(),o.$componentsToggleBtn.on("click",function(t){var e=v(this);t.stopPropagation(),e.attr("data-pallete-inited")||(o.initComponentsPalette(function(){o.createComponentsFilter(),o.addComponentsFilterTab("Extension",y("Extensions"),y("Show Blocks From Extensions")),o.bindComponentsFilterEvents(),b.$componentsLayer.find(".add-component-groups > ul").on("click",function(t){v(t.target).addClass("active").siblings().removeClass("active"),b.$componentsLayer.find(".add-component-filter li").removeClass("active"),b.$componentsLayer.find(".app-layer-cont").find("h5, .user-block-search, > ul > li").removeClass("hidden");t=b.$componentsLayer.find('.app-layer-cont > h5[data-group="'+v(t.target).attr("data-group-name")+'"]')[0].offsetTop;0!==t&&b.$componentsLayer.find(".app-layer-cont").stop(!0,!0).animate({scrollTop:t-10},300)});var t=b.$componentsLayer.find(".app-layer-cont").find("> ul > li img"),i=[];t.each(function(t,n){var e=new Promise(function(t,e){v(n).on("load",function(){t()}),n.complete&&v(n).load()});i.push(e)}),Promise.all(i).then(function(){l=b.$componentsLayer.find(".app-layer-cont").outerHeight();var n,i=!1;function s(t){var e,n,i,o;t.length&&(t.addClass("active"),e=b.$componentsLayer.find(".add-component-groups"),t=(n=t.position().top)+t.outerHeight(!0),o=(i=e.scrollTop())+l,n<i?e.stop(!0,!0).animate({scrollTop:n-100},300):o<t&&e.stop(!0,!0).animate({scrollTop:i+t-o+100},300))}b.$componentsLayer.find(".app-layer-cont").on("scroll",function(t){n=i,i=v(this).is(":animated");var o,r,a=b.$componentsLayer.find(".add-component-groups"),e=b.$componentsLayer.find(".add-component-filter li").hasClass("active");i||n||e||!a.find("> ul li").length||(a.find("> ul li").removeClass("active"),e=v(this).scrollTop(),o=Math.ceil(e+l/2),e<=20?s(a.find("> ul li:first-child")):(r=0,a.find("> ul li").each(function(t){var e=v(this).attr("data-group-name"),n=(b.$componentsLayer.find('.app-layer-cont > h5[data-group="'+e+'"]'),r),i=n;if(b.$componentsLayer.find('.app-layer-cont > h5[data-group="'+e+'"]').each(function(){i+=v(this).outerHeight(!0)+v(this).next("ul").outerHeight(!0)}),r=i,n<=o&&o<=i)return s(a.find('> ul li[data-group-name="'+e+'"]')),!1})))})})}),e.attr("data-pallete-inited",!0)),o.toggleComponentsList()}),o.on("clickTemplate",function(t){o.hideComponentsList(t)}),o.$componentsLayer.on("click","a[data-component]:not(.inactive)",function(t){!w||v(this).closest(".not-available").length||(w=!1,o.addComponentToCore(v(this).attr("data-component"),null,v(t.currentTarget)).then(function(){o.cleanOnceComponents()}))}),o.Core.on("rendered",function(){w=!0}),o.Core.on("loadedComponent",function(t,e,n,i){b.fire("loadedComponent",t,e,n,i)}),o.Core.addFilter("loadComponentTemplate",function(t,e,n,i){return o.applyFilter("loadComponentTemplate",t,e,n,i)}),o.Core.on("summernoteBlur",function(t){b.fire("summernoteBlur",t)})},resizeInterface:function(){l=b.$componentsLayer.find(".app-layer-cont").outerHeight()},initedComponentsPalette:function(){b.$body.find("#add-component .app-layer-cont h5[data-group]").each(function(){v(this).next("ul").children("li").length||v(this).css("display","none")})},loaded:function(){var e,n;"secondary"===b.theme.type&&(e=v.Deferred(),n=v.Deferred(),b.getAddonsEx(function(t){t=(t=t.filter(function(t){return"theme"===t.type})).map(function(t){return{name:t.name,title:t.title,isAMP:t.name.includes("amp"),local:!!t.installed,cover:t.largeCover}});e.resolve(t)},{type:"theme"},{server:!0}),e.then(function(t){t=b.isAMP()?t.filter(function(t){return t.isAMP}):t.filter(function(t){return!t.isAMP}),n.resolve(t)}),n.promise().then(function(t){b.$componentsLayer.find(".add-component-content").before('<div class="blocks-theme-btn-wrap">\n                            <a class="blocks-theme-btn" href="javascript:void(0)" data-tooltipster="left" title="Choose Blocks Theme">\n                                <img class="blocks-theme-img" src="">\n                                <span class="blocks-theme-name"></span>\n                            </a>\n                        </div>'),b.$componentsLayer.attr("data-theme",b.theme.name),t.forEach(function(t){i+='<div class="col-xs-6 col-sm-6 col-md-4 col-lg-3" data-name="'+t.name+'" data-local="'+t.local+'">\n                                <div class="card-wrap">\n                                    <div class="card-img">\n                                        <img src="'+t.cover+'">\n                                    </div>\n                                    <span class="card-title">'+t.title+"</span>\n                                </div>\n                            </div>"}),b.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",d.path2app(b.getAddonDir(b.theme.name)+"/cover.jpg")).end().find(".blocks-theme-name").text(b.theme.params.title),b.$componentsLayer.find(".blocks-theme-btn").on("click",function(){b.showDialog({title:y("Choose blocks' theme"),className:"blocks-theme-modal",body:'<div class="row">\n                                        <div class="col-md-4">\n                                            <input class="form-control blocks-theme-input" type="text" placeholder="'+y("Search")+'" value="">\n                                        </div>\n                                    </div>\n                                    <div class="row">\n                                        <div class="col-md-12">\n                                            <div class="blocks-theme-list">\n                                                '+i+"\n                                            </div>\n                                        </div>\n                                    </div>",show:function(o){var e=null;o.find(".blocks-theme-input").on("input",function(t){clearTimeout(e),e=setTimeout(function(){var n=t.target.value.toLowerCase();o.find(".blocks-theme-list > div").each(function(t,e){e=v(e);e.find(".card-title").text().toLowerCase().includes(n)?e.removeClass("hidden"):e.addClass("hidden")})},100)}),o.find(".blocks-theme-list > div > .card-wrap").on("click",function(){o.modal("hide");var s,e,n,i,l=v(this),c=l.closest("[data-name]").attr("data-name");c!==b.$componentsLayer.attr("data-theme")&&(b.$componentsLayer.attr("data-theme",c),(s=v(b.preloaderHTML)).css({opacity:"0.8",transition:"0.2s"}),b.$componentsLayer.find(".add-component-content").append(s),e=v.Deferred(),"false"===l.closest("[data-name]").attr("data-local")?d.http("https://my.mobirise.com/data/upload/thumbs/"+c+"/params.json?hash="+Math.random(),{success:function(t){e.resolve([t,!1])},error:function(t){console.log(t),e.reject()}}):(n=c,i=(i=function(e){if(e.components){var t,n,i=b.getAddonDir(c),o=v.extend({},b.components);for(t in b.components=b.Core.components={},o)o.hasOwnProperty(t)&&!o[t].alias&&delete o[t];for(n in b.cachedTemplates)b.cachedTemplates.hasOwnProperty(n)&&!o[n]&&delete b.cachedTemplates[n];var r=o,a=[];e.components.forEach(function(t){a.push(b.readComponent2(t,i,e))}),v.when.apply(null,a).then(function(){b.Core.components=b.components=v.extend(b.components,r),b.initComponentsPalette(function(){b.$componentsLayer.find(".add-component-filter").remove(),b.createComponentsFilter(),b.addComponentsFilterTab("Extension",y("Extensions"),y("Show Blocks From Extensions"))}),u=!0,b.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",l.find(".card-img img").attr("src")).end().find(".blocks-theme-name").text(l.find(".card-title").text()),s.remove()})}})||function(){},b.getAddonsEx(function(t){for(var e=0;e<t.length;e++)if(t[e].name===n)return void b.readAddon(b.getAddonDir(n),i);i()},{type:"theme"})),e.then(function(t){var t=p(t,2),e=t[0],n=t[1];try{var i,o=JSON.parse(e),r={};for(i in o.components){var a=o.components[i].path.split("/"),s=/components/.test(o.components[i].path)?o.components[i].path:"components/"+o.components[i].path;r[o.components[i]._group]||(r[o.components[i]._group]=[]),r[o.components[i]._group].push({name:a[a.length-1],thumb:n?b.getAddonDir(c).replace("web/app/","app/")+"/"+s+"/thumb.png":"https://my.mobirise.com/data/upload/thumbs/"+c+"/"+s+"/thumb.png",_once:o.components[i]._once||!1})}return[r,n]}catch(t){throw console.log(t),t}}).then(function(t){var e,t=p(t,2),n=t[0],i=(t[1],""),o=b.$componentsLayer.find(".add-component-groups");for(e in o.find("> ul").empty(),n){for(var r in i=i+("<h5 data-group="+e.replace(/\s/g,"_")+">"+y(e,"blocks")+"</h5>")+'<ul class="row">',o.find("> ul").append('<li data-group-name="'+e.replace(/\s/g,"_")+'">'+e+"</li>"),n[e]){var a=n[e][r].thumb,s={"component-once":n[e][r]._once};i+=b.generateComponentPaletteItemHtml(n[e][r].name,a,"not-available",s)}i+="</ul>"}b.insertComponentPaletteHTML(i),b.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",l.find(".card-img img").attr("src")).end().find(".blocks-theme-name").text(l.find(".card-title").text())},function(){b.$body.removeClass("app-add-component-open"),b.$componentsToggleBtn.trigger("click")}).always(function(){s.remove(),o.modal("hide")}))})}})})}))},sidebarOpened:function(){this.hideComponentsList()},showProjectSettings:function(){this.hideComponentsList()},updatedUserBlocks:function(){t&&(t=!1,b.$componentsLayer.find(".ext-link").insertAfter(b.$componentsLayer.find(".app-layer-cont-user")))},hideComponents:function(t){!v(".app-template").hasClass("scaled")||t&&v(t.target).is("iframe")||e()},clickTemplate:function(t){v(".app-template").hasClass("scaled")&&(v(".app-template").removeClass("scaled"),b.Core.$body.removeClass("scaled"),b.Core.$template.removeClass("scaled"),(t=v(t.target).is("[data-app-component-id]")?v(t.target):v(t.target).closest("[data-app-component-id]")).length)&&(t=t.offset().top,b.Core.$body.closest("html").stop().animate({scrollTop:t},0))}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-component-params",function(M,B,N,E){function A(t){t=t.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?(console.error("Invalid base64 image string"),null):t[2]}function L(t){var e,n=/\-\d+x\d+$/,t=E.splitPath(t),i=t.name;return e=(e=i.match(n))&&e[0]||"",30<(i=(i=i.replace(n,"")).replace(/\-h_[a-z0-9]+$/,"")).length&&(i=i.substring(0,29)),t.dir+"/"+i+"-h_"+Date.now().toString(36)+e+"."+t.ext}function O(n){return new Promise(function(i,o){var t=document.createElement("canvas");t.width=n.naturalWidth,t.height=n.naturalHeight,document.getElementsByTagName("body")[0].appendChild(t);t.getContext("2d").drawImage(n,0,0);var e=t.toDataURL("image/jpeg"),t=(t.remove(),function(t,e){e=e||"";for(var n=window.atob(t.replace("data:image/jpeg;base64,","")),i=[],o=0;o<n.length;o+=512){for(var r=n.slice(o,o+512),a=new Array(r.length),s=0;s<r.length;s++)a[s]=r.charCodeAt(s);var l=new Uint8Array(a);i.push(l)}return new Blob(i,{type:e})}(e,"image/jpeg"));E.transformImage(t,{quality:60,width:800},function(n){E.loadLocalBlob(n,function(t){E.removeLocal(n);var e=new FileReader;e.readAsDataURL(t),e.onload=function(){i(e.result||"")},e.onerror=function(t){o(t)}})})})}B.regExtension({name:"component-params",global:{$componentsParams:M("#edit-component-params"),prepareComponentParams:function(t,e){var n=this.Core.getComponentParams(t),i=this.Core.getComponent(t),o=!n||!n.default||M.isEmptyObject(n.default);if(this.applyFilter("preventParamsShow",o,t))return!1;this.fire("prepareComponentParams",t),this.Core.focusComponentBlock(t);var r,a="";for(r in n.default){var s=n.default[r],l=n.current[r],c="",d="",u="",p="";switch(s.halfWidth&&(p+=" half-width"),s.inline&&(p+=" inline-param"),void 0!==s.condition&&(c='data-app-condition="'+JSON.stringify(s.condition).replace(/\"/g,"'")+'"'),void 0!==s.regexp&&(d='data-app-regexp="'+s.regexp+'"'),void 0!==s.regexpError&&(u='<small class="regexp-error text-warning" style="display: none;">'+s.regexpError+"</small>"),s.type){case"separator":a+=['<div class="separator '+p+'" '+c+">",N(s.title,B.theme.name)||"","</div>"].join("");break;case"label":a+=['<div class="'+p+'" '+c+">",N(s.title,B.theme.name)||"","</div>"].join("");break;case"text":a+=['<div class="form-group '+p+'" '+c+" "+d+">","<label>"+N(s.title,B.theme.name)+"</label>",'<input name="'+r+'" type="text" class="form-control" value="'+l+'">',u,"</div>"].join("");break;case"textarea":a+=['<div class="form-group '+p+'" '+c+" "+d+">","<label>"+N(s.title,B.theme.name)+"</label>",'<textarea name="'+r+'" class="form-control">'+l+"</textarea>",u,"</div>"].join("");break;case"switch-off":l=!l;case"switch":a+=['<div class="togglebutton '+p+'" '+c+">",'<label style="width: 100%;">','<input type="checkbox" name="'+r+'" '+(l?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',N(s.title,B.theme.name),"</label>","</div>"].join("");break;case"radio":a+=['<div class="radio radio-primary '+p+'" '+c+"><label>",'<input name="'+(s.name||r)+'" data-name="'+r+'" type="radio" '+(l?"checked":"")+' value="'+r+'">','<span class="circle"></span>','<span class="check"></span>',N(s.title,B.theme.name),"</label></div>"].join("");break;case"check":for(var f in a=(a+='<div class="check '+p+'" '+c+">")+('<span class="label">'+N(s.title,B.theme.name)+"</span><br>"),s.values){var h=0;for(_ in l)l[_]==f&&(h=1);a+=['<input type="checkbox" id="'+r+f+'" value="'+f+'" name="'+r+'" '+(h?"checked":"")+">",'<label for="'+r+f+'">'+s.values[f]+"</label><br>"].join("")}a+="</div>";break;case"select":for(var m in a=(a=(a+='<div class="select '+p+'" '+c+">")+("<label>"+N(s.title,B.theme.name)+"</label>"))+('<select class="form-control" name="'+r+'"'+(s.multiple?" multiple":"")+">"),s.values)if(s.multiple){var g=!1;if(l&&l.length)for(var v=0;v<l.length;v++)if(l[v]===m){g=!0;break}a+='<option value="'+m+'"'+(g?" selected":"")+">"+s.values[m]+"</option>"}else a+='<option value="'+m+'" '+(l==m?"selected":"")+">"+s.values[m]+"</option>";a=a+"</select>"+"</div>";break;case"fonts":var a=(a+='<div class="fonts '+p+'" '+c+">")+("<label>"+N(s.title,B.theme.name)+"</label>"),l=l||{},b=B.getAccesibleFonts();for(f in a+='<select class="form-control" name="'+r+'">',b){var y=b[f];a+='<option value="'+y.name+'" '+((l||{}).name==y.name?"selected":"")+'><span style="font-family:'+y.css+'">'+y.name+"</span></option>"}a=a+"</select>"+"</div>";break;case"color":a+=['<div class="color '+p+'" '+c+">","<label>"+N(s.title,B.theme.name)+"</label>",'<input type="text" class="spectrum" name="'+r+'" value="'+l+'">',"</div>"].join("");break;case"range":a+=['<div class="range form-group'+(p?" "+p:"")+'"'+(c?" "+c:"")+">","<label>"+N(s.title,B.theme.name)+"</label>",'<div class="slider" data-min="'+(s.min||0)+'" data-max="'+(s.max||50)+'" data-step="'+(s.step||1)+'" name="'+r+'" data-value="'+(l||0)+'"></div>','<input type="text" name="'+r+'" style="display: none;" value="'+(l||0)+'">',"</div>"].join("");break;case"image-tabs":var w="",x="";for(f in l)if("function"!=typeof l[f]){var _,k=l[f].active;for(_ in w+='<li class="'+(k?"active":"")+'" style="background-image: url(\''+l[f].image+'\')"><span class="sort-handle mbr-icon-exchange"></span></li>',x+='<div class="tab-params'+(k?" active":"")+'">',s._params){var S=s._params[_].type,C=s._params[_].title,P=s._params[_].values,T=l[f][_],j="";switch(void 0!==s._params[_].condition&&(j='data-app-condition="'+JSON.stringify(s._params[_].condition).replace(/\"/g,"'")+'"'),S){case"switch-off":T=!T;case"switch":x+=['<div class="togglebutton" '+j+">",'<label style="width: 100%;">','<input type="checkbox" data-type="switch" data-name="'+_+'" name="'+r+'" '+(T?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',C,"</label>","</div>"].join("");break;case"text":x+=['<div class="form-group" '+j+">","<label>"+C+"</label>",'<input data-name="'+_+'" name="'+r+'" type="text" data-type="text" class="form-control" value="'+T+'">',"</div>"].join("");break;case"range":x+=['<div class="range form-group" '+j+">","<label>"+C+"</label>",'<div class="slider" data-min="'+(s._params[_].min||0)+'" data-max="'+(s._params[_].max||1)+'" data-step="'+(s._params[_].step||.1)+'" name="'+r+'" data-value="'+(T||s._params[_].default||.5)+'"></div>','<input type="text"  data-type="range" data-name="'+_+'" name="'+r+'" style="display: none;" value="'+(T||0)+'">',"</div>"].join("");break;case"color":x+=['<div class="color" '+j+">","<label>"+C+"</label>",'<input type="text" data-type="color" class="spectrum" data-name="'+_+'" name="'+r+'" value="'+(T||s._params[_].default)+'">',"</div>"].join("");break;case"select":var E,A="";for(E in P)A+='<option value="'+E+'" '+(T==E?"selected":"")+">"+P[E]+"</option>";x+=['<div class="select" '+j+">","<label>"+C+"</label>",'<select class="form-control" data-type="select" data-name="'+_+'" name="'+r+'">',A,"</select>","</div>"].join("");break;case"image":var L=l[f].thumb||T;x+=['<div class="image" '+j+">","<label>"+C+"</label>",$=($='<img data-type="image" data-name="'+_+'" name="'+r+'" '+(l[f].thumb?'data-thumb-img="thumb"':"")+' style="width: 50%; margin-bottom: 5px; cursor: pointer; float: right;" src="$SRC$" alt="">').replace(/\$SRC\$/g,L),"</div>"].join("")}}x+="</div>"}a+=['<div class="image-tabs '+p+'" data-name="'+r+'" '+c+">","<label>"+N(s.title,B.theme.name)+"</label>",'<div class="images">','<div class="add-item btn btn-primary"><i class="mbr-icon-plus"></i></div>',"<ul>",w,'<li class="add-item btn btn-primary"><i class="mbr-icon-plus"></i></li>',"</ul></div>",'<div class="cont">'+x+"</div>",'<div class="foot"><div class="remove-item btn btn-material-red"><i class="mbr-icon-trash"></i> '+N("Remove")+"</div></div>","</div>"].join("");break;case"image":var O,$='<img class="background-thumb" data-type="image" data-name="'+_+'" name="'+r+'" src="$SRC$" alt="">';l&&(O=l),O=this.applyFilter("getExternalThumb",O,l),$=$.replace(/\$SRC\$/g,O),a+=['<div class="image" '+c+">",'<span class="label">'+N(s.title,B.theme.name)+"</span>",$,"</div>"].join("");break;case"video":var I=(void 0!==l.url?l:s.default).url,D=((void 0!==l.aspectratio?l:s.default).aspectratio,(void 0!==l.autoplay?l:s.default).autoplay),F=(void 0!==l.loop?l:s.default).loop;a=(a+='<div class="video" '+c+">")+['<div class="form-group">',"<label>"+N(s.title,B.theme.name)+"</label>",'<input name="'+r+'" data-name="url" type="text" class="form-control" value="'+I+'">',"</div>"].join(""),void 0!==D&&(a+=['<div class="togglebutton">','<label style="width: 100%;">','<input type="checkbox" data-name="autoplay" name="'+r+'" '+(D?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',"Autoplay","</label>","</div>"].join("")),void 0!==F&&(a+=['<div class="togglebutton">','<label style="width: 100%;">','<input type="checkbox" data-name="loop" name="'+r+'" '+(F?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',"Loop","</label>","</div>"].join("")),a+="</div>";break;case"map":a+=['<div class="form-group '+p+'" '+c+">","<label>"+N(s.title,B.theme.name)+"</label>",'<textarea name="'+r+'" class="form-control">'+B.escapeHtml(l.address)+"</textarea>",'<div class="map-update-wrapper" style="text-align: right"><span style="font-size: 14px; display: block; text-align: right; padding-top: 7px">'+N("Type address or insert")+' <a href="https://mobirise.com/help/how-to-add-google-map-to-website-781.html" target="_blank">'+N("google map iframe")+'</a></span><button class="btn btn-primary map-update" disabled>'+N("Update")+"</button></div>","</div>"].join("")}}a=this.applyFilter("prepareComponentParams",a,t),this.destroyDragParams(),this.$componentsParams.attr("data-component-id",t),this.$componentsParams.find("> .cont").html(a),this.$componentsParams.find(".fonts select").dropdown({absolutePos:!0,align:"right"}),this.$componentsParams.find(".fonts .dropdownjs").each(function(){var t=M(this).data("select"),t=M(t.data("dropdownjs-ul"));t.find("li").each(function(){var t=B.getFont(M(this).attr("value"));M(this).css("font-family",t.css)}),t.addClass("fonts-dropdownjs")}),this.$componentsParams.find("select").dropdown({absolutePos:!0,align:"right"});o=this.Core.$template.find("[data-app-component-id="+t+"] .app-component-content > *");return this.fire("preparedComponentParams",t,i,o),this.initDragParams(t),this.checkConditionsComponentParams(t),"function"==typeof i._onParamsShow&&e&&i._onParamsShow(e,this.$componentsParams.find("> .cont"),this.Core.$template.find("[data-app-component-id="+t+"] .app-component-content > *")),!0},calulateComponentParams:function(){var t,e,n,i,o,r,a,s=this.$componentsParams.data("app-params-btn");s&&(t=[150,550],e=this.$componentsParams.find("> .cont").scrollTop(),this.$componentsParams.find("> .cont").css({maxHeight:""}),r=this.$componentsParams.height(),a=!1,n=(this.appElements.window.height-this.appElements.iframe.height)/2-30,s=s.getBoundingClientRect(),i=this.appElements.window.height-this.appElements.iframe.height+s.top+s.height-parseInt(n),o=(this.appElements.window.width-this.appElements.iframe.width)/2+this.appElements.iframe.width-s.right,this.$componentsParams.removeClass("top"),i+60+r>=this.appElements.window.height&&((r=i-r-s.height)<this.appElements.window.height-this.appElements.iframe.height-parseInt(n)?(s=this.appElements.window.height-i-30,a=Math.min(t[1],Math.max(t[0],s))):(i=r,this.$componentsParams.addClass("top"))),this.$componentsParams.css({top:i,right:o}),this.$componentsParams.find("> .cont").css({maxHeight:a||""}).scrollTop(e),this.$componentsParams.find("select").each(function(){M(this).data("dropdownjs-ul")&&!M(this).is("[multiple]")&&M(M(this).removeClass("focus").data("dropdownjs-ul")).removeClass("focus")}))},showComponentParams:function(t,e){this.$componentsParams.data("app-params-btn",t),this.calulateComponentParams();var n=B.Core.getComponent(e),i=B.Core.$body.find("[data-app-component-id="+e+"]");setTimeout(function(){B.$body.addClass("app-component-params-open"),this.fire("showedComponentParams",n,i)}.apply(this),0)},hideComponentParams:function(){this.fire("hideComponentParams"),this.$componentsParams.removeData("app-params-btn"),this.$body.removeClass("app-component-params-open"),this.fire("hiddenComponentParams"),this.$componentsParams.find("select").each(function(){M(this).data("dropdownjs-ul")&&M(M(this).removeClass("focus").data("dropdownjs-ul")).remove()})},changeComponentParams:function(o){this.fire("changeComponentParams");var t,e,r=M(o).parents("[data-component-id]:eq(0)").attr("data-component-id"),n=this.Core.getComponentParams(r),a=M(o).attr("name"),i=(a&&n.default[a]||(a=M(o).attr("data-name")),n.default[a].type),s=this,l=!!(e=M(o).parents("[data-app-regexp]").attr("data-app-regexp"))&&(t=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+t+"$"),"$1"),new RegExp(e,t)),c=M(o).parent().children(".regexp-error");switch(i){case"text":case"textarea":u=o.value,l&&(u.match(l)?c.hide():(u="",c.show()));break;case"switch-off":u=!o.checked;break;case"switch":u=o.checked;break;case"radio":M(o).parents("#edit-component-params:eq(0)").find("[name="+M(o).attr("name")+"][data-name!="+a+"]").each(function(){s.Core.changeComponentParams(r,M(this).attr("data-name"),this.checked)}),u=o.checked;break;case"check":var d=M(o).parent().find("[name="+a+"]:checked"),u=[];d.each(function(){u.push(this.value)});break;case"select":u=M(o).val();break;case"fonts":d=M(o).val();d?(u=B.getFont(d)).name||console.log("Error: unknown font selected:"+d):u={};break;case"image":var p={image:{width:2e3,quality:70,src:n.current[a]}};return void B.showMediaImageDialog(p,function(){s.Core.changeComponentParams(r,a,p.image.src),s.checkConditionsComponentParams(r)},!1,!0);case"color":case"range":u=M(o).val();break;case"video":var d=M(o).parents(".video:eq(0)"),f=d.find("[data-name=url]").val(),h=d.find("[data-name=aspectratio]").val(),m=f,g=(g=d.find("[data-name=loop]")).length?g.is(":checked"):void 0,d=(d=d.find("[data-name=autoplay]")).length?d.is(":checked"):void 0,v=f.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/),b=v?11==v["embed/"==v[2]?3:2].length:0,y=f.match(/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/);v&&b?f="https://www.youtube.com/embed/"+v[2]+"?rel=0&amp;"+(d?"mute=1":"")+"&showinfo=0&autoplay="+(d?1:0)+"&loop="+(g?"1&playlist="+v[2]:0):y&&y[3]&&(f="https://player.vimeo.com/video/"+y[3]+"?autoplay="+(d?1:0)+"&loop="+(g?1:0)),(u={}).url=f,u.loop=g,u.rawUrl=m,u.autoplay=d,u.aspectratio=h,u.width="4:3"==h?800:1280,u.height="4:3"==h?600:720;break;case"map":return void this.fire("map.changeComponentParams",r,a,o.value,M(o).closest(".form-group"));case"image-tabs":u=[];var w=M(o).closest(".tab-params").index(),x=M(o).attr("data-name");switch(u[w]={},M(o).attr("data-type")){case"switch":u[w][x]=o.checked;break;case"select":case"text":case"range":case"color":u[w][x]=o.value;break;case"image":var _=M(o).attr("data-thumb-img"),k={image:{width:2e3,quality:70,src:n.current[a][w][x]}},S="carousel"===n.default[a].subtype&&!!n.default[a].fullscreen,C="carousel"===n.default[a].subtype,P=n.default[a].fullscreen,T=B.Core.getComponentBlock(r),j=void 0,j=C?P?M(T).find(".carousel-item").eq(w):M(T).find(".carousel-item").eq(w).find("img:visible"):M(T).find(".mbr-gallery-item").eq(w).find("img:visible");return S||(k.image.alt=n.current[a][w].alt,k.image.title=n.current[a][w].title),void B.showMediaImageDialog(k,function(){function i(t){M(o).parent().find("> img").attr("src",t),M(o).parents(".image-tabs:eq(0)").find(".images li.active").css("background-image",'url("'+t+'")'),s.Core.changeComponentParams(r,a,u),s.checkConditionsComponentParams(r),s.calulateComponentParams(),j.siblings(".m-img-preloader").remove()}var t,e=j.width(),n=j.height();j.before('<div class="m-img-preloader" style="width:'+e+"px; height:"+n+'px;">\n                                            '+B.preloaderHTML+"\n                                        <div>"),u[w][x]=k.image.src,S||(u[w].alt=k.image.alt,u[w].title=k.image.title),_?/(gif|svg|ico|tif|webp)$/i.test(k.image.src)||(t=M("<img/>")).attr("src",k.image.src).attr("crossorigin","anonymous").on("load",function(){O(t[0]).then(function(t){var e=k.image.src.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0],n=L(B.projectPath+"/assets/images/"+e.replace(/\.jpeg$/,".jpg"));E.saveLocalBase64(n,A(t),function(t){t?(console.log("saveLocalBase64"),u[w][_]=E.path2app(n),i(E.path2app(n))):(console.warn("Unable to get thumb"),i(k.image.src))})})}):i(k.image.src)},S,!0,!1,r,!1,j)}}this.Core.changeComponentParams(r,a,u),this.checkConditionsComponentParams(r),this.calulateComponentParams(),this.fire("changedComponentParams")},checkConditionsComponentParams:function(t){var d=this.Core.getComponentParams(t),u=this.Core.getComponent(t);this.$componentsParams.find("[data-app-condition]").each(function(){var t=JSON.parse(M(this).attr("data-app-condition").replace(/\'/g,'"')),e=!0;if("string"==typeof t&&"function"==typeof u[t])e=u[t]();else if("object"==(void 0===t?"undefined":f(t))&&t.length)for(var n in t){for(var i=t[n].match(/^!/i),o=t[n].replace(/^!(.*?)/i,"$1").split("."),r=d.current,a=d.default,s=0;s<o.length&&void 0!==r;s++)if(r=r[o[s]],M.isArray(r)){for(var l=-1,c=0;c<r.length;c++)if(r[c].active){l=c;break}r=r[l],a=a[o[s]]&&a[o[s]]._params}else a=a[o[s]]&&a[o[s]].default;if(void 0!==(r=void 0===r?a:r)){n=!r;if(n=i?!n:n){e=!1;break}}}e?M(this).show():M(this).hide()})},initDragParams:function(s){var l=this;l.$componentsParams.find(".image-tabs .images > ul").each(function(){var a;M(this).sortable({axis:"x",items:"> li:not(:last-child)",handle:".sort-handle",containment:"#edit-component-params",placeholder:"ui-sortable-placeholder"}).on("sortstart",function(t,e){a=e.item.index()}).on("sortstop",function(t,e){var n=e.item.index();if(n!=a){var i=n<a?"insertBefore":"insertAfter",i=(l.$componentsParams.find(".image-tabs .cont > div:eq("+a+")")[i](l.$componentsParams.find(".image-tabs .cont > div:eq("+n+")")),e.item.parents("[data-name]:eq(0)").attr("data-name")),o=l.Core.getComponentParams(s,!0).current[i];if(n>=o.length)for(var r=n-o.length;1+r--;)o.push(void 0);o.splice(n,0,o.splice(a,1)[0]),B.Core.$document.trigger("change.cards"),B.Core.changeComponentParams(s)}})})},destroyDragParams:function(){this.$componentsParams.find(".image-tabs .images > ul").each(function(){M(this).sortable("destroy")})},selectComponentParamsTab:function(t,e){var n=t.index(),i=t.parents(".image-tabs:eq(0)").find(".cont > div:eq("+n+")"),o=t.parent().find("> .active"),r=t.parents("[data-component-id]:eq(0)").attr("data-component-id"),a=t.parents(".image-tabs:eq(0)").attr("data-name"),a=this.Core.getComponentParams(r,!0).current[a];o.length&&(a[o.index()].active=!1),a[n].active=!0,t.addClass("active").siblings().removeClass("active"),i.addClass("active").siblings().removeClass("active"),this.checkConditionsComponentParams(r)},addComponentParamsTab:function(t,e){var n=t.parent(),i=t.parents("[data-component-id]:eq(0)").attr("data-component-id"),t=t.parents(".image-tabs:eq(0)").attr("data-name"),d=this.Core.getComponentParams(i,!0).current[t],o=M(e.target).closest(".image-tabs").find("> div > ul").children().length-1,r=[],u=n.find("> .active").index(),p=void 0!==d[u].thumb,a=0<=B.Core.getComponent(i)._name.toLowerCase().indexOf("slider"),t={image:{width:2e3,quality:70,src:d[u].image}};a||(t.image.alt="",t.image.title=""),B.showMediaImageDialog(t,function(s){var l=0;function c(){B.Core.changeComponentParams(i),B.Core.fire("addComponentParamsTab",i)}function e(a,n){return new Promise(function(i,t){function o(){var t=M.extend(!0,{},d[u],a);t.active=!1,d.push(t),void 0!==n&&n+1!==s.length||c(),1<s.length?(l++,B.progressBar("show",N("Loading images"),"  ",!0),B.progressBar(l+" / "+s.length,!0),B.progressBar({progress:100/s.length*l},"","",!0),l===s.length&&(B.progressBar("hide"),B.hidePreloader())):B.hidePreloader()}if(!p)return o(),i();var e,r=s[n]||s.image.src;/(gif|svg|ico|tif|webp)$/i.test(r)?(a.thumb=r,o(),i()):(e=M("<img/>")).attr("src",r).attr("crossorigin","anonymous").on("load",function(){O(e[0]).then(function(t){var e=r.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0],n=L(B.projectPath+"/assets/images/"+e.replace(/\.jpeg$/,".jpg"));E.saveLocalBase64(n,A(t),function(t){t?(a.thumb=E.path2app(n),o()):console.warn("Unable to get thumb"),i()})})})})}var n=Promise.resolve();if("object"!==(void 0===s?"undefined":f(s))||Array.isArray(s))for(var t=0;t<s.length;t++)!function(t){r[o+t]={},r[o+t].image=s[t],a||(r[o+t].alt="",r[o+t].title=""),n=n.then(function(){return e(r[o+t],t)})}(t);else r[o]={},r[o].image=s.image.src,a||(r[o].alt="",r[o].title=""),[].push(e(r[o]))},a,!0,!0)},removeComponentParamsTab:function(t,e){var n,i,o,r=t.parents(".image-tabs:eq(0)").find(".images > ul"),a=t.parents(".image-tabs:eq(0)").find(".cont");r.find("> li:not(.add-item)").length<=1||(n=t.parents("[data-component-id]:eq(0)").attr("data-component-id"),t=t.parents(".image-tabs:eq(0)").attr("data-name"),i=r.find("> .active").index(),t=this.Core.getComponentParams(n,!0).current[t],o=r.find("> li:eq("+(0<=i-1?i-1:i+1)+"):not(.add-item)"),t.splice(i,1),r.find("> li:eq("+i+")").remove(),a.find("> div:eq("+i+")").remove(),this.Core.changeComponentParams(n),o.click())}},events:{load:function(){var n,o=this;o.$template.on("click",".app-component .component-params",function(t){t.preventDefault();var e=M(this).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");o.$componentsParams.attr("data-component-id")==e&&o.$body.hasClass("app-component-params-open")?(o.Core.focusComponentBlock("x"),o.hideComponentParams()):o.prepareComponentParams(e,t)&&o.showComponentParams(t.target,e)}),o.$template.on("click",".app-component .component-remove",function(){var i=M(this).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");o.fire("removeComponent",i),E.getSettings("dontShowRemoveBlockModal",function(t){function e(){o.Core.getComponent(i)._global&&1<Object.keys(o.Core.resultJSON).length?o.confirmDlg(N("This block is global. Do you want to remove it from all pages?"),function(t){t?o.Core.removeComponent(i,B.Core.currentPage,!0):o.Core.removeComponent(i)}):o.Core.removeComponent(i),o.fire("removedComponent",i)}var n;"true"!==t?n=B.showDialog({body:['<div class="form-group">',N("Do you want to remove the $ID$ block?").replace("$ID$","<b>#"+o.$template.find('div[data-app-component-id="'+i+'"] .app-component-content > *').attr("id")+"</b>")+"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',N("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:N("Cancel"),className:"btn-default"},success:{label:N("Ok"),className:"btn-primary",callback:function(){var t=n.find("#dont-show-again")[0].checked;E.setSettings("dontShowRemoveBlockModal",t),e()}}}}):e()})}),o.$template.on("mousedown touchstart",".app-component .app-component-content",function(t){n=M(this).parents("[data-app-component-id]:eq(0)").find("[contenteditable]:focus").length}),o.$template.on("click",".app-component .app-component-content",function(t){t.preventDefault();var e=M(this).parents("[data-app-component-id]:eq(0)");n?n=void 0:(e=e.attr("data-app-component-id"),o.$body.hasClass("app-component-params-open")?(o.Core.focusComponentBlock("x"),o.hideComponentParams()):(o.Core.focusComponentBlock(e),M(t.target).is("img[data-app-edit], .mbr-nav-toggle, [data-app-prevent-settings]")||M(t.target).parents(".mbr-google-map:eq(0)").length||M(t.target).parents("[data-app-prevent-settings]:eq(0)").length||o.fire("componentClicked",e,t)))}),o.$template.on("scroll",function(){o.calulateComponentParams()}),o.$componentsParams.on("change input","input, textarea, select",function(){o.changeComponentParams(this)}),o.$componentsParams.on("click",".image .btn, .image img",function(){o.changeComponentParams(this)}),o.$componentsParams.on("click",".image-tabs .images > ul > li:not(.add-item, .active)",function(t){o.selectComponentParamsTab(M(this),t)}),o.$componentsParams.on("click",".image-tabs .images > ul > li.add-item",function(t){o.addComponentParamsTab(M(this),t)}),o.$componentsParams.on("click",".image-tabs .images >div.add-item",function(t){o.addComponentParamsTab(M(this).parent().find("li.add-item"),t)}),o.$componentsParams.on("click",".image-tabs .foot .remove-item",function(t){o.removeComponentParamsTab(M(this),t)}),o.$template.on("mousedown touchstart",".app-component .sortable",function(){o.hideComponentParams()}),o.Core.on(["showedPopover"],function(){o.hideComponentParams()}),B.on(["showedPopup"],function(){o.hideComponentParams()}),o.Core.addFilter("prepareComponent",function(t){return N(t)}),o.Core.addFilter("changeComponentParams",function(t,e,n,i){return B.applyFilter("changeComponentParams",t,e,n,i)})},resizeTemplate:function(){this.calulateComponentParams(),this.hideComponentParams()},toggleComponents:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},removeComponent:function(){this.hideComponentParams()},sidebarOpened:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},openThemeSettings:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},showPublishModal:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-theme-settings",function(u,c,d,n){var t="app-theme-settings-open",e="app-theme-settings-toggle-visible",i="#theme-settings",o=".app-theme-settings-toggle",s={};function r(t,e){var n,i;function o(){(n=!!i)&&(t.apply(i.this,i.args),i=null,setTimeout(o,e))}return function(){i={this:this,args:arguments},n||o()}}l="."+(a="settings.toggle"),p=!1,f=[],m.prototype.setTarget=function(t){return this.target=t,this},m.prototype.open=function(){return this.target&&(this.$elm.tooltipster("hide").tooltipster("content",d("Close")),this.target.open()),this},m.prototype.close=function(){return this.target&&(this.$elm.tooltipster("hide").tooltipster("content",this.$elm.data("tooltipster-initialTitle")),this.target.close(),"true"!==c.appSettings.showSiteStylesBtn)&&c.$themeToggleBtn.css("visibility","hidden"),this},m.prototype.onClick=function(){this.target&&(this.target.isOpen()?this.close():this.open())},m.prototype.show=function(){return this.$elm.addClass(e),this},m.prototype.hide=function(){return this.$elm.removeClass(e),this},m.closeAll=function(){f.forEach(function(t){t.close()})};var a,l,p,f,h=m;function m(t){if(p||(p=!0,u(c.iframe).on("click"+l,m.closeAll),c.on("sidebarOpened",m.closeAll),c.on("toggleComponents",m.closeAll),c.on("clickBody",function(t){if(!u(t.target).closest(".dropdownjs-ul").length){for(var e=u(t.target).parents().add(t.target),n=0;n<f.length;n++){var i=f[n],o=i.target&&i.target.getElm();if(i.$elm.filter(e).length)return;if(o&&(o.filter?o:u(o)).filter(e).length)return}m.closeAll()}})),!(t=t||{}).selector)throw new Error("Unknown selector! For example: new Toggle({selector: '.btn-toggle'}).");this.$elm=u(t.selector),t.target&&(this.target=t.target),t.visible&&this.show();var t=this.$elm.data(a);t?(t=f.indexOf(t),f[0<=t?t:f.length]=this):f.push(this),this.$elm.data(a,this),this.$elm.off("click"+l).on("click"+l,u.proxy(this.onClick,this))}b="."+(v="settings.sidebar"),c.on("sidebarOpened",function(){g&&u(g).spectrum("hide")}),_.prototype.isOpen=function(){return c.$body.hasClass(this.classNameOpen)},_.prototype.open=function(){return this.callbacks.open&&this.callbacks.open(),c.$body.addClass(this.classNameOpen),w.call(this),this},_.prototype.close=function(){return c.$body.removeClass(this.classNameOpen),this},_.prototype.getElm=function(){return this.$elm};var g,v,b,y=_;function w(){function n(t,e){return-1==(e=e.map(function(t){return t.toUpperCase()})).indexOf(t.toUpperCase())}this.$elm.find('[data-setting-type^="color"] input').spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:d("More")+" >",togglePaletteLessText:d("Less")+" <",maxSelectionSize:1,palette:c.getThemeColorsSet(7),show:function(){g=this},move:function(t){u(this).val(t.toHexString()).trigger("change"+b)},hide:function(t){var e;t&&((e=c.projectSettings.theme.additionalSetColors)?n(t.toHexString(),e)&&n(t.toHexString(),c.getThemeColorsSet(7)[0])&&(e.length<7?e.push(t.toHexString()):(e.unshift(t.toHexString()),e.pop())):n(t.toHexString(),c.getThemeColorsSet(7)[0])?c.projectSettings.theme.additionalSetColors=[t.toHexString()]:c.projectSettings.theme.additionalSetColors=[])}})}function x(){var e="",l=this.settings;this.$elm.find('[data-setting-type^="color"] input').spectrum("destroy"),l.getSource().forEach(function(t){e+=function t(e){var n="";e.title=e.title&&d(e.title);switch(e.type){case"title":n+='<h4 class="app-layer-title">'+F(e.title)+"</h4>";break;case"subtitle":n+='<h5 class="app-layer-subtitle">'+F(e.title)+"</h5>";break;case"color":n+='<div class="app-layer-color" data-setting-name="'+e.var+'" data-setting-type="color"><label>'+F(e.title)+'</label><input class="mbr-color" type="text" value="'+F(l.get(e.var))+'"></div>';break;case"group":for(var i in n+='<div class="app-layer-group'+(e.class?" app-layer-group-"+e.class:"")+'" data-group-name="'+(e.name||"")+'">',e.title&&(n+="<label>"+F(e.title)+"</label>"),e.set)n+=t(e.set[i]);n+="</div>";break;case"colors":for(var i in n+='<div class="app-layer-color" data-setting-type="colors"><label>'+F(e.title)+'</label><div class="app-layer-color-set">',e.set){var o=e.set[i].var;n+='<input type="text" class="mbr-color" name="'+o+'" value="'+F(l.get(o))+'"> '}n+="</div></div>";break;case"font":var r=c.getAccesibleFonts(),a=l.get(e.var);for(i in n+='<div class="app-layer-font fonts dropdownjs-add" data-setting-name="'+e.var+'" data-setting-type="font">',e.title&&(n+="<label>"+F(e.title)+"</label>"),n+='<select class="form-control">',r){var s=r[i];n+='<option value="'+s.name+'"'+(s.name==a?" selected":"")+">"+s.name+"</option>"}n+="</select></div>";break;case"range":a=l.get(e.var);n+='<div class="app-layer-range" data-setting-type="range" data-setting-name="'+e.var+'">'+(e.title?"<label>"+F(e.title)+"</label>":"")+'<input type="text" class="form-control" name="'+e.var+'"  data-min="'+(e.min||0)+'" data-max="'+(e.max||100)+'" data-step="'+(e.step||1)+'" value="'+(a||0)+'"></div>';break;case"select":a=l.get(e.var);for(i in n+='<div class="app-layer-select dropdownjs-add" data-setting-name="'+e.var+'" data-setting-type="select">',e.title&&(n+="<label>"+F(e.title)+"</label>"),n+='<select class="form-control">',e.values)n+='<option value="'+e.values[i]+'"'+(e.values[i]==a?" selected":"")+">"+F(e.values[i])+"</option>";n+="</select></div>";break;case"switch":n+='<div class="app-layer-checkbox togglebutton" data-setting-name="'+e.var+'" data-setting-type="switch"><label><input type="checkbox"'+(l.get(e.var)?" checked":"")+'><span class="toggle pull-right"></span>'+F(e.title)+"</label></div>"}n&&e.groupName&&(n='<div data-group-name="'+F(e.groupName)+'">'+n+"</div>");return n}(t)}),this.$elm.find(".app-layer-cont").html(e),this.$elm.off("change"+b).on("change"+b,"input, select",function(t){var e=u(this),n=e.closest("[data-setting-type]"),i=n.attr("data-setting-name"),o=e.is('[type="checkbox"]')?e.prop("checked"):e.val();"colors"==n.attr("data-setting-type")&&(i=e.attr("name")||""),l.set(i,o)&&c.Core.destroySummernote()}),w.call(this),this.$elm.find(".app-layer-select select, .app-layer-font select").each(function(){var e=u(this),n=(e.dropdown({absolutePos:!0,align:"right"}),e.next(".dropdownjs"));e.off("change").on("change",function(t){var t=u(t.target);t.val()&&t.val().length&&(e.attr("multiple")?e.dropdown("_select",n,e.find(":selected")):(t=e.find(":selected").length?e.find(":selected").last():e.find("option, li").first(),e.dropdown("select",n,t.val())))})}),this.$elm.find(".app-layer-font .dropdownjs").each(function(t){var e=u(this).data("select"),e=u(e.data("dropdownjs-ul"));e.find("li").each(function(){var t=c.getFont(u(this).attr("value"));u(this).css("font-family",t.css)}),e.addClass("fonts-dropdownjs")}),this.$elm.find(".app-layer-range input").each(function(){c.initPopoverRange(this)})}function _(t){if(!(t=t||{}).selector)throw new Error("Unknown selector! For example: new Sidebar({selector: '.my-sidebar', ...}).");if(!t.settings)throw new Error("Settings not found! For example: new Sidebar({settings: new Settings({}), ...}).");if(!t.classNameOpen)throw new Error("Unknown class name for open/close sidebar! For example: new Sidebar({classNameOpen: 'sidebar-opened', ...}).");this.$elm=u(t.selector),this.$elm.data(v,this),this.settings=t.settings,this.callbacks={open:t.open},this.classNameOpen=t.classNameOpen,x.call(this)}S.prototype.onChange=function(t){return this._onChange=t,this},S.prototype.set=function(t,e){return t in this._variables&&this._variables[t]!=e&&(this._variables[t]=e,this._onChange&&this._onChange(t,e),!0)},S.prototype.get=function(t){return t in this._variables?this._variables[t]:null},S.prototype.merge=function(t){for(name in t=t||{},this._variables)name in t&&(this._variables[name]=t[name]);return this},S.prototype.getSource=function(){return this._source},S.prototype.getVariables=function(){var t=[];for(name in this._variables)t.push({name:name,type:this._types[name],value:this._variables[name]});return t},S.prototype.getRawVariables=function(){return this._variables},S.prototype.isEmpty=function(){return 0==this._source.length};var k=S;function S(t){var n=this._types={},e=this._source=[],i=this._variables={};if(u.isArray(t))for(var o=0;o<t.length;o++){var r=t[o];switch(r.type){case"title":case"subtitle":e.push(r);break;case"group":var a=r.set;if(u.isArray(a)&&r.set.length){r.set=[];for(var s=0;s<a.length;s++){var l=a[s];l&&l.var&&(d(l),r.set.push(l))}e.push(r)}break;case"colors":a=r.set;if(u.isArray(a)&&r.set.length){r.set=[];for(s=0;s<a.length;s++){var c=a[s];c&&c.var&&(d(c,"color"),r.set.push(c))}e.push(r)}break;default:r.var&&(d(r),e.push(r))}}function d(t,e){switch(t.type||e){case"color":t.default=t.default||"#000000";break;case"switch":t.default=!!t.default;break;case"range":t.default=t.default||0;break;default:t.default=t.default||""}i[t.var]=t.default,n[t.var]=t.type||e}}A.isValid=function(t){return"string"==typeof t&&/^@[-a-zA-Z0-9_]+$/.test(t)},A.prototype.getName=function(){return this._name},A.prototype.isValid=function(){return this._isValid},A.prototype.eval=function(){return this._isValid&&s.get?s.get(this._name):null};var C,P,T,j,E=A;function A(t){this._isValid=A.isValid(t),this._isValid&&(this._name=t.substr(1))}function L(t){var e=u.Deferred();return n.loadLocalFile(t,function(t){e.resolve(t)}),e}function O(){c.Core.renderComponentsStyles()}function $(t){if(!s.get)return t;var e,n=u.isArray(t)?[]:{};for(e in t){var i=t[e];0==i.indexOf("@")?n[e]=new E(i).eval()||"":n[e]=i}return n}function D(){c.fire("initThemeSettings"),c.projectSettings.theme=c.projectSettings.theme||{},void 0!==c.projectSettings.theme.settings&&(c.theme.params.theme.settings=c.projectSettings.theme.settings),c.projectSettings.theme.name==c.theme.name&&(s=new k(c.theme.params.theme.settings).merge(c.projectSettings.theme.styling).onChange(function(t,e){c.fire("changeThemeSettings",t,e)}),c.projectSettings.theme.styling=s.getRawVariables(),!s.isEmpty()||c.projectSettings.theme.settings)&&(c.ToogleThemeSettings=new h({selector:o,visible:!0,target:new y({selector:i,settings:s,classNameOpen:t,open:function(){c.fire("openThemeSettings")}})}))}function F(t){return c.escapeHtml(t)}P="",T=[null],c.on("changeThemeSettings",r(O,100)),c.on("addonLoaded",function(t,e){!t.theme&&t.themeParams&&t.themeParams.customLESS&&T.push(L(c.getAddonDir(e.name)+"/"+t.themeParams.customLESS).then(function(t){return"\n\n// addon: "+e.name+"\n"+t}))}),c.on("loadedProject",function(){var t=c.theme.params.theme.customLESS;C=!1,T[0]=t?L(c.theme.pathExport+"/"+t):"",u.when.apply(u,T).done(function(){P=[].join.call(arguments,""),C&&O()})}),c.on("coreLoad",function(){var o,r,n=c.iwindow.less;function a(t,n){var e="",i="",o=[],r="",a="*"===t;return s.getVariables&&s.getVariables().forEach(function(t){var e;r+="@"+t.name+": ","font"==t.type?(e=c.getFont(t.value),r+=e.css,e.url&&(c.isAMP()?i+="@import url("+e.url+"&display=swap);":n&&o.push(e.url))):r+=t.value,r+=";\n"}),t=t||"",(a||0<=t.indexOf("imports"))&&(e+=i),(a||0<=t.indexOf("variables"))&&(e+=r),(a||0<=t.indexOf("rules"))&&(a=c.applyFilter("getCustomLessText",P),e+=(a=void 0!==c.projectSettings.theme.dynamicStyles?c.projectSettings.theme.dynamicStyles:a).replace(/^\s+/,"")),!c.isAMP()&&n&&c.fire("getPublishFonts",o),e}function t(n){return function(t,e){switch(t=t.toCSS(),e=e.toCSS(),n){case"==":return c.iwindow.less.tree.Keyword[t==e];case"<":return c.iwindow.less.tree.Keyword[t<e];case"<=":return c.iwindow.less.tree.Keyword[t<=e];case">":return c.iwindow.less.tree.Keyword[e<t];case">=":return c.iwindow.less.tree.Keyword[e<=t]}}}r=c.isAMP(),c.on("runPublish",function(){o=!0}),c.Core.addFilter("beforeRenderStyles",function(t,e,n){var i;return C=!0,n?(i=a(o?"*":"variables",n),o=!!r):i=a("variables, rules"),i+t}),c.Core.addFilter("afterRenderStyles",function(t,e,n){return n||void 0===c.projectSettings.theme.staticStyles?t:c.projectSettings.theme.staticStyles+t}),c.Core.addFilter("beforeRenderStylesForComponent",function(t,e){return a("variables")+t}),u.map({if:function(t,e,n){return"true"==t.value?e:n},eq:t("=="),lt:t("<"),lte:t("<="),gt:t(">"),gte:t(">="),includes:function(t,e){return n.tree.Keyword[0<=t.value.map(function(t){return t.value}).indexOf(e.value)?"True":"False"]}},function(t,e){n.functions.functionRegistry.add(e,t)})}),c.addFilter("getThemeButtonColors",$),c.addFilter("getThemeLinkColors",$),c.addFilter("getThemeColorsSet",$),c.on("bridgeInit",function(){function n(t,e,n){var i=[t];if("object"==I(i[0]))for(;t=i.pop();)for(var o in t)!1!==e.call(n,t[o],o,t)&&"object"==I(t[o])&&i.push(t[o])}var r=function(t){n([t],function(t,e,n){if("_styles"==e)return!1;function i(){return r.eval()}var o,r;E.isValid(t)&&(n[e]=(r=new E(o=t),i._variableName=r.getName(),(i.toString=i).toLESS=i.toJSON=function(){return o},i))})};c.addFilter("loadingComponents",function(t,e){return r(t),t}),c.on("load",function(){c.Core.cleanJSONPlease=(i=c.Core.cleanJSONPlease,function(t,e){if(!e&&"object"==(void 0===t?"undefined":I(t)))for(var n in t)"function"==typeof t[n]&&t[n]._variableName&&(t[n]=t[n].toJSON());return i.apply(this,arguments)}),c.Core.on("render",function(t){void 0===t&&r(c.Core.resultJSON[c.Core.currentPage].components)});var i,t,e,o={};t=c.iwindow.rivets._.Binding.prototype,e=t.set,t.set=function(t){return n("object"==(void 0===t?"undefined":I(t))?t:[t],function(t,e,n){"function"==typeof t&&t._variableName&&(t=t._variableName,o[t]||(o[t]=[]),o[t].indexOf(this)<0)&&o[t].push(this)},this),e.call(this,t)},c.on("changeThemeSettings",function(t,e){o[t]&&o[t].forEach(function(t){t.sync()}),c.runSaveProject(!1,!0)}),c.Core.on("removeComponent",function(e,t){for(name in o)o[name]=o[name].filter(function(t){return e!=t.view.models._id})}),c.on("switchedPage",function(){o={}})})}),j=[],c.on("addonLoaded",function(t){!t.theme&&t.themeParams&&t.themeParams.settings&&(u.isArray(t.themeParams.settings)?j=j.concat(t.themeParams.settings):j.push(t.themeParams.settings))}),c.on("addonsLoaded",function(){c.theme.params.theme=c.theme.params.theme||{},c.theme.params.theme.settings=(c.theme.params.theme.settings||[]).concat(j)}),c.regExtension({name:"theme-settings",global:{throttle:r,ToogleThemeSettings:0,$themeToggleBtn:u(".app-theme-settings-toggle"),getThemeSettings:function(t){return s.get?s.get(t):null},hasThemeSettings:function(t){return!!(t.theme&&t.theme.settings&&t.theme.settings.length)},openThemeSettings:function(){c.ToogleThemeSettings.open()},closeThemeSettings:function(){c.ToogleThemeSettings.close()},redrawStyleChanger:function(){D(),c.fire("redrawStyleChanger")}},events:{loadedProject:function(){D(),c.fire("initSettingsSidebar")}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("add-builder-ext",function(a,s,l){var c={"iconFont.iconFont":l("Insert icon"),"mbrStyle.mbrStyle":l("Font"),"mbrBtn.mbrBtnColor":l("Color"),"mbrBtn.mbrBtnExtendedColor":l("Color"),"mbrBtn.mbrBtnAdd":l("Add"),"mbrBtn.mbrBtnMove":l("Move Left"),"mbrBtn.mbrBtnRemove":l("Remove"),"mbrAlign.mbrAlign":l("Align"),"mbrLink.mbrLink":l("Link"),"mbrColor.mbrColor":l("Color")};function d(t,e){e=e.split(".");for(var n=0;t&&n<e.length;n++)t=t[e[n]];return t}s.regExtension({name:"builder-ext",global:{},events:{load:function(){var t=d(s,"iwindow.$.summernote.lang.en-US");if(t)for(var e in c)if(d(t,e)){n=void 0;i=void 0;o=void 0;r=void 0;var n=t;var i=e;var o=c[e];i=i.split(".");for(var r=0;r<i.length;r++)r<i.length-1?(n[i[r]]=n[i[r]]||{},n=n[i[r]]):n[i[r]]=o}s.Core.addFilter("buttonFontSiteStyleIcon",function(){return'<i class="mbr-icon-paint-brush" title="'+l("Edit Site Styles")+'"></i> '}),s.addFilter("buttonColorSiteStyleIcon",function(){return'<a data-event="mbrShowSiteColors" href="javascript:void(0);" title="'+l("Edit Site Styles")+'"><i class="mbr-icon-paint-brush"></i></a>'}),s.Core.addFilter("getComponentsAnchorList",function(t,e){var t=a("<div>").html(t),n=(t.find('[value="#top"]').html(l("Top of Page")),t.find('[value="#bottom"]').html(l("Bottom of Page")),t[0].innerHTML);return t.remove(),n})},removeLastButton:function(){s.alertDlg(l('To remove all buttons from the block use %"Block Parameters" -> "Show Buttons"%').replace(/%(.+)%/,'<span class="btn btn-component-params mbr-icon-cog"></span> $1'))}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var h=n(23);defineM("app-publish",function(p,f,s){var r="";function t(t){f.progressBar("isCanceled")?(f.progressBar("show"),f.progressBar(1),f.progressBar(s("Initialization, please wait...")),f.$progressModal.one("shown.bs.modal",function(){t&&t()})):t&&t()}function a(t){var e,n=f.Core.resultJSON,i=[],o=0;for(e in n)i.push(f.Core.loadPage(e)),o++;p.when.apply(p,i).then(function(){t&&t(o)})}function l(t){return t=t.replace(/^&quot;|&quot;$/g,""),(new DOMParser).parseFromString("<!doctype html><body>"+t,"text/html").body.textContent}f.regExtension({name:"publish",global:{publishPages:{},publishImagesList:[],$publishBtn:p(".publish-block"),clickPublish:function(e){this.publish(!e||!e.nopreview,null,function(){var t=f.projectSettings.domains.filter(function(t){return"Deployed"===t.status.name}).pop().name;f.projectSettings.mbrsite!==(t="https://"+t)&&(f.projectSettings.mbrsite=t,f.runSaveProject(null,!0)),e&&e.nocongrats||bootbox.alert({message:'<div class="congrats-modal">\n                                        <br>\n                                        <div>'+s("Your site is published and is live online:")+'</div>\n                                        <div><a class="congrats-site-link" href="'+f.getPublicDomain()+'" target="_blank">'+f.getPublicDomain()+"</a></div>\n                                    </div>",className:"congrats-modal-wrapper"})})},forEachObjKeys:function(n,i,o){var r=0,a=Object.keys(n),s=a.length;!function t(){var e;r<s?(setTimeout((e=r,function(){i(n[a[e]],a[e],n,t)}),0),++r):o()}()},publishPage:function(e,n,i,o){var r=this,a=p.Deferred();return setTimeout(function(){var t;try{r.progressBar(s("Preparing $page name$").replace("$page name$",e)+"..."),t=r.processingPage(e,i.pages[e].settings)}catch(t){throw a.reject(),f.showError(s("Internal error while processing page $page name$").replace("$page name$",e)),f.progressBar("hide"),t}t&&t.promise?t.then(function(t){r.publishPages[n]=r.applyFilter("publishHTML",t,i.pages[e],i),r.publishPages[n]=r.preparePublishImages(r.publishPages[n]),o.push({dest:n,srcList:[{src:n,filter:"template"}]}),a.resolve()}):a.resolve()},1),a},filesPublish:function(i,o,r,a,s,l,c){var d=this;h.Bridge.isExistsLocal(f.getProjectImagesDir()+"/hashes.json",function(t){for(var e in t&&s.push({dest:f.IMAGES_FOLDER+"/hashes.json",srcList:[{src:f.getProjectImagesDir()+"/hashes.json"}]}),d.additionalStyles=d.preparePublishImages(d.additionalStyles,"../../../"),d.publishImagesList)s.push(d.publishImagesList[e]);if(s.push({dest:"assets/css/mbr-additional.css",srcList:[{src:"assets/css/mbr-additional.css",filter:"template"}]}),!l)for(var n in d.Core.publishAssets)for(var e in s)s[e].dest===d.Core.publishAssets[n].dest&&s[e].srcList.push({src:d.Core.publishAssets[n].src});s.push({dest:"project.mobirise",srcList:[{src:"project.mobirise",filter:"template"}]}),s=d.applyFilter("publishFiles",s,a);t=d.applyFilter("publishIndex",r,o);d.uploadFiles(s,o,{index:t,preview:i,close:function(t){d.publishImagesList=[],t&&(d.fire("published",o,t),c)&&c()}})})},publish:function(e,n,c){var d=this,u=f.isAMP();function i(t,e){function n(t){return t+(-1<t.indexOf(".")?"":".html")}d.fire("runPublish",e);var i,o=d.Core.getResultProject(),r=(d.additionalStyles="",f.projectSettings.theme.staticStyles&&(d.additionalStyles+=f.projectSettings.theme.staticStyles),d.publishPages={},[]),a=(d.publishImagesList=[],n(o.settings.currentPage)),s=p.Deferred().resolve();for(i in o.pages)!function(t){s=s.then(function(){return d.publishPage(t,n(t),o,r)})}(i);function l(t,e){var e=(1<arguments.length&&void 0!==e?e:{}).attempts,r=void 0===e?10:e;return new Promise(function(i,o){(function n(){fetch(t.url,{credentials:"include"}).then(function(t){if(t.status<200||299<t.status)throw new Error(""+t.statusText);return t.json()}).then(function(t){var e;return"COMPLETE"===t.state?i():"CANCELLED"===t.state?o(new Error(t.reason.message),{code:"JobError"}):--r<=0?o("Timeout error"):(e=2e3,void new Promise(function(t){return setTimeout(t,e)}).then(function(){n()}))}).catch(function(t){return o(t)})})()})}(s=s.then(function(){d.progressBar("assets/js");var t=d.getPluginsFilesForPublish().map(function(t){return/^web/gi.test(t.src)&&(t.src=t.src.replace("web/",h.Bridge.onlineUrl)),t});return fetch(mbrApp.getAddonsDir()+"/api/publish",{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify({siteId:f.projectSettings.id,files:t})}).then(function(t){if(t.status<200||299<t.status)throw new Error(""+t.statusText);return t.json()}).then(function(t){return l(t.job)}).catch(function(t){throw console.log(t),f.showError("Asset loading error"),t})})).then(function(){d.filesPublish(t,e,a,o,r,u,c)})}t(function(){a(function(t){f.progressBar(4*t),i(e,n)})})},exportProject:function(i){var o=this;t(function(){a(function(t){var n;f.progressBar(4*t),n=o.projectSettings.name,o.fire("exportProject",n,i),o.makeScreenshot(function(t){var e=[],t=(e.push({dest:"screenshot.png",srcList:[{src:t}]}),o.Core.getResultProject());o.publishImagesList=[],f.forEachObjKeys(t.pages,function(t,e,n,i){f.isAMP()&&f.projectSettings.theme.staticStyles&&(o.additionalStyles+=f.projectSettings.theme.staticStyles),o.additionalStyles+=o.Core.renderComponentsStyles(!0,e),o.Core.getResultHTML(e).then(function(t){o.preparePublishImages(t),o.preparePublishImages(o.additionalStyles),i()})},function(){for(var t in o.publishImagesList)e.push(o.publishImagesList[t]);h.Bridge.isExistsLocal(o.getProjectImagesDir()+"/hashes.json",function(t){t&&e.push({dest:f.IMAGES_FOLDER+"/hashes.json",srcList:[{src:o.getProjectImagesDir()+"/hashes.json"}]}),(e=o.applyFilter("exportProjectFiles",e,i)).push({dest:"project.mobirise",srcList:[{src:"project.mobirise",filter:"template"}]}),o.uploadFiles(e,i,{close:function(){o.publishImagesList=[],f.alertDlg(s("Your site was successfully exported to the folder $folder name$").replace("$folder name$","<strong>"+h.Bridge.url2sys(i)+"</strong>")),o.fire("exportedProject",n,i)},isExport:!0})})})})})})},uploadFiles:function(t,e,n){var i=this;if(!t)return"";function o(t){i.progressBar("hide"),n.close&&n.close(t)}(n=n||{}).preview&&(e=h.Bridge.registerPreviewPath(f.projectPath)),e=h.Bridge.registerPreviewPath(f.projectPath),i.applyFilter("uploadFilesStart",p.Deferred().resolve(t,e),n).then(function(t,e){t=new h.Bridge.FileManager(t,e,{start:function(t){i.progressBar(t),n.start&&n.start(t)},file:function(t){i.progressBar(t),n.file&&n.file(t)},uploaded:function(t){i.fire("uploadFilesUploaded",t)},error:function(t){t=(t=(t=t.replace("\n","<br>").replace("ENOENT:","")).replace(h.Bridge.url2sys(h.Bridge.base),"[Resources]:")).replace(h.Bridge.url2sys(mbrApp.getAddonsDir()),"[Extensions]:"),i.progressBar("error",t||s("Unknown error while publish")),n.error&&n.error(t)},close:function(t){n.preview&&(e=f.getPublicDomain(),"index.html"!=n.index&&(e+=n.index),window.open(e,"_blank")),i.fire("uploadFilesComplete",t),setTimeout(function(){o(t)},1)}},n);i.progressBar(t)}).fail(function(t){o(t)})},preparePublishVideos:function(t){var a=/youtu.*be.*/,s=/vimeo/;return t=(t=t.replace(/(<img[^>]+>)/g,function(t,e,n){var i=t.match(/data-video-src="(.*?)"/),o=t.match(/data-video-width="(.*?)"/),r=t.match(/data-video-height="(.*?)"/);return i&&i[1]?(i[1]=i[1].replace("shorts","embed"),-1!==i[1].search(a)||-1!==i[1].search(s)?(o=o&&o[1]?'width="'+o[1]+'"':"",r=r&&r[1]?'height="'+r[1]+'"':"",'<iframe class="mbr-embedded-video" src="'+i[1].replace(/^http:/g,"https:")+'" '+o+" "+r+' frameborder="0" allowfullscreen></iframe>'):'<video style="width:100%" controls'+(-1!==i[1].search("autoplay")?" autoplay muted":"")+(-1!==i[1].search("loop")?" loop":"")+' playsinline><source src="'+i[1]+'"/></video>'):t})).replace(/data-video-src/g,"data-bg-video"),this.applyFilter("preparePublishVideos",t)},addImage2PublishList:function(t){var e=this;if(h.Bridge.supportedImgExts.indexOf(t.split(".").pop())<0)return t;if(""==t.replace(/\t|\s|\n/g,""))return t;if(/(http(s?))\:\/\//gi.test(t)&&!this.isAssetsDir(t))return t;var n,i="assets/images/"+(i=(i=h.Bridge.cleanURI(t.split("/").pop())||"")&&!/^\./.test(i)?i:"0"+i);for(n in t=(t=(t=/^[\w]+\:/.test(t)?t:"web/app/builder/"+t).replace(/^qrc\:\/web/,"web/")).replace(/^\:\/web/,"web/"),e.publishImagesList)if(e.publishImagesList[n].srcList[0].src===t)return e.publishImagesList[n].publicUrl||e.publishImagesList[n].dest;for(n in e.publishImagesList)if(e.publishImagesList[n].dest===i){for(;e.publishImagesList[n].dest===i;)i=i.replace(/(.[\w]+)$/g,e.uniqNum()+"$1");break}var o={dest:i,srcList:[{src:t}]};return e.publishImagesList.push(o),i=e.isAssetsDir(t)?o.publicUrl=e.projectSettings.resourcesUrl+i+"?rnd="+Date.now():i},preparePublishImages:function(t,r){var a=this;return r=r||"",t=(t=(t=t.replace(/(<img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,function(t,e,n,i){return e+r+a.addImage2PublishList(l(n))+i})).replace(/(url\(['"]?)(.*?)(['"]?\);)+/g,function(t,e,n,i){var o,n=l(n);return"string"==typeof(o=n)&&/^https?:\/\//i.test(o)||(e+=r),e+a.addImage2PublishList(n)+i})).replace(/(href=")(.*?)(")+/g,function(t,e,n,i){return e+r+a.addImage2PublishList(l(n))+i}),a.applyFilter("preparePublishImages",t,a.publishImagesList,r)},prepareProjectText:function(t,e){var n,i,o=f.Core.getResultProject();if(h.Bridge.version&&(o.settings.versionPublish=h.Bridge.version),void 0!==f.projectSettings&&(o.settings=p.extend({},f.projectSettings,o.settings)),o.settings=this.applyFilter("publishProjectSettings",o.settings||{},e),o.pages=this.applyFilter("publishProjectPages",o.pages||{}),o=JSON.stringify(o,null,2),t)for(var r in t)1==t[r].srcList.length&&(n=t[r].srcList[0].src,r="@PROJECT_PATH@/"+t[r].dest,/^file\:/.test(n))&&(o=o.split(n).join(r).split((n=n,i=void 0,(i=document.createElement("div")).setAttribute("path",n),(i=/\"([^"]*)\"/.exec(i.outerHTML))&&i[1]||n)).join(r));return f.projectPath&&0==f.projectPath.indexOf("file:")&&(o=o.split(f.projectPath).join("@PROJECT_PATH@")),f.theme.name&&(o=(o=o.split('"'+f.path2core(f.getAddonDir(f.theme.name))).join('"@THEME_PATH@')).split("("+f.path2core(f.getAddonDir(f.theme.name))).join("(@THEME_PATH@")),o=f.getAddonsDir()&&0==f.getAddonsDir().indexOf("file:")?o.split(f.getAddonsDir()).join("@ADDONS_PATH@"):o}},events:{bridgeInit:function(){var o=this;h.Bridge.templating=function(t){var i,e,n="";return/\.html$|\.htm$|\.xht$|\.xhta$|\.xhtml$|\.shtml$|\.shtm$|\.php$|\.php3$|\.php4$|\.php5$|\.phps$|\.phpt$|\.phtml$|\.asp$|\.aspx$|\.jsp$|\.cgi$|\.pl$|\.py$/i.test(t)?n=f.publishPages[t]||"":/.json$|.mobirise$/g.test(t)?n=o.prepareProjectText(o.publishImagesList,!0):/.css/g.test(t)?(e=f.additionalStyles,i="",e=e.replace(/(@import url\(.*?\);)/g,function(t,e,n){return-1==i.indexOf(t)&&(i+=t+"\n"),""}),n=(i||"")+(e||"")):0<=t.indexOf("kw.template.js")&&(n=r),o.applyFilter("publishTemplating",n,t,this)}},load:function(){var e=this,n=(p(".app-publish").on("click",function(t){e.runPublishDlg(function(t){t&&f.clickPublish({nopreview:!0})})}),f.Core.$body.find(".browser-chrome .link-wrapper").on("click",function(t){t.stopPropagation(),f.openProjectSettings(f.projectPath+"/project.mobirise"),f.fire("selectBasicDomain")}),h.Bridge&&h.Bridge.version?h.Bridge.version:"");h.Bridge.loadLocalFile("web/app/interface/kw.template.js",function(t){r=t.replace(/\$VERSION\$/g,n)}),h.Bridge.loadLocalFile("web/app/interface/kw.txt",function(t){t.split("\n")}),f.addFilter("publishFiles",function(t,e){return"mbrsite"===f.projectSettings.publishType&&t.push({dest:"edit/index.html",srcList:[{src:"edit/index.html",filter:"template"}]}),t}),f.addFilter("publishTemplating",function(t,e){return"mbrsite"===f.projectSettings.publishType&&"edit/index.html"==e?'<!DOCTYPE html>\n                                <html lang="en">\n                                    <head>\n                                        <meta charset="UTF-8">\n                                        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                                        <title>CMS</title>\n                                    </head>\n                                    <body>\n                                        <script src="https://c.ybnz.com/creator.js"><\/script>\n                                    </body>\n                                </html>':t})}}});var e=DOMParser,n=e.prototype,i=n.parseFromString;try{if((new e).parseFromString("","text/html"))return}catch(t){}n.parseFromString=function(t,e){return/^\s*text\/html\s*(?:;|$)/i.test(e)?(e=document.implementation.createHTMLDocument(""),-1<t.toLowerCase().indexOf("<!doctype")?e.documentElement.innerHTML=t:e.body.innerHTML=t,e):i.apply(this,arguments)}},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var o=n(23);defineM("app-publish-dlg",function(r,a,t){var e='<div class="publishMethod mbrsite-publish-settings">\n        <div class="radio radio-primary publishRadio">\n            <label>\n                <input type="radio" name="publishType" value="mbrsite" checked>\n                <span class="circle"></span>\n                <span class="check"></span>\n                '+(a.domainManager?a.domainManager.getCustomDomainInfo()?a.domainManager.getCustomDomainInfo().name:"*.mobirisesite.com":"Subdomain on")+'\n            </label>\n        </div>\n        <div class="publishBody">\n            <div class="row">\n                <div class="col-md-4">\n                    <input type="text" class="mbrsite-domain form-control" placeholder="name" name="mbrsiteDomain">\n                </div>\n                <div class="col-md-2 gp-domain">.mobirisesite.com</div>\n                <div class="col-md-4"></div>\n            </div>\n            <span class="mbrsite-input-status">IMPORTANT! Use this option for testing only</span>\n        </div>\n    </div>\n    <div class="publishMethod">\n        <div class="radio radio-primary publishRadio">\n            <label>\n                <input type="radio" name="publishType" value="local"><span class="circle"></span><span class="check"></span>\n                '+t("Download in .zip")+"\n            </label>\n        </div>\n    </div>";a.regExtension({name:"publish-dlg",global:{PUBLISH_MODAL_HTML:e,runPublishDlg:function(e){function n(){var t=r(this).closest(".publishMethod"),e=t.find(".publishBody"),n=r(this).parents(".modal-body"),i=n.find("input[name=uploadDiff]");n.find(".publishBody").not(e).hide(),n.find(".publishMethod").not(t).removeClass("selected"),e.show(),t.addClass("selected"),"local"===r(this).attr("value")?i.closest(".togglebutton").css("display","none"):"none"===i.closest(".togglebutton").css("display")&&i.closest(".togglebutton").css("display","block")}a.fire("showPublishModal");var i=a.projectSettings||{},o=a.showDialog({title:t("Publish"),className:"publish-dialog",body:a.PUBLISH_MODAL_HTML,buttons:{btClose:{label:t("Cancel"),callback:function(){}},btSave:{label:t("Publish"),default:!0,callback:function(t){return"local"===o.find(".publishMethod.selected input").val()?(a.projectSettings.publishType="local",a.createZipProject(),o.remove()):a.getPublishUrl(o).then(function(t){e&&e(t)}).catch(function(t){return console.log(t)}),!1}}},create:function(t){a.fire("createPublishModal",r(t))},show:function(t){var e=r(t).find("[name=publishType][value="+(i.publishType||"mbrsite")+"]");t.find('input[name="mbrsiteDomain"]').val(a.projectSettings.domains?a.projectSettings.domains[0].name.split(".")[0]:a.getUID(10).toLowerCase()),e.prop("checked",!0),n.call(e)}});o&&(a.fire("showedPublishModal",o),o.on("change","[name=publishType]",n))},getPublishUrl:function(t){var e=t.find("[name=publishType]:checked").val(),i="",n=this.projectSettings||{};return"local"===(n.publishType=e)&&(i=o.Bridge.sys2url(t.find("[name=publishLocal]").val(),o.Bridge.docLocation),n.publishPath=i,o.Bridge.getSettingsArray("RecentPublish",function(t){var e,n=[i];for(e in t)0<=n.indexOf(t[e])||n.push(t[e]);o.Bridge.setSettingsArray("RecentPublish",n)})),i=this.applyFilter("getPublishUrl",i,e,t,n),this.projectSettings=n,i}},events:{load:function(){a.addFilter("publishProjectSettings",function(t,e){return e&&(delete t.publishType,delete t.publishPath),t})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var m=n(23);defineM("app-preview",function(t,h,e){h.regExtension({name:"preview",global:{$previewBtn:t(".preview-block"),additionalStyles:"",templateHTML:["$global_before_html$$SETTINGS.html_before$<!DOCTYPE html>","<html $LANG_ATTR$>","<head>","  \x3c!-- Site made with Mobirise Online Website Builder v$VERSION$, https://a.mobirise.com --\x3e",'  <meta charset="UTF-8">','  <meta http-equiv="X-UA-Compatible" content="IE=edge">','  <meta name="generator" content="Mobirise v$VERSION$, a.mobirise.com">','  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">','  <meta name="description" content="$SETTINGS.meta_descr$">',"  $SETTINGS.title$","  $STYLES$","  $SCRIPTS_HEAD$","  $global_header_custom$","  $SETTINGS.header_custom$","</head>","<body>","  $global_after_body$","  $CONTENT$","  $SCRIPTS$","  $global_footer_custom$","  $SETTINGS.footer_custom$","</body>","</html>"].join("\n"),processingPage:function(s,l){var c,d=this,u=t.Deferred(),p=t.Deferred(),f=h.isAMP();return d.Core.getResultHTML(s).then(function(t){t=d.preparePublishVideos(t),f&&(d.additionalStyles=""),d.additionalStyles+=d.Core.renderComponentsStyles(!0,s);var e=h.getPluginsHTMLForPublish(s),n=(e=d.applyFilter("publishAssets",e,s)).js,o=e.js_head,r=e.css,a=(r+='<link rel="stylesheet" href="assets/css/mbr-additional.css" type="text/css">\n  ',f?"amp":"");function i(){var i=jQuery.extend({},l);c=(c=d.templateHTML.replace(/\$SETTINGS\.(.*)\$/g,function(t,e){var n=i[e]||"";return(n="title"===e?n?"<title>"+n+"</title>":"":n)||""}).replace(/\$VERSION\$/g,function(){return m.Bridge&&m.Bridge.version?m.Bridge.version:""}).replace(/\$CONTENT\$/g,t).replace(/\$SCRIPTS\$/g,n).replace(/\$SCRIPTS_HEAD\$/g,o).replace(/\$STYLES\$/g,r).replace(/\$AMP_TITLE\$/g,a).replace(/\$global_before_html\$/g,h.projectSettings.global_before_html||"").replace(/\$global_header_custom\$/g,h.projectSettings.global_header_custom||"").replace(/\$global_after_body\$/g,h.projectSettings.global_after_body||"").replace(/\$global_footer_custom\$/g,h.projectSettings.global_footer_custom||"")).replace(/\$LANG_ATTR\$/g,function(){return h.projectSettings.site_lang?'lang="'+h.projectSettings.site_lang+'"':""})}f?(n="",mbrApp.applyFilter("prepareAmpStyles",r,s).then(function(t){r=t,u.resolve()}).fail(function(t){console.error(t.message),r+="<style amp-custom>"+d.additionalStyles+"</style>\n ",u.resolve()}),u.then(function(){i(),p.resolve(c)})):(i(),p.resolve(c))}),p}},events:{load:function(){}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var w=n(23),a=n(69);defineM("app-addons",function(m,g){var f="https://mobirise.com/",e=/\.mbrext$/,o='<div class="modal">  <div class="modal-dialog">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>        <h4 class="modal-title"></h4>      </div>      <div class="modal-body">        <div class="placeholder hide">'+y("No extensions matched your search. Try again.")+"</div>      </div>    </div>  </div></div>";function v(i,e,t,u,p){g.getAddons(function(n){Object.keys(n).map(function(e){var t=i.filter(function(t){return e===t.name});t.length&&"archive"===t[0].status&&delete n[e]}),i=i.filter(function(t){return!("archive"===t.status)});var t=0;for(d in n)n[d].id_local=t,t++;i.sort(function(t,e){return t.hasOwnProperty("id")&&!e.hasOwnProperty("id")?-1:!t.hasOwnProperty("id")&&e.hasOwnProperty("id")?1:t.hasOwnProperty("id")||e.hasOwnProperty("id")?0:n[t.name].id_local>n[e.name].id_local?-1:n[t.name].id_local<n[e.name].id_local?1:0});for(var l=m("<div>"),c=(e.html(l),l),d=0;d<i.length;d++)!function(e){0===d&&(c=m('<div class="row">').appendTo(l));var t,n,i=m('<div class="panel panel-default">').appendTo(c),o=m('<div class="panel-body"></div>').appendTo(i),r=m("<img>").attr("src",e.largeCover||e.cover),a="",a=e.new?m("<div>").html("<p>"+e.description+'</p> <div><h3 class="text-primary">'+(e.title||e.name)+"</h3><h4>NEW!</h4></div>"):m("<div>").html("<p>"+e.description+'</p> <h3 class="text-primary">'+(e.title||e.name)+"</h3>"),s=m("<div class='btn-group'>");e.demoUrl||a.find("p a").attr("href")?(t=m('<a href="'+(e.demoUrl||a.find("p a").eq(-1).attr("href")||a.find("p a").eq(0).attr("href"))+'">').appendTo(c),m('<div class="col-sm-6 col-md-6 col-lg-3">').append(function(){return t.append(i)}).appendTo(c),m(a).find("p a").remove(),t.click(function(t){m(t.target).parents(".btn-group").length||m(t.target).attr("href")||(g.openUrl(m(this).attr("href")),t.preventDefault(),t.stopPropagation())})):(m("a[href^=http]",a).each(function(){m(this).data("link",m(this).attr("href"))}).attr("href","javascript:void(0)").click(function(){var t=m(this).data("link");g.openUrl(t)}),m('<div class="col-sm-6 col-md-6 col-lg-3">').append(i).appendTo(c)),i.parents(".col-sm-6.col-md-6.col-lg-3").attr({"data-extensions-title":e.title||e.name,"data-extensions-text":m(a).find("p")[0].innerHTML,"data-extensions-type":e.new?e.type:""}),o.html(['<div class="media">','<div class="media-img"></div>','<div class="media-body"></div>',"</div>"].join("\n")),"theme"===e.type?!e.installed&&!e.downloadURL||e.expired?o.find(".media-img").append(r).append('<button class="btn btn-primary media-preview">'+y("View Demo")+"</button>"):o.find(".media-img").append(r).append('<button class="btn btn-primary media-create-site">'+y("Create Site")+"</button>").click(function(t){t.preventDefault(),t.stopPropagation(),e.installed?h(e):u(e,function(t){t?h(e):g.hidePreloader()})}):o.find(".media-img").append(r),o.find(".media-body").append(s).prepend(a),e.installed?(e.installed<e.version||e.expired&&e.expiredDate<e.modified)&&(n=!e.downloadURL&&e.buyURL||e.installed>=e.version,m('<span class="btn btn-primary" data-tooltipster="bottom" title="'+y("Update")+'"><i class="mbr-icon-sync"></i>'+(n?"<span>&nbsp;"+e.price+"</span>":"")+"</span>").click(function(){(n?p:u)(e)}).appendTo(s)):"future"==e.status?m('<button type="button" class="btn btn-default disable" data-tooltipster="bottom" title="'+y("Coming soon...")+'"><span>'+y("Soon...")+"</span></button>").css({width:"auto"}).click(function(){g.openUrl(f)}).appendTo(s):e.buyURL&&m('<span class="btn btn-primary" data-tooltipster="bottom" title="'+y("Buy")+'">'+(e.price?"<span>"+e.price+"</span>":y("Buy"))+"</span>").click(function(t){t.preventDefault(),t.stopPropagation(),p(e)}).appendTo(s),e.minAppVersion&&w.Bridge.versionCmp(w.Bridge.version,e.minAppVersion)<0||e.maxAppVersion&&0<w.Bridge.versionCmp(w.Bridge.version,e.maxAppVersion)||e.minVersion&&e.version<e.minVersion&&!e.expired||e.disabled?(o.addClass("uncompatible").attr("data-tooltipster","top").attr("title",y("Not available for your Mobirise version")),console.log("Uncompatible version of addon "+e.name)):(e.installed&&e.installed<e.minVersion&&o.addClass("disabled").attr("data-tooltipster","top").attr("title",y("Not compatible with your version of Mobirise")),a.find(e.new?"div":"h3").css("max-width","calc( 100% - "+(s.width()+11)+"px)"))}(i[d])})}function h(t){var o="Site-"+w.Bridge.dateFormat(new Date,"MM-dd_hhmm"),t={name:t.name,title:t.title};g.showPreloader(),g.applyFilter("promiseChosenTheme",Promise.resolve(t)).then(function(i){setTimeout(function(){m(".preloader").css("opacity",1)},1),w.Bridge.getSettings("dontShowCreateSiteModal",function(t){function e(){g.closeSidebar(),g.runSaveProject(function(t){t||console.error("Error: unable to save current project"),g.createProject(o,0,i,function(t){t&&g.showError(y("Unexpected project create error ")+" ("+t+").",function(){g.showProjectsList()})}),m("#addonsModal").hide()},!0)}var n;"true"!==t?n=g.showDialog({body:['<div class="form-group">',y("Do you want to create the $site name$ site based on the $theme name$ theme, $name preset$ Template?").replace("$site name$","<strong>"+o+"</strong>").replace(i.titlePreset?"$name preset$":", $name preset$ Template",i.titlePreset?"<strong>"+i.titlePreset+"</strong>":"").replace("$theme name$","<strong>"+i.title+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',y("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:y("Cancel"),className:"btn-default"},success:{label:y("Ok"),className:"btn-primary",callback:function(){var t=n.find("#dont-show-again")[0].checked;w.Bridge.setSettings("dontShowCreateSiteModal",t),e()}}}}).on("hidden.bs.modal",function(){g.hidePreloader()}):e()})}).catch(function(){g.closeSidebar(),g.hidePreloader()})}function b(t){var e=(t=t||{}).body;if("string"==typeof e)for(var n in t)e=e.replace("@"+n+"@",t[n]);var i=m(o).attr("id",t.id).insertBefore("#insertBefore");return"large"==t.size&&(i.addClass("bs-example-modal-lg"),i.find(".modal-dialog").addClass("modal-lg")),i.find(".modal-body").append(e),i.find(".modal-title").append(t.title),i.on("hidden.bs.modal",function(){m(this).data("modal",null),t.onhide&&t.onhide(),m(this).remove()}),t.onbeforeshow&&t.onbeforeshow(i),i.modal("show"),i}function r(e){var o=b({id:"redeemModal",title:y("Redeem code"),body:'<div class="input-group"><input type="text" class="form-control" placeholder="'+y("Enter code...")+'"><span class="input-group-btn"><button class="btn btn-primary" type="button">'+y("Redeem")+"</button></span></div>"});o.find("button.btn-primary").click(function(){var i,t=o.find("input").val();t&&(i=m(g.preloaderHTML),m("#addonsModal").append(i),o.find("input,button").prop("disabled",!0),a.mbrServer.activate(t).then(function(t){g.fire("redeemActivated"),g.alertDlg(y("Code is successfully redeemed!")).on("hidden.bs.modal",function(){o.find("input,button").prop("disabled",!1),o.modal("hide"),e&&e()})},function(t,e,n){i.remove(),1211==e&&(t=y("Incorrect code")),1212==e&&(t=y("Activation error")),n&&(t="<a class='ex-info-link' href='javascript:void(0)'>"+t+"</a> ("+e+")",t+="<div style='display:none;-webkit-user-select:all'>"+n+"</div>"),g.alertDlg(t).find("a.ex-info-link").click(function(){m(this).parent().find("div").show()}),o.find("input,button").prop("disabled",!1),g.handleServerError(t,e)}))})}function y(t){return g.TR?g.TR(t,"app-addons"):t}g.regExtension({name:"addons",global:{addonPackageExt:"mbrext",$addonsBlock:0,showAddonsList:function(t,a){g.fire("clearAutoUpdateTimeout");var s=m(g.preloaderHTML),e=y("Extensions"),i=b({id:"addonsModal",title:e,body:s,onhide:function(){a?(console.log("rebooting..."),w.Bridge.reload()):(w.Bridge.isDev||(g.off("updateAllStop",enableExtWindow),g.off("updateAllStart",disableExtWindow)),t&&t())},onbeforeshow:function(t){t.find(".modal-header>*").wrapAll('<div class="modal-header-wrapper">')}});function l(){var t=g.getUserInfo();i.find(".modal-title").replaceWith('<h3 class="modal-title">'+e+(t&&t.email?" ("+t.email+")":"")+"</h3>")}function c(){var t,e=i.find("#filter-extensions > input").val().toLowerCase(),n=m(".list-view .row").children();n.forEach=[].forEach,n.forEach(function(t){return t.classList.remove("hide")}),""!==e&&(e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),(t=m(n).filter(function(t){return void 0!==this&&"plugin"!==this.dataset.extensionsType?this.dataset.extensionsTitle||this.dataset.extensionsText?!(~this.dataset.extensionsTitle.toLowerCase().search(e)||~this.dataset.extensionsText.toLowerCase().search(e)):"":1})).forEach=[].forEach,t.forEach(function(t){return t.classList.add("hide")}),n.length===t.length)?m("#addonsModal .placeholder").removeClass("hide"):m("#addonsModal .placeholder").addClass("hide")}function d(){var r=1;function t(i,t,o){g.getAddonsEx(0,t?{type:t}:0,{server:o,serverOptions:{with_archive:1},restricted:!0}).then(function(t,e,n){n&&(o=n),--r<=0&&(m(".preloader-spinner").remove(),g.isUpdatingNow)&&g.updateAllAppendLoader(f),v(t=t.filter(function(t){return!("mobirise5"==t.name||"startm5"==t.name||"mobirise-amp"==t.name)}),i,0,function(n,o){var i=n.downloadURL||"",t=g.getUserInfo();t&&t.email?(u.append(s),setTimeout(function(){g.downloadAddon(n).done(function(t){var n,i;t?(d(),t.name!==g.theme.name&&"theme"===t.type&&"code-editor"!==t.name||(a=!0),n=t,i=jQuery.Deferred(),w.Bridge.loadLocalFile(g.getAddonDir(n.name)+"/splash.html",function(t){var e="theme"===n.type?y("theme"):y("extension");b({body:y("$extension$ is successfuly added").replace("$extension$",'"'+n.title+'" '+e+" ")+".\n"+(t||"").replace('src="','src="'+g.getAddonDir(n.name)+"/"),title:y("About"),size:"large",onhide:function(){i.resolve()}})}),i.always(function(){o&&o(!0)})):s.remove()}).fail(function(t,e){g.alertDlg(t+'"'+n.title+'".'+(i?"":y("Try to log out and log back in"))).on("hidden.bs.modal",function(){o&&o(!1)}),s.remove()})},100)):g.checkSign(function(t){t&&(l(),d())})},function(t,e){g.openUrl(t.buyURL)}),g.fire("showedAddonsList",t),c()})}p.find("input").val(""),p.find("input").trigger("keyup"),t(h,0,!0),g.off("signedin",d)}l();var u=i.find(".modal-body"),n=i.find(".modal-header-wrapper"),o=m('<a href="javascript:void(0)" class="redeem-ext">'+y("Redeem")+"</a>"),p=m('<div class="col-md-4" id="filter-extensions"><input name="name" type="text" placeholder="'+y("Search")+'" value="" class="form-control"></div>'),f=(o.click(function(){g.checkSign(function(t){t&&(l(),r(w.Bridge.reload))})}).appendTo(n),p.on("keyup","input",c).appendTo(n),i.find(".modal-header .close").replaceWith('<div class="app-layer"><span class="app-layer-close mbr-icon-angle-left" data-dismiss="modal"></span></div>'),m('<div class="list-view">').appendTo(u)),h=m('<div id="themes-list"></div>').appendTo(f);d(),g.on("signedin",d),g.fire("shownAddonsDialog",i)},downloadAddon:function(e,n,i){var t=e.downloadURL,o=(console.log("Start download "+t),g.fire("downloadAddon",e),jQuery.Deferred());return t?(g.on("cancelDownloadAddon",r),a.mbrServer.download(t,function(t){if(n)i({msg:e.title,currentAddon:t});else switch(t){case 0:return void(g.progressBar("isCanceled")&&(g.progressBar("show",y("Downloading..."),e.title),g.$progressModal.removeClass("passive")));case 1:return void g.progressBar("hide");default:g.progressBar({progress:Math.floor(100*t)}),console.log("Download progress "+t)}}).fail(function(t,e){g.off("cancelDownloadAddon",r),o.reject(t,e),g.handleServerError(t,e)}).done(function(t){g.off("cancelDownloadAddon",r),g.extractAddon(t,function(t){t?(t=g.pkgParams2addon(t),console.log("Loaded new addon "+t.name),g.fire("downloadedAddon",t),o.resolve(t)):o.reject("extract error",1301)},n)}),o):o.reject(y("Unable to download $extension$. Try to re-login.").replace("$extension$",e.name||"extension"),1302);function r(){o.reject(y("Download cancelled: "),1303),w.Bridge.stopDownload(t),g.off("cancelDownloadAddon",r)}},extractAddon:function(o,r){var a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=w.Bridge.tempLocation+"/addon"+w.Bridge.dateFormat(new Date,"yyyyMMdd_hhmmss"),r=r||function(){};w.Bridge.unzip(o,s,function(t){t?w.Bridge.getLocalJSON(s+"/params.json",function(e){var n,i=g.pkgParams2addon(e||{}),t=i.name;t?(n=g.getAddonsDir()+"/"+t,!a||"plugin"!==i.type&&i.name!==g.theme.name||(n+="-new",i.newVersion=!0),w.Bridge.isExistsLocal(n.replace(/\-new$/,""),function(t){t||!a||"plugin"!==i.type&&i.name!==g.theme.name||(w.Bridge.removeLocal(n),n=n.replace(/\-new$/,"")),w.Bridge.copyLocal(s,n,function(t){t?g.enableAddon(i,function(t){g.fire("extractedAddon"),r(e)}):(console.log("Error: component '"+i.name+"' is not registered"),r()),w.Bridge.removeLocal(s)})})):(console.log("Error: wrong params.json file of addon "+o),r())}):(console.log("Extraction error ",o,"to",s),r())})},showRedeem:r},events:{load:function(){this.$addonsBlock=g.addSidebarItem({title:y("Extensions"),tooltip:y("Add Themes and Extensions"),onclick:function(){g.showAddonsList()}}),g.on(["accountInited","signedin"],function(t){!1!==t&&g.isPremiumUser().then(function(t){t||(g.$body.find(".nav.navbar-nav.navbar-right").append('<li class="app-upgrade" data-tooltipster="bottom" title="'+y("Buy Premium Plan")+'">\n                                    <a href="javascript:void(0)" style="font-size:20px">\n                                        Upgrade\n                                    </a>\n                                </li>'),g.$body.find(".nav.navbar-nav.navbar-right .app-upgrade").click(function(){g.goToBuyPremium({alert:!1,delay:!1})}))})})},addonsOff:function(){var t=this;m(".preloader").hide(),g.showDialog({title:y("Warning"),body:y("During the last run the program failed to load all extensions."),buttons:{ok:{label:y("Ok"),className:"btn-primary"}},onhide:function(){t.showAddonsList()}})},addonsLoaded:function(t,e){m(".preloader").delay(600).fadeOut(1e3,function(){m(this).hide()})},incomingFile:function(t){e.test(t)&&g.extractAddon(t,function(t){console.log(t)})}}})},["jQuery","mbrApp"])},function(t,e,n){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=(n(23),n(69),function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(438)));defineM("addons-core",function(v,b,i,s){function c(t){return{name:t.alias||t.name,title:t.title||t.name,version:t.version,minAppVersion:t.minAppVersion,maxAppVersion:t.maxAppVersion,type:t.theme?"theme":"plugin"}}var n="web/app/themes",r={},a="list.json";function l(){var t=v.Deferred();return b.restrictedAddonsList?t.resolve(b.restrictedAddonsList):u?(b.restrictedAddonsList=u,t.resolve(b.restrictedAddonsList)):t.resolve({})}function y(i){var t,e=r,o={};for(t in e)!function(t,e){if(i)for(var n in i)if(e[n]!=i[n])return;o[t]=e}(t,e[t]);return o}function e(){var t=s._getAuthToken().then(function(t){return fetch(b.getAddonsDir()+"/auth",{method:"POST",headers:{Authorization:"Bearer "+t},mode:"cors",credentials:"include"})}).then(function(t){if(200!==t.status)throw new Error("Authorization error")}).catch(function(t){throw b.showError("Extensions are not available, please try again later"),t});return e=function(){return t},t}function o(t){t.name in r&&(t.version>(r[t.name].version||1)?r[t.name].status="":r[t.name].status="system")}b.regExtension({name:"addons-core",global:{registeredAddons:{},restrictedAddons:{},isBuildInAddon:function(t){return!!Object.keys(r).includes(t.toLowerCase())},pkgParams2addon:c,getAddonsDir:function(){return s.getAddonsDir()},isAddonsDir:function(t){return 0===t.indexOf(this.getAddonsDir().replace(/\/$/,"")+"/")},isCurrentThemeDir:function(t){return 0===t.indexOf(this.path2core(this.getAddonDir(this.theme.name)+"/"))},isAssetsDir:function(t){return this.isAddonsDir(t)||this.isCurrentThemeDir(t)},getBuildinAddons:y,getAddons:function(o){var t=b.getUserInfo();t&&t.email?e().then(function(){s.getLocalJSON(b.getAddonsDir()+"/"+a,function(i){i?l().then(function(e){var n={};Object.keys(i).forEach(function(t){if(!(t in e))return n[t]=i[t]}),o(n)}):s.dataLocation?s.getLocalJSON(s.dataLocation+"/addons/"+a,function(e){e?s.copyLocal(s.dataLocation+"/addons",b.getAddonsDir(),function(t){t?(o(e),s.removeLocal(s.dataLocation+"/addons")):o({})}):o({})}):(console.error("Error: addons request before Bridge.dataLocation initialization."),o({}))})},console.error):(console.warn("Addons request before account entering."),o({}))},getAddonsListAsText:function(i){b.getAddons(function(t){var e,n=[];for(e in t=t||{})n.push(e+t[e].version);i&&i(n.join(","))})},getAddonsEx:function(u,p,f){var a,n,e,h=jQuery.Deferred(),m=(f=v.extend({restricted:!1,system:!0,server:!1},f),[]),g=[],t=[];return t.push(l()),t.push((a=p,n=v.Deferred(),b.getAddons(function(t){var e,o={},r=[];for(e in t=t||{})!function(t,n){if(a)for(var e in a)if(n[e]!=a[e])return;o[t]=n;var i=v.Deferred();s.getLocalJSON(b.getAddonDir(t)+"/params.json",function(t){for(var e in t=t||{})e in n||(n[e]=t[e]);setTimeout(function(){i.resolve()},1)}),r.push(i.promise())}(e,t[e]);v.when.apply(v,r).then(function(){n.resolve(o)})}),n.promise())),f.server&&!v.isArray(f.server)&&t.push((e=v.Deferred(),i.addons().then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise())),v.when.apply(v,t).then(function(t,e,n){t=t||{},e=e||{},n=n&&n.data||v.isArray(f.server)&&f.server;var i,o,r=y(p);if(f.system)for(var a in r)(!(a in e)||e[a].version<(r[a].version||1))&&(e[a]=r[a]);if(n){b.fire("serverAddonsLoaded",function(t,e){for(var n=0;n<t.length;n++)e[t[n].name]=t[n];return e}(n,{}),e);for(var s=0;s<n.length;s++)(a=(c=n[s]).name)in e&&(c.installed=e[a].version||1,c.status=e[a].status,e[a]=c)}for(a in e)o=e[i=a],g.push(o),o.cover||(o.cover=o.logo||"",o.cover.indexOf(":")<0&&(o.cover=b.getAddonDir(i)+"/"+o.cover)),o.largeCover&&o.largeCover.indexOf(":")<0&&"system"!==o.status&&(o.largeCover=b.getAddonDir(i)+"/"+o.largeCover),o.installed||(o.installed=o.version);if(n)for(s=0;s<n.length;s++)if((a=(c=n[s]).name)in e)for(var l in c)l in e[a]||(e[a][l]=c[l]);else c.installed=0,g.push(c);for(var c,d,s=0;s<g.length;)(a=(c=g[s]).name)in t&&(c.minVersion=t[a].minVersion,c.hiddenIfRestricted=t[a].hiddenIfRestricted,c.disabled=t[a].disabled,!f.restricted)&&(c.version<c.minVersion||c.disabled)?(b.restrictedAddons[a]=t[a],t[a].hiddenIfRestricted||m.push(c),g.splice(s,1)):s++;n&&(d={},n.forEach(function(t,e){d[t.name]=e}),g.sort(function(t,e){return t.name in d?e.name in d?d[t.name]-d[e.name]:-1:e.name in d?1:t.name.localeCompare(e.name)})),u&&u(g,m,n),h.resolve(g,m,n)}),h.promise()},enableAddon:function(e,n){b.getAddons(function(t){t[e.name]=e,s.saveLocalFile(b.getAddonsDir()+"/"+a,JSON.stringify(t,null,s.isDev?"    ":""),n),o(e)})},disableAddon:function(n,i){b.getAddons(function(t){n=n.split(",");for(var e=0;e<n.length;e++)delete t[n[e]],n[e]in r&&(r[n[e]].status="system");s.saveLocalFile(b.getAddonsDir()+"/"+a,JSON.stringify(t,null,s.isDev?"    ":""),i)})},disableAllAddons:function(t){s.saveLocalFile(b.getAddonsDir()+"/"+a,"",t)},getAddonDir:function(t){return t in r&&"system"==r[t].status?n+"/"+t:b.getAddonsDir()+"/"+t},readAddon:function(t,e){var n=this;s.getLocalJSON(t+"/params.json",function(t){e(n.checkAddon(t))})},checkAddon:function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){return void console.log(t)}if(!(t&&t.themeCompatibility&&t.themeCompatibility.indexOf(b.theme.name)<0||t.name in u))return t},loadEachAddon:function(i,e,t,n){var o,r,a,s=this;function l(){s.fire("addonLoadFinish",o,e),n&&n(o)}(e=s.checkAddon(e))?(o=c(e)).name in s.registeredAddons?(console.warn("Addons already loaded",o.name),n&&n(o)):(s.registeredAddons[o.name]=o,s.fire("addonLoaded",e,o),r=v.Deferred().resolve(),e.includes&&(r=r.then(function(t){return v.when.apply(v,e.includes.map(function(t){var e;if(!/[.~:]/.test(t))return e="web/app/includes/"+t+".js",0==t.split("/").pop().indexOf("core-")?b.addCoreResource(e,!0):b.addAppResource(e);console.error("Error: wrong include name '"+t+"' in "+i)})).then(0,function(t){return console.error(t)},v.Deferred().resolve())})),e.dependencies&&(r=r.then(function(t){return v.when.apply(v,e.dependencies.map(function(t){var e=i+"/"+("object"===(void 0===t?"undefined":d(t))?t.src:t),t="object"===(void 0===t?"undefined":d(t))&&t.type?t.type:/.js$/g.test(e)?"js":/.css$/g.test(e)?"css":"";if(t)return b.addAppResource(e,"js"==t)})).then(0,function(t){return console.error(t)},v.Deferred().resolve())})),e.appScript&&(r=r.then(function(){return b.addAppResource(i+"/app.js")})),(a="code-editor"===e.name)&&(r=r.then(function(){return b.addAppResource("web/app/code-editor/app.js")})),a&&(r=r.then(function(){return b.addAppResource("web/app/code-editor/html-clean.js")})),e.coreDependencies&&(r=r.then(function(t){return v.when.apply(v,e.coreDependencies.map(function(e){try{var t=i+"/"+("object"===(void 0===e?"undefined":d(e))?e.src:e),n="object"===(void 0===e?"undefined":d(e))&&e.type?e.type:/.js$/.test(t)?"js":/.css$/.test(t)?"css":"";if(n)return b.addCoreResource(t,"js"==n)}catch(t){console.error(t,e)}})).then(0,function(t){return console.error(t)},v.Deferred().resolve())})),e.coreScript&&(r=r.then(function(t){return b.addCoreResource(i+"/core.js",!0)})),a&&(r=r.then(function(t){return b.addCoreResource("web/app/code-editor/core.js",!0)})),e.plugins&&(r=r.then(function(t){return v.when.apply(v,e.plugins.map(function(t){return b.readPlugin(i+"/"+t)})).then(0,function(t){return console.error(t)},v.Deferred().resolve())})),e.components&&e.components.forEach(function(t){r=r.then(function(){return b.readComponent2(t,i,o)})}),r=r.then(function(){!t&&e.plugins?b.updatePlugins(l):l()})):n&&n(!1)},loadAllAddons:function(n){var i=this;n=n||function(){},s.getSettings("loading",function(t){i._runLoadAllAddons(function(t,e){i.fire("addonsLoaded",t,e),n()})})},_runLoadAllAddons:function(e){var a=this;e=e||function(){},b.getAddonsEx(function(r,t){r?v.when.apply(v,a.applyFilter("promisesBeforeAddonsLoaded",[],r)).then(function(){for(var t=v.Deferred(),i=[],o=0;o<r.length;o++)!function(t){var e,n;"theme"!==r[o].type&&(e=v.Deferred(),n=b.getAddonDir(t),s.loadLocalFile(n+"/params.json",function(t){t?a.loadEachAddon(n,t,!0,function(t){t||console.warn("Error while load addon "+n),setTimeout(function(){e.resolve()},1)}):e.reject()}),i.push(e.promise()))}(r[o].name);return v.when.apply(v,i).then(function(){t.resolve()}).fail(function(){t.resolve()}),t.promise()}).done(function(){b.updatePlugins(function(){e(r,t)})}):e()})}},events:{accountInited:function(){var e=this;s.getLocalJSON(n+"/list.json",function(t){r=t||r,t||console.warn("no buildin addon"),e.getAddons(function(t){for(var e in r)e in t&&o(t[e]);b.fireOnce("addonsReady")})})},signedin:function(){this.loadAllAddons()}}})},["jQuery","mbrApp","mbrServer","Bridge"])},function(t){t.exports=JSON.parse('{"cookies-alert":{"minVersion":2},"iconfont":{"minVersion":6},"dropdown-menu":{"minVersion":2},"instagram-feed":{"disabled":true},"social-feed":{"disabled":true},"google-analytics":{"disabled":true},"seo":{"disabled":true},"mobirise4-blocks":{"disabled":true},"amp-blocks":{"disabled":true},"wowslider":{"disabled":true},"translator":{"disabled":true},"lazyload":{"disabled":true},"pwa-builder":{"disabled":true},"shopping-cart":{"disabled":true},"facebook-comments":{"disabled":true},"popup-builder":{"disabled":true},"soundcloud":{"disabled":true},"formbuilder":{"disabled":true},"facebook-feed":{"disabled":true},"chatbutton":{"disabled":true},"smart-cart":{"disabled":true},"password-protect":{"disabled":true},"eb-instagram-feed":{"disabled":true},"eb-youtube-feed":{"disabled":true},"eb-twitch-feed":{"disabled":true},"eb-chats-widget":{"disabled":true},"eb-facebook-feed":{"disabled":true},"eb-tiktok-feed":{"disabled":true},"eb-music-widget":{"disabled":true},"eb-pinterest-feed":{"disabled":true},"eb-vimeo-feed":{"disabled":true},"eb-shop":{"disabled":true}}')},function(t,e,n){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}defineM("app-addons-messenger",function(i,t,e,o){var r={},n=(d(a,[{key:"addSubscriber",value:function(t){if("function"!=typeof t)throw new Error("Invalid subscriber type");this._subscribers.push(t)}},{key:"removeSubscriber",value:function(t){if("function"!=typeof t)throw new Error("Invalid subscriber type");this._subscribers=this._subscribers.filter(function(t){return t!==funk})}},{key:"sendEventToSubs",value:function(e){var n=this;this._subscribers.map(function(t){return t.call(n,e)})}}]),a);function a(t){u(this,a),this.params=t||{},this._subscribers=[],this.addSubscriber=this.addSubscriber.bind(this),this.removeSubscriber=this.removeSubscriber.bind(this),this.sendEventToSubs=this.sendEventToSubs.bind(this)}function s(){u(this,s),this._buses={},this.addBus=this.addBus.bind(this),this.removeBus=this.removeBus.bind(this),this.isExistBus=this.isExistBus.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.postMessageToEventBus=this.postMessageToEventBus.bind(this),this.postMessageToHandler=this.postMessageToHandler.bind(this),this.eventListener=this.eventListener.bind(this)}d(s,[{key:"addBus",value:function(t){t=new n(t);if(!t.params.name||"string"!=typeof t.params.name)throw new Error("invalid eventBus name");if(!(t.params.name in this._buses))return this._buses[t.params.name]=t}},{key:"removeBus",value:function(e){if(!e||!this._buses.find(function(t){return t.name===e}))throw new Error("eventBus "+e+" not found");this._buses=this._buses.filter(function(t){return t.name!==e})}},{key:"isExistBus",value:function(t){return!(!t||"string"!=typeof t)&&t in this._buses}},{key:"subscribe",value:function(t,e){t&&"string"==typeof t&&this.isExistBus(t)&&"function"==typeof e&&this._buses[t].addSubscriber(e)}},{key:"unsubscribe",value:function(t,e){t&&"string"==typeof t&&this.isExistBus(t)&&"function"==typeof e&&(this._subscribers=this._subscribers.filter(function(t){return t!==e}))}},{key:"postMessageToEventBus",value:function(t){if(!t||"object"!==!(void 0===t||c(t)))throw new Error("event must be an object");if(!(t.name in this._buses))throw new Error("Unknown eventBus name:"+t.name);this._buses[t.name].sendEventToSubs(t)}},{key:"postMessageToHandler",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};if(!t||"object"!==(void 0===t?"undefined":c(t)))return e(new Error("event must be an object"));if(!(t.name in this._buses))return e(new Error("Unknown eventBus name:"+t.name));if(!(t.method in this._buses[t.name].params)||"function"!=typeof this._buses[t.name].params[t.method])return e(new Error("Unknown eventBus method:"+t.method));try{this._buses[t.name].params[t.method].call(this,t.data).then(function(t){e(null,t)}).catch(function(t){throw t})}catch(t){e(t)}}},{key:"eventListener",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"message"===n.type&&n.data.name in this._buses&&this.postMessageToHandler(n.data,function(t,e){if(t)throw t;e&&n.source.postMessage({name:n.data.name,method:n.data.method,data:e},n.origin)})}}]);var l=new s;t.regExtension({name:"addons-messenger",global:{createEventBus:l.addBus,getEventBusToken:function(e){var n;return function(t){return t||!r[e]||Date.now()>=n?o.post("auth",{target:e}).then(function(t){return n=Date.now()+1e3*(t.expires_in-30),r[e]=t.access_token}).catch(function(t,e){return console.log(t,e),i.Deferred().reject(new Error(t)).promise()}):jQuery.when(r[e])}},postMessageToEventBus:l.postMessageToEventBus},events:{loaded:function(){window.addEventListener("message",l.eventListener,!1),t.createEventBus({name:"electric-blaze-app",getToken:t.getEventBusToken("https://electricblaze.com")})}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-plugin-progress",function(a,s,l){var c=!1,d=0,u=0,p=!1,t='<div class="modal fade no-select plugin-progress-modal" id="appProgressModal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">  <div class="modal-dialog">\t<div class="modal-content">\t  <div class="modal-header">\t\t<button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\t\t<h4 class="modal-title">'+l("Progress")+'</h4>\t  </div>\t  <div class="modal-body">       <div class="progressText">'+l("Publishing...")+'</div>\t\t<br>\t\t<div class="exportingText"></div>\t\t<br>\t\t<div class="progress" style="margin-bottom: 0;">\t\t  <div class="progress-bar progress-bar-striped progress-bar-success active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>\t\t</div>\t  </div>\t  <div class="modal-footer">\t\t<button type="button" class="btn btn-default">'+l("Cancel")+"</button>\t  </div>\t</div>  </div></div>";s.regExtension({name:"plugin-progress",global:{$progressModal:a(t).insertBefore("#insertBefore"),progressBar:function(t,e,n,i){var o=this;if("object"===(void 0===t?"undefined":f(t)))void 0!==t.progress?o.$progressModal.find(".progress-bar").css("width",t.progress+"%"):p=t,i?o.$progressModal.addClass("passive"):o.$progressModal.removeClass("passive");else if("number"==typeof t&&isFinite(t))d=t,u=0;else switch(t){case"show":i?o.$progressModal.addClass("passive"):o.$progressModal.removeClass("passive"),o.progressBar(0),o.progressBar(""),o.$progressModal.appendTo(o.$body).modal({keyboard:!1}),e&&o.$progressModal.find(".modal-title").html(e),n&&(" "===n?o.$progressModal.find(".progressText").remove():o.$progressModal.find(".progressText").html(n));break;case"hide":u=d=0,o.$progressModal.modal("hide"),p=!1;break;case"isCanceled":return!o.$progressModal.is(":visible");case"stop":p&&p.pause&&p.pause(),a(".plugin-progress-modal-stop, .plugin-progress-modal-error").length||bootbox.dialog({message:e||l("Do you want to stop?"),className:"plugin-progress-modal-stop",closeButton:!1,buttons:{cancel:{label:l("Stop"),className:"btn-default",callback:function(){p&&(p.exit&&p.exit(),p=!1),o.progressBar("hide"),s.fire("cancelDownloadAddon")}},confirm:{label:l("Continue"),className:"btn-primary",callback:function(){p&&p.resume&&p.resume()}}}});break;case"error":p&&(c?(p.pause(),setTimeout(function(){p.resume()},0)):(a(".plugin-progress-modal-stop").remove(),p.pause(),bootbox.dialog({message:e||l("Unknown error"),className:"plugin-progress-modal-error",closeButton:!1,buttons:{cancel:{label:l("Cancel"),className:"btn-default",callback:function(){p&&(p.exit&&p.exit(),p=!1),o.progressBar("hide")}},all:{label:l("Ignore Errors"),className:"btn-default",callback:function(){c=!0,p&&p.resume&&p.resume()}},confirm:{label:l("Continue"),className:"btn-primary",callback:function(){p&&p.resume&&p.resume()}}}})));break;default:var r=0;0===u&&(c=!1),0!==d&&(u++,r=Math.min(100,100*u/d)),o.$progressModal.find(".exportingText").html(t),o.$progressModal.find(".progress-bar").css("width",r+"%").attr("aria-valuenow",r)}}},events:{load:function(){function e(){n.progressBar("stop",l("Do you want to stop?"))}var n=this;n.$progressModal.on("click",".modal-footer button, .modal-header button",e).closest("body").on("keydown",function(t){27==t.which&&n.$progressModal.is(":not(.passive):visible")&&e()})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-favicon",function(n,o,r,a){o.regExtension({name:"favicon",global:{findMenuComponent:function(){var t,e=null,n=o.Core.getPages();for(t in n){var i=n[t];if(i.settings&&(e=i.components.find(function(t){return"Menu"===t._group||-1<t._name.toLowerCase().indexOf("menu")})))break}return e},findMenuLogo:function(){var t=o.findMenuComponent();if(t)if(o.isSecondaryComponent(t)){for(var e in t)if(t[e].hasOwnProperty("image"))return t[e].image.src}else if(t.logo&&t.logo.image.active)return t.logo.image.src},getProjectFavicon:function(){return o.Core.replaceSystemVariables(o.projectSettings.favicon||o.findMenuLogo()||"https://a.mobirise.com/app/builder/images/logo5.png")}},events:{load:function(){o.Core.on("loadedComponent",function(t,e,n,i){!o.projectSettings.favicon&&("Menu"===t._group||-1<t._name.toLowerCase().indexOf("menu"))&&o.$body.find(".navbar-project-info .navbar-favicon").attr("src",o.getProjectFavicon())});var i=this;function t(e){a.openImage(r("Select Image"),i.projectPath?i.projectPath+"/assets/images":"","",o.projectSettings.imageResize?{width:"128",format:"png"}:"",function(t){t&&(t=a.path2app(t),n("input[name=favicon]").val(t),n(".faviconImage").one("load",function(){o.runSaveProject()}),n(".faviconImage").attr("src",t),o.projectSettings.favicon=t,o.$body.find(".navbar-project-info .navbar-favicon").attr("src",t)),e(t)})}i.addFilter("publishHTML",function(t){var e=o.getProjectFavicon();return e?t.replace('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">','<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">\n  <link rel="shortcut icon" href="'+e+'" type="image/x-icon">'):t}),o.addFilter("sidebarProjectSettings",function(t){var e=i.projectSettings.favicon||"",n=o.findMenuLogo(),n={title:"Common",name:"common",html:'<div class="form-group col-md-12 favicon-setting-wrap">\n                            <label class="control-label">'+r("Favicon")+'</label>\n                            <div class="row">\n                                <img id="faviconButton" class="faviconImage col-md-3" width="60" src="'+o.getProjectFavicon()+'">\n                            </div>\n                            <input type="hidden" name="favicon" value="'+e+'">\n                            '+(n?'<div class="row">\n                                <label for="faviconUseMenuLogo" class="control-label col">'+r("Use menu logo")+'</label>\n                                <div class="togglebutton col-auto">\n                                    <label>\n                                        <input type="checkbox" id="faviconUseMenuLogo"'+(e?"":" checked")+'>\n                                        <span class="toggle" style="margin: 0px;"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>':"")};return t.push(n),t}),i.$body.on("click","#faviconButton",function(){t(function(t){t&&n("#faviconUseMenuLogo").prop("checked",!1)})}),i.$body.on("change","#faviconUseMenuLogo",function(){n("#faviconUseMenuLogo").prop("checked")?(n("input[name=favicon]").val(""),o.projectSettings.favicon="",n(".faviconImage").one("load",function(){o.runSaveProject()}),n(".faviconImage").attr("src",o.getProjectFavicon()),o.$body.find(".navbar-project-info .navbar-favicon").attr("src",o.getProjectFavicon())):t(function(t){t||n("#faviconUseMenuLogo").prop("checked",!0)})}),o.Core.on("savedMediaIconFontDialog",function(t){var e,t=n(t);if(t.closest('section[id*="menu" i]'.length)){if("secondary"===o.theme.type)e=t;else{if("logo"!==t.attr("mbr-media"))return;e=t.find("a").length?t.find("a"):t.find("span")}t=o.getProjectImagesDir()+"/mbr-favicon.png";o.saveIcon(e,t)}}),o.Core.on("removeComponent",function(t,e){n(e).find("section").length&&-1<n(e).find("section").attr("id").toLowerCase().indexOf("menu")&&a.removeLocal(o.getProjectImagesDir()+"/mbr-favicon.png",function(t){t&&(o.$body.find(".navbar-project-info .navbar-favicon").attr("src",o.getProjectFavicon()),o.addFilter("publishFiles",function(t){for(var e=0;e<t.length;e++)t[e].dest===o.IMAGES_FOLDER+"/mbr-favicon.png"&&t.splice(e,1);return t}),o.addFilter("exportProjectFiles",function(t){for(var e=0;e<t.length;e++)t[e].dest===o.IMAGES_FOLDER+"/mbr-favicon.png"&&t.splice(e,1);return t}))})}),o.$body.find(".navbar-project-info .navbar-favicon").on("click",function(t){t.preventDefault(),t.stopPropagation(),o.openProjectSettings(o.projectPath+"/project.mobirise"),setTimeout(function(){n('#app-project-sidebar > [data-tab="common"]').click(),n(".app-layer-common .favicon-setting-wrap").addClass("selected")},100)})},saveMediaImageDialog:function(t,e,n){o.projectSettings.favicon||void 0===n||(n=o.Core.getComponent(n))&&("Menu"===n._group||-1<n._name.toLowerCase().indexOf("menu"))&&(n=e.image.src)&&o.$body.find(".navbar-project-info .navbar-favicon").attr("src",n)},loadedProject:function(){o.$body.find(".navbar-project-info .navbar-favicon").attr("src",o.getProjectFavicon())}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("app-plugin-tooltip",function(t,e,n){var i;function o(){clearTimeout(i),i=setTimeout(function(){e.initTooltips()},100)}e.regExtension({name:"plugin-tooltip",global:{initTooltips:function(){t('[data-tooltipster]:not(.tooltipstered), [data-toggle="tooltip"]:not(.tooltipstered)').each(function(){t(this).tooltipster({delay:0,speed:100,contentAsHTML:!!t(this).attr("data-tooltip-src"),content:t(this).attr("data-tooltip-src")?t("<img class="+t(this).attr("data-tooltip-class")+" src="+t(this).attr("data-tooltip-src")+">"):null,position:t(this).attr("data-tooltipster")||t(this).attr("data-placement")||"bottom"})})}},events:{load:o,signedin:o,loadedProject:o,addedPage:o,showedProjectsList:o,showedProjectSettings:o,showedAddonsList:o,showedCodeEditor:o,showedSiteCodeEditor:o,foundOnlineLibraryImages:o,initedComponentsPalette:o}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-spectrum",function(i,o,t){o.regExtension({name:"plugin-spectrum",global:{initSpectrum:function(){function n(t,e){return-1==(e=e.map(function(t){return t.toUpperCase()})).indexOf(t.toUpperCase())}var e=this;i(".spectrum").each(function(){i(this).spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:t("More")+" >",togglePaletteLessText:t("Less")+" <",maxSelectionSize:1,palette:e.getThemeColorsSet(7),move:function(t){i(this).val(t.toHexString()),e.changeComponentParams(this)},hide:function(t){var e;t&&((e=o.projectSettings.theme.additionalSetColors)?n(t.toHexString(),e)&&n(t.toHexString(),o.getThemeColorsSet(7)[0])&&(e.length<7?e.push(t.toHexString()):(e.unshift(t.toHexString()),e.pop())):n(t.toHexString(),o.getThemeColorsSet(7)[0])?o.projectSettings.theme.additionalSetColors=[t.toHexString()]:o.projectSettings.theme.additionalSetColors=[])}})})}},events:{preparedComponentParams:function(){this.initSpectrum()},hideComponentParams:function(){i(".spectrum").spectrum("hide")},loadedProject:function(){o.Core.$body.children('input[type="text"]').val("")}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-map",function(l,c,t,s){var e,d=null,u=[],p="loading",f="ok",h="data-state",m="data-state-details";e={};function g(t){return"https://www.google.com/maps/embed/v1/place?key="+u.pubKeyHub[e=u.pubKeyHub,Math.floor(Math.random()*e.length)]+"&amp;q="+t;var e}function v(t){return RegExp("<iframe(.+)</iframe>","g").test(t)}function b(t){return'<iframe frameborder="0" style="border:0" src="'+t+'" allowfullscreen></iframe>'}c.regExtension({name:"plugin-map",events:{coreLoad:function(){var t=c.Core.$window[0],a=t.jQuery;t.rivets.binders.map={routine:function(e,n){var i,t,o,r;n&&(n.state=n.state||f,n.state==f||v(n.address)?v(n.address)?a(e).removeAttr(h).html(b((t=n.address,l(t).attr("src")))):(null===d&&(d=a.Deferred(),i=4e3,r=l.Deferred(),s.get("storage/google-maps").then(function(t){t?r.resolve(t):(console.error("mbrServer: Invalid google keys."),r.reject())},function(){console.warn("Error while trying to get remote keys."),r.reject()}),t=r,o=new Promise(function(t,e){var n=setTimeout(function(){clearTimeout(n),t({private_keys:["AIzaSyDUGx-K5p_F4g1KzbL5oJ4WZRg00GsRy-4"],public_keys:["AIzaSyCt1265A4qvZy9HKUeA8J15AOC4SrCyZe4"]})},i)}),Promise.race([t,o]).then(function(t){u.pubKeyHub=t.public_keys,u.prvKeyHub=t.private_keys,d.resolve(u)},function(t){console.error(t.message)})),"resolved"===d.state()?a(e).removeAttr(h).html(b(g(n.address))):"pending"===d.state()&&d.then(function(t){a(e).removeAttr(h).html(b(g(n.address)))},function(t){console.error(t.message),a(e).removeAttr(h).html(b(g(n.address)))})):a(e).attr(h,n.state).html("<div "+m+">"+c.escapeHtml(n.stateDetails||"")+"</div>"))}}},loaded:function(){c.$body.on("click",".map-update",function(){var t,e,n,i,o=l(this).data(),r=o.componentID,a=o.paramName,o=o.address,s=c.Core.getComponent(r)._params;s[a].address!==o&&(s[a]={address:o,state:p},v(o)?(s[a].state=f,s[a].address=o,c.Core.changeComponentParams(r,a,s[a]),c.checkConditionsComponentParams(r),c.calulateComponentParams()):(t=r,e=s,n=a,i=o,Promise.resolve().then(function(){e[n]={address:i,state:f,stateDetails:""},c.Core.changeComponentParams(t,n,e[n]),c.checkConditionsComponentParams(t),c.calulateComponentParams()})),l(this).attr("disabled","true"))})},"map.changeComponentParams":function(t,e,n,i){i.find(".map-update").data({componentID:t,paramName:e,address:n}).removeAttr("disabled")}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";defineM("app-plugin-range-slider",function(s,t,e){t.regExtension({name:"plugin-range-slider",global:{initRangeSlider:function(){this.$componentsParams.find(".slider").each(function(){var n=this,t=+s(n).attr("data-value"),i=+s(n).attr("data-min"),o=+s(n).attr("data-max"),e=+s(n).attr("data-step"),r=(noUiSlider.create(n,{start:t,step:e,range:{min:i,max:o}}),s("<span></span>").appendTo(s(n).find(".noUi-handle"))),a=0;n.noUiSlider.on("update",function(t,e){a?(t=parseFloat(t[e]),s(n).removeClass("noUi-first noUi-last"),t==i?s(n).addClass("noUi-first"):t==o&&s(n).addClass("noUi-last"),r.html("<span>"+t+"</span>"),s(n).next().val(t).trigger("change")):a=1}),s(n).find(".noUi-handle").on("mousedown",function(t){var e=s(".app-template")[0];s(e).append('<div class="iframeWrapper"></div>'),s(".iframeWrapper").css({position:"absolute","z-index":"8000",top:"0",bottom:"0",width:"100%"}).on("mouseup",function(t){s(".iframeWrapper").remove()})})})}},events:{preparedComponentParams:function(){this.initRangeSlider()}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-plugin-iconfont",function(_,k,S,C){var P='<div class="form-group clearfix"><div class="row"><iframe class="col-md-3 iconfont-preview" frameborder="no"src="about:blank"></iframe><div class="col-md-3 icons-params"><div class="row"><div class="form-group col-md-12"><label>'+S("Icon Color")+'</label><input class="mbr-color iconfont-color pull-right" name="color" type="text" value=""/></div></div><div class="row"><div class="col-md-12 iconfont-size"><label class="" >'+S("Icon Size")+'</label><div class="togglebutton pull-right"><label><input type="checkbox" name="sizeAuto" checked/><span class="toggle"></span>'+S("Auto")+'</label></div></div></div><div class="col-md-8 pull-right"><input class="iconfont-size form-control" name="fontSize" type="text" value=""/></div></div><div class="iconfont-link-group col-sm-9"><div class="row"><div class="col-md-7"><label class="control-label link-label" for="iconfont-link">'+S("Link Icon to")+'</label><input id="iconfont-link" class="form-control" name="link" type="text" readonly></div><div class="col-md-3"><button class="btn btn-primary iconfont-link-btn">'+S("Edit Link")+'</button></div></div></div></div></div><div class="form-group clearfix "><div class="row"><div class="col"><input type="text" placeholder="'+S("Search...")+'" class="form-control iconfont-search" style="width:200px;margin-right:30px;margin-top:0px;display:inline-block;" /><button class="btn btn-primary collapse-btn">'+S("Collapse All")+'</button><button class="btn btn-primary expand-btn" style="margin-left:10px;">'+S("Expand All")+'</button></div></div></div><iframe class="form-group iconfont-list" frameborder="no" style="width:100%; -webkit-flex-grow:1;" src="about:blank"></iframe>';function T(){for(var t in k.iconFonts)if("object"==i(k.iconFonts[t]))return k.iconFonts[t];return{}}k.regExtension({name:"iconfont",global:{iconFonts:{},parseIconFontNames:function(t,r){var a,s,l=t.iconfont;function o(t){for(var e,n=/\.([^\s\:\{]+)\s*(?:\:[^\{]+)?{[^\}]*content\s*\:\s*([^};\s]+)\s*[;}]/gi;null!==(e=n.exec(t));){var i,o=e[1];if(l.prefix){if(0!==o.indexOf(l.prefix))continue;o=o.replace(l.prefix,"")}0<=a.indexOf(o)||(r&&((i=/(?:\'\\([A-F0-9]+)\')|(?:\"\\([A-F0-9]+)\")/i.exec(e[2]))?s.push(i[1]||i[2]):s.push(e[2])),a.push(o))}l.default||(l.default=l.names[0])}l?(a=l.names=[],s=l.codes=r&&[],k.eachPlugins2([t],function(t,e,n,i){"css"==e&&C.loadLocalFile(t,o)})):console.log("Error: plugin.iconfont undefined for plugin "+t.name)},createIconFont:function(t){var e,n;return T().family?t&&t.name&&(e=t.family&&k.iconFonts[t.family]||T())&&e.names?(t.link?(n=_("<a>").attr("href",t.link),t.newWindow&&n.attr("target","_blank")):n=_("<span/>"),e.class&&n.addClass(e.class),e.prefix?n.addClass(e.prefix+t.name):(n.html("&#x"+e.codes[e.names.indexOf(t.name)]),n.attr("data-name",t.name)),t.class&&n.addClass(t.class),t.size&&n.css("fontSize",parseInt(t.size,10)+"px"),t.color&&n.css("color",t.color),n.get(0)):"":(console.log("Warning: no iconfonts found"),"")},extractIconFont:function(t){var e,n,i,o,r={};if(T().family){if(t&&k.iconFonts){for(n in k.iconFonts){var a,s,l=k.iconFonts[n];if(l.class&&(a="."+l.class.replace(/\s+/g,"."),a=_(t).is(a)),l.prefix&&(s=new RegExp("^(.*\\s)?"+l.prefix).test(t.className)),(l.class||l.prefix)&&(!l.class||a)&&(!l.prefix||s)){e=l;break}}e?(r.family=e.family,i=t.className,(o=e.prefix)?i&&0<=i.indexOf(o)&&(r.name=i.substr(i.indexOf(o)+o.length).split(" ")[0],r.classPrefix=o):e.class&&0<=i.split(" ").indexOf(e.class)&&(r.name=_(t).attr("data-name")),t.tagName&&(r.size=parseInt(t.style.fontSize,10),r.color=t.style.color,"A"==t.tagName.toUpperCase())&&(r.link=t.href,r.newWindow="_blank"==t.target)):console.log("no font found for .",t)}}else console.log("Warning: no iconfonts found");return r},runIconFontDialog:function(i,t,e){t=t||{};var n,o=!!(i=i||{}).name,r=k.iconFonts[i.family]||k.iconFonts[t.family]||T(),a=(t=_.extend({name:r.default},t),i=_.extend({name:t.name,family:r.family},i),k.showDialog({title:S("Select icons"),className:"note-air-layout note-font-dialog",size:"large",flex:!0,body:P,id:"innerFontDialog",buttons:{success:{label:S("Insert Icon"),default:!0,className:"iconfont-ok"},delete:{label:S("Remove Icon"),className:"iconfont-delete"}},create:function(t){_(t).find("input.iconfont-color.mbr-color").val(i.color).on("change",function(){i.color=_(this).val(),g()})},show:function(t){var n=t.find("#iconfont-link");n.val(i.link),t.on("click.media-click","#iconfont-link, .iconfont-link-btn",function(t){var e={url:n.val(),isNewWindow:i.newWindow};k.showMbrLinkDialog(e,function(t){n.val(t.url),i.link=t.url,i.newWindow=t.isNewWindow})}),t.on("click.media-click",".collapse-btn",function(t){f.collapse()}),t.on("click.media-click",".expand-btn",function(t){f.expand()})}})),s=(k.fire("runIconFontDialog",a),["app/interface/app-plugin-iconfont.css"]),l="";for(n in k.iconFonts){var c=k.iconFonts[n];c.plugin&&k.eachPlugins2([k.getPlugin(c.plugin)],function(t,e,n,i){"css"==e&&s.push(C.path2app(t))}),l+=function(t){var e,n=_('<div class="font-block"/>'),i=(n.append('<p class="font-title">'+(t.author?'<a href="'+t.author+'">':"")+(t.title||t.family)+(t.author?"</a>":"")+"</p>"),_("<div/>").addClass("font-table").attr("data-family",t.family)),o=(n.append(i),t.names);for(e in o){var r=_(k.createIconFont({name:o[e],family:t.family}));r.attr("title",o[e]),i.append(r)}return n}(c)[0].outerHTML}var d,u,p,f,r=k.createIconFont({name:t.name,family:t.family,color:t.color}).outerHTML;function h(t,e){d.find("span").removeClass("char-active"),t=(t=t||i.name).replace("'","\\'"),e=e||i.family;e=d.find(".font-table[data-family="+e+"]");e.find("[title="+t+"]").addClass("char-active"),e.length&&e.get(0).focus()}function m(t,e){i.name=t||i.name,i.family=e||i.family,g(t,e),h(i.name,i.family)}function g(t,e){var n;u&&((n=k.extractIconFont(u.find("span").get(0))).name=t||n.name,n.color=i.color,n.family=e||n.family,u.html(k.createIconFont(n).outerHTML))}k.runIframe(a.find("iframe.iconfont-preview").get(0),r,{base:"",onload:function(t){(u=_(t).find("body")).addClass("iconfont-selected"),g(i.name,i.family)},links:s,noScroll:!0}),k.runIframe(a.find("iframe.iconfont-list").get(0),l,{base:"",onload:function(t){d=_(t).find("body"),_(t).find("body .font-table span").click(function(){m((p=_(this)).attr("title"),p.parents(".font-table").attr("data-family"))}),p=d.find(".font-table[data-family="+i.family+"] span[title="+i.name.replace("'","\\'")+"]"),m(),(f=new k.Accordion(d.find(".font-title").get(),d.find(".font-table").get(),{autoCollapse:!1})).collapse(),f.open(d.find(".font-table:first").get())},links:s}),a.find("iframe.iconfont-list").contents().find("body").css("margin","0"),k.redirectLinks(a);var v=a.find(".iconfont-search"),b=a.find("input[name=fontSize]"),r=a.find("input[name=sizeAuto]"),y=b.parent(".bootstrap-touchspin"),w=a.find(".iconfont-size"),w=(y.length||(b.TouchSpin({min:1,max:1e3,verticalbuttons:!0,initval:i.size||""}).on("change",function(){i.size=_(this).val()}),y=b.parent(".bootstrap-touchspin")),"size"in i?(w.show(),b.val(i.size)):w.hide(),r.on("change",function(){_(this).prop("checked")?(t.size=i.size,i.size="",b.val(i.size),y.hide()):(i.size=t.size||0,b.val(i.size),y.show())}),r.prop("checked",!i.size),i.size?y.show():y.hide(),a.find(".iconfont-link-group"));function x(){var t=v.val().toLowerCase().replace("'","\\'"),e=_(d).find(".font-table span");(""!=t?(f.expand(),e.hide(),e.filter("[title*="+t+"]")):e).show()}return"link"in i?w.show():w.hide(),a.on("click",".close",function(){e(),a.modal("hide")}),a.on("click",".iconfont-ok",function(){e(i),a.modal("hide")}),a.on("click",".iconfont-cancel",function(){e(),a.modal("hide")}),o?(a.on("click",".iconfont-delete",function(){e(void 0),a.modal("hide")}),a.find(".iconfont-delete").show()):a.find(".iconfont-delete").hide(),a.on("hidden.bs.modal",function(){a.off("click mouseenter mouseleave"),_(d).off("keydown")}),v.keyup(x),v.val(""),x(),a.modal("show"),a},saveIcon:function(t,e,n){var i=_("<canvas></canvas>"),o=(i.insertAfter(t).css("display","none").attr({width:t.outerWidth(),height:t.outerHeight()}),i[0].getContext("2d")),r=window.getComputedStyle(t[0],":before").getPropertyValue("font-family"),a=window.getComputedStyle(t[0]).getPropertyValue("font-size"),s=window.getComputedStyle(t[0]).getPropertyValue("color"),l=window.getComputedStyle(t[0],":before").getPropertyValue("content").replace(/"/g,""),a=(o.font=a+" "+r,o.fillStyle=s,o.fillText(l,0,t.outerHeight()),i[0].toDataURL().replace("data:image/png;base64,",""));i.remove(),e=e||C.tempLocation+"/open"+C.dateFormat(new Date,"yyyyMMdd_hhmmss")+"/mbr-favicon.png",C.saveLocalBase64(e,a,function(t){t?n(e):console.error("Error while saving image to:",e)})}},events:{registeredPlugin:function(t){var e;t.iconfont&&((e=t.iconfont).family in this.iconFonts&&(!this.iconFonts[e.family].names||!e.names||this.iconFonts[e.family].names.length>=e.names.length)?console.log("Warning: font is dublicated: ",e.family," in ",t.name,t):(e.plugin=t.name,(this.iconFonts[e.family]=e).names?e.default||(e.default=e.names[0]):(console.log("Warning: font "+e.family+" has no icons, now will be parsed..."),this.parseIconFontNames(t))))},load:function(){var c={},d=[];k.Core.addFilter("getResultComponent",function(t){return t.then(function(t,e,n){var i,o=k.iconFonts,r=c[n]||[];for(i in o){var a=o[i],s=(void 0,l="",(s=a).class&&(l="."+s.class.split(/\s+/).join(".")),l=s.prefix?l+'[class*=" '+s.prefix+'"],'+l+'[class^="'+s.prefix+'"]':l),l=_(t).find(s);l.length&&r.indexOf(i)<0&&r.push(a.plugin),l.length&&d.indexOf(a.plugin)<0&&d.push(a.plugin)}return c[n]=r,_.Deferred().resolve(t,e,n)})}),k.addFilter("allUsedPluginsForPage",function(t,e){var n=c[e];if(n){for(var i=0;i<n.length;i++)t.indexOf(n[i])<0&&t.push(n[i]);c[e]=0}return t}),k.addFilter("allUsedPlugins",function(t){for(var e=0;e<d.length;e++){var n=d[e];t.indexOf(n)<0&&t.push(n)}return d=[],t})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("app-plugin-smart-page-adding",function(a,s,t){s.regExtension({name:"plugin-smart-page-adding",events:{addedPage:function(t,e){if(!(e.length<5||e[4]&&void 0!==e[4])){var n,i,o=s.Core.resultJSON[t],r=s.Core.resultJSON[s.Core.currentPage];for(n in r.components)r.components[n]._global&&(delete(i=a.extend({},r.components[n]))._anchor,i._id=s.Core.uniqNum(),o.components.push(i))}}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-device-preview",function(n,i,t){i.regExtension({name:"plugin-device-preview",global:{$navbarDevices:n(".navbar-devices"),checkPreviewHeight:function(){var t=n(".app-template iframe");parseInt(t.height()+i.$body.find(".app-navbar").outerHeight())>=parseInt(n(".app-template").css("height"))?this.$iframe.addClass("maximumHeight"):this.$iframe.removeClass(".maximumHeight")}},events:{load:function(){var e=this;e.$iframe.attr("class",e.$navbarDevices.find(".active").attr("data-device")),e.$navbarDevices.on("click","> li",function(t){t.preventDefault(),n(this).hasClass("active")||(t=n(this).attr("data-device"),"true"===i.appSettings.showAllViews?n(this).addClass("active").siblings().removeClass("active"):(n(this).addClass("active").hide(),("phone"===t?n(this).siblings('[data-device="desktop"]'):n(this).siblings('[data-device="phone"]')).removeClass("active").css("display","inline-block")),e.$iframe.attr("class",t),"desktop"===t?i.Core.$body.addClass("desktop"):i.Core.$body.removeClass("desktop")),e.checkPreviewHeight()})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-mobile-interface",function(a,d,s,o){var r,t=a("nav.app-navbar").innerHeight(),u=window.innerHeight-t,l=window.innerWidth,c=d.$body.find("#mobile-blocks-manager");d.regExtension({name:"mobile-interface",global:{$navbar:a(".app-navbar"),calcBlocksCoords:function(n){var i=[];if(0!==n.lenght)return n.each(function(t){var e=(t=a(n[t])).offset().top,t=e+t.innerHeight();i.push([e,t])}),i},checkActiveBlock:function(t){var e,n,i,o=d.Core.$document.scrollTop(),r=Math.ceil(o+u/3),a=d.$body.find(".app-mobile-focus-block a h4"),s=d.Core.$template;if(t.length)if(0===o)n=(e=s.find(".app-component").eq(0)).attr("data-app-component-id"),(i=e.find("section").attr("id"))&&a.attr("data-current-component",n).text(i.charAt(0).toUpperCase()+i.slice(1).replace(/\d/," $&"));else for(var l=0,c=t.length;l<c;l++)n=(e=s.find(".app-component").eq(l)).attr("data-app-component-id"),i=e.find("section").attr("id"),t[l][0]<=r&&t[l][1]>=r&&i&&a.attr("data-current-component",n).text(i.charAt(0).toUpperCase()+i.slice(1).replace(/\d/," $&"));else a.removeAttr("data-current-component").text("Blocks")},setAdditionalPadding:function(t){var e=this.Core.$template.find("[data-app-component-id]"),n=2/3*u-t.height()+1;e.each(function(t){a(this).removeAttr("style")}),0<n&&t.attr("style","margin-bottom: "+n+"px")},scrollToComponent:function(t){var e=this,n=c.find(".preloader");t?(t=e.Core.$template.find('[data-app-component-id="'+parseInt(t)+'"]'),e.Core.$body.stop().animate({scrollTop:t.offset().top},0,function(){e.$componentsParams.removeData("app-params-btn"),e.$body.removeClass("app-blocks-manager-open"),n.remove()})):(e.$componentsParams.removeData("app-params-btn"),e.$body.removeClass("app-blocks-manager-open"),n.remove())},showBlocksManager:function(t){this.fire("showBlocksManager");var e=this;setTimeout(function(){e.$body.addClass("app-blocks-manager-open"),c.append(e.preloaderHTML),c.find(".preloader").hide(),r=!1,e.renderBlocksManager(),e.fire("showedBlocksManager")},0)},hideBlocksManager:function(t){this.fire("hideBlocksManager");var n,e=this,i=this.$body.find("#sortable-blocks-manager").children(),o=c.find(".preloader");r?(this.Core.resultJSON[this.Core.currentPage].components,n=[],o.fadeIn(50),i.each(function(t){var e=a(this).attr("data-block-id");n.push(d.Core.getComponent(parseInt(e)))}),e.Core.resultJSON[e.Core.currentPage].components=n,e.Core.render(void 0,e.scrollToComponent.bind(e,t))):e.scrollToComponent(t),this.fire("hiddenBlocksManager")},renderBlocksManager:function(){this.fire("renderBlocksManager");var o=this;c.find(".cont").empty(),this.Core.$template.find(".app-component").each(function(t){var e=o.Core.getComponent(a(this).attr("data-app-component-id")),n=o.Core.$template.find('[data-app-component-id="'+e._id+'"]').find("section").attr("id"),i=!0===e._alwaysTop,e='<div class="m-component'+(i?" is-top-block":"")+'" data-block-id="'+e._id+'"><div class="m-component__thumb"><img src="'+o.theme.path+"/components/"+e._name+'/thumb.png"></div><div class="m-component__name">'+n.charAt(0).toUpperCase()+n.slice(1).replace(/\d/," $&")+"</div>"+(i?"":'<div class="m-component__replace"><span class="mbr-icon-arrows-vertical"></span></div>')+"</div>";c.find(".cont").append(e)}),c.find(".m-component").on("click",function(t){t=a(t.target).closest(".m-component").attr("data-block-id");o.hideBlocksManager(t)}),c.find("#sortable-blocks-manager").sortable({axis:"y",handle:".m-component__replace",items:"> div:not(.is-top-block)",stop:function(t,e){r=!0}}),this.fire("renderedBlocksManager")}},events:{beforeAppLoad:function(){600<l||d.addFilter("addPage",function(t){return t.hasClass("main-page")||t.find("> a").append('<div class="m-page-sort"><span class="mbr-icon-arrows-vertical"></span></div>'),t})},load:function(){var e,r=this;if(!(600<l)){var t,n=["click"];for(t in n)!function(i,o){var r=i.contentWindow["on"+o];i.contentWindow["on"+o]=function(t){r&&r(t);var e=document.createEvent("MouseEvents"),n=i.getBoundingClientRect();e.initMouseEvent(o,!0,!1,window,t.detail,t.screenX,t.screenY,t.clientX+n.left,t.clientY+n.top,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,null),i.dispatchEvent(e)}}(d.iframe,n[t]);r.$body.find("#app-pages-list, #app-projects-list").find(".app-layer-title").after('<div class="mobile-top-buttons btn-group"><div class="btn-group"><span class="mobile-app-project-clone btn"><i class="mbr-icon-copy"></i></span></div><div class="btn-group"><span class="mobile-app-page-project-settings btn"><i class="mbr-icon-cog"></i></span></div></div>'),r.Core.on(["rendered","summernoteBlur","removedComponent","changedComponentPosition","changedComponentParams"],function(){d.Core.$template.find("[data-app-component-id]").each(function(t){a(this).removeAttr("style")}),d.setAdditionalPadding(d.Core.$template.find(".app-component").last()),e=r.calcBlocksCoords(r.Core.$template.find("[data-app-component-id]")),r.checkActiveBlock(e)});var i='[data-app-edit="content"], [data-app-edit="full"], [data-app-btn]',o=(d.Core.$window.on("click scroll",function(t){e=d.calcBlocksCoords(d.Core.$template.find("[data-app-component-id]")),r.checkActiveBlock(e),d.$body.find(".app-navbar").is(":visible")||("scroll"===t.type&&d.Core.$body.find(".sp-container").addClass("sp-hidden"),a(t.target).is(i))||a(t.target).closest(i).length||a(t.target).closest(".popover").length||a(t.target).hasClass("popover")||(d.Core.$body.find(".popover").hide(),d.Core.$body.find(".dummyTopbar").hide(),d.$iframe.css("height",""),d.Core.$template.css("padding-top",""),d.Core.$template.find(".app-component:first .app-component-content .navbar-fixed-top").css("top",""),d.$body.find(".app-navbar").show(),setTimeout(function(){d.Core.$template.find("[data-app-always-top] .app-component-content .navbar-fixed-top").css("transition","")},0),d.Core.$template.find("[data-app-component-id]").each(function(t){a(this).removeAttr("style")}),d.setAdditionalPadding(d.Core.$template.find(".app-component").last()),e=d.calcBlocksCoords(d.Core.$template.find("[data-app-component-id]")),d.checkActiveBlock(e),d.$template.find("[contenteditable]:focus").trigger("blur"))}),r.Core.on("removedComponent",function(){var t=r.Core.$template.find(".app-component").eq(0).attr("data-app-component-id");r.scrollToComponent(t)}),r.$body.find("#edit-component-params").prepend('<div class="descr"><span class="app-layer-close mbr-icon-angle-left"></span><h4 class="app-layer-title"></h4></div>'),r.$componentsLayer.prepend('<div class="descr"><span class="app-layer-close mbr-icon-angle-left"></span><h4 class="app-layer-title">Add Block</h4></div>'),r.on("prepareComponentParams",function(t){t=r.Core.$template.find('[data-app-component-id="'+t+'"]').find("section").attr("id");r.$body.find("#edit-component-params .descr .app-layer-title").html(t.charAt(0).toUpperCase()+t.slice(1).replace(/\d/," $&"))}),r.$navbar.find(".sidebar-toggle").after('<ul class="nav navbar-nav navbar-blockname"><li class="app-mobile-focus-block"><a href="javascript:void(0)"><h4>Blocks</h4></a></li><li class="app-mobile-focus-block-icon"><a href="javascript:void(0)"><i class="mbr-icon-shapes"></i></a></li></ul>'),r.$body.find(".nav.navbar-nav.navbar-right").append('<li class="app-mobile-params"><a href="javascript:void(0)"><i class="mbr-icon-cog"></i></a></li>'),r.$body.find(".app-mobile-params").on("click",function(t){r.Core.$template.find(".app-component").length&&(r.prepareComponentParams(r.$body.find(".app-mobile-focus-block a h4").attr("data-current-component")),setTimeout(function(){r.showComponentParams(null)},0))}),r.on("showedComponentParams",function(){r.$body.find("#edit-component-params > .cont").append('<button type="button" id="removeComponent" class="btn pull-right btn-danger">'+s("Remove")+"</button>"),r.$body.find("#removeComponent").on("click",function(){r.confirmDlg(s("Remove Block?"),function(t){t&&(r.Core.removeComponent(r.$body.find(".app-mobile-focus-block h4").attr("data-current-component")),r.hideComponentParams())})})}),r.$navbar.find(".navbar-blockname").on("click",function(){r.showBlocksManager()}),r.on("renderedBlocksManager",function(){var t=r.$body.find(".app-mobile-focus-block a h4").attr("data-current-component"),e=c.find('.m-component[data-block-id="'+t+'"]');t&&(e.addClass("m-component__active"),e.offset().top-67!=0)&&a("#sortable-blocks-manager").animate({scrollTop:e.offset().top-67},500)}),c.on("click",".app-layer-close",function(t){r.hideBlocksManager()}),r.$body.find("#edit-component-params").on("click",".app-layer-close",function(t){r.hideComponentParams()}),r.$body.find("#theme-settings").append('<div class="descr"><span class="app-layer-close mbr-icon-angle-left"></span><h4 class="app-layer-title">Site Styles</h4></div>'),r.$body.find("#theme-settings .app-layer-close").on("click",function(t){r.closeThemeSettings()}),r.$componentsLayer.find(".app-layer-close").on("click",function(t){r.hideComponentsList()}),r.$sidebar.find(".top-sidebar-block"));o.addClass("navbar").append('<span class="sidebar-mobile-close"><i class="i1"></i><i class="i2"></i></span><ul class="nav navbar-nav buttons-right"><li class="app-preview"><a href="javascript:void(0)"><i class="mbr-icon-eye"></i></a></li><li class="app-publish"><a href="javascript:void(0)"><i class="mbr-icon-upload"></i></a></li></ul>'),o.find(".sidebar-mobile-close").on("click",function(){r.closeSidebar()}),r.$sidebar.find(".app-preview").on("click",function(){r.publish(!0)}),r.$sidebar.find(".app-publish").on("click",function(){r.runPublishDlg(function(t){t&&r.publish(!1,t)})}),r.$pagesList.on("click",".mobile-app-project-clone",function(t){var e,n,i=r.$pagesList.find(".list li > a.active").closest("[data-page]").attr("data-page"),o=r.$pagesList.find(".list li > a.active > .page-thumb").clone();i&&((i=r.addPage(i)).find("> a").prepend(o),r.$pagesList.find(".list .sortable-container").sortable("disable"),o=i.find("span:eq(0)"),i.children("a").addClass("editing"),o.attr("contenteditable",""),e=document.createRange(),n=window.getSelection(),e.selectNodeContents(o[0]),n.removeAllRanges(),n.addRange(e),i.children("a").click())}),r.$pagesList.on("click",".mobile-app-page-project-settings",function(t){t.preventDefault(),t.stopPropagation();t=r.$pagesList.find(".list li > a.active").closest("[data-page]");r.showPageSettings(t)}),r.$pageSettings.find(".app-layer-cont").append('<div class="form-group"><a class="m-remove-page btn btn-danger pull-right">'+s("Remove Page")+"</a></div>"),r.on("showedPageSettings",function(){r.$pageSettings.find(".app-layer-cont .m-remove-page").show(),r.$pagesList.find('.list [data-page="'+r.currentPageSettings+'"]').closest("li").hasClass("main-page")&&r.$pageSettings.find(".app-layer-cont .m-remove-page").hide()}),r.$pageSettings.on("click",".m-remove-page",function(t){t.preventDefault(),t.stopPropagation();var e=r.$pagesList.find('.list [data-page="'+r.currentPageSettings+'"]').closest("li")[0],t=a(e).find("> a").attr("data-page")||"";r.confirmDlg(s("Remove page $page name$?").replace("$page name$"," <strong>"+t+"</strong>"),function(t){t&&(r.removePage(e),r.$pageSettings.find(".app-layer-close").click())})}),r.$projectsList.on("click",".mobile-app-project-clone",function(t){t.preventDefault(),t.stopPropagation();var t=r.$projectsList.find(".list > li > div.active").closest("[data-url]"),e=t.attr("data-url").replace("/project.mobirise",""),t=t.attr("data-name")+"-clone";r.projectClone(e,t)}),r.$projectsList.on("click",".mobile-app-page-project-settings",function(t){t.preventDefault();t=r.$projectsList.find(".list > li > div.active").closest("[data-url]").attr("data-url")||"";r.openProjectSettings(t)}),r.addFilter("additionalSiteSettings",function(t){return t+'<div class="form-group row clearfix"><div class="col-md-9 col-md-offset-3"><a class="m-remove-site btn btn-danger pull-right">'+s("Remove Site")+"</a></div></div>"}),r.$body.on("click",".site-settings-modal .m-remove-site",function(t){t.preventDefault(),t.stopPropagation();var t=r.$projectsList.find(".list > li > div.active").closest("[data-url]"),e=t.attr("data-url"),n=t.attr("data-path")||e,t=t.attr("data-name")||n;r.projectRemove(e,t)}),r.addFilter("additionalSiteSettings",function(t){return(d.hasThemeSettings(d.theme.params)?'<div class="form-group row clearfix"><div class="col-md-9 col-md-offset-3"><a class="m-project-styles btn btn-info pull-right">'+s("Edit Site Styles")+"</a></div></div>":"")+t}),r.$body.on("click",".site-settings-modal .m-project-styles",function(t){r.$body.find(".site-settings-modal").modal("hide"),r.closeSidebar(),r.openThemeSettings()}),r.$projectsList.append('<div class="app-import-project btn btn-fab btn-material-teal btn-raised no-select"><i class="mbr-icon-to-local-drive"></i></div>')}},loadedProject:function(){600<l||d.$projectsList.find("> .app-layer-title").html(d.escapeHtml(d.projectSettings.name))},changedProjectSettings:function(){600<l||d.$projectsList.find("> .app-layer-title").html(d.escapeHtml(d.projectSettings.name))},switchedPage:function(t){600<l||d.$pagesList.find("> .app-layer-title").html(d.escapeHtml(d.$navbarPageName.html()))},changedPageSettings:function(t){600<l||d.$pagesList.find("> .app-layer-title").html(d.escapeHtml(d.$navbarPageName.html()))},showedPagesList:function(){if(!(600<l)){var n,t,e=d.Core.getPages();for(n in e)e.hasOwnProperty(n)&&(t=e[n],a(t.components).each(function(t,e){return!0===e._alwaysTop||(e=d.theme.path+"/components/"+e._name+"/thumb.png",d.$pagesList.find('.list li > [data-page="'+n+'"]').prepend('<div class="page-thumb"><img src='+e+" width=60></div>"),!1)}))}},showedProjectsList:function(){600<l||o.getRecentsList(function(t){for(var e=0;e<t.length;e++){var i=t[e].path+"/project.mobirise";o.getLocalJSON(i,function(n){for(var t in n.pages){n.pages.hasOwnProperty(t)&&(t=n.pages[t],a(t.components).each(function(t,e){return!0===e._alwaysTop||0<=e._name.indexOf("menu")||(e=o.path2app(d.getAddonDir(n.settings.theme.name))+"/components/"+e._name+"/thumb.png",d.$projectsList.find('.list > li[data-url="'+i+'"] .project-img').prepend("<img src="+e+" width=60>"),!1)}));break}})}})},hiddenPagesList:function(){600<l||d.$pagesList.find(".list li > a > .page-thumb").remove()},toggleComponents:function(){600<l||(d.Core.$window.scroll(),d.$body.hasClass("app-blocks-manager-open")||(r=!1),d.hideBlocksManager())},openThemeSettings:function(){600<l||d.Core.$window.scroll()},modalDialogShow:function(t){var e;600<l||(d.Core.$window.scroll(),e=t.find(".modal-footer"),(t.hasClass("create-site-modal")||t.hasClass("crop-image-dialog")||t.hasClass("note-font-dialog")||t.hasClass("note-mbr-link-dialog"))&&e.is(":visible")&&(e.find("> *:visible").length?t.find(".modal-body").addClass("mobile-padding"):e.addClass("hidden")),t.hasClass("create-site-modal"))||t.find(".modal-header .modal-mobile-close").click(function(){e.find('[data-bb-handler="success"]').click(),e.find('[data-bb-handler="insert"]').click()})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var y=n(23);defineM(function(g,v,s){function b(t){t=t.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?(console.error("Invalid base64 image string"),null):t[2]}v.regExtension({name:"aws-app-plugin-media-editor",global:{showMediaImageDialog:function(c,d,t,e,u,p,n,f){var h,m=[],t='<div class="row mb-0">\n                    <div class="col-xs-12">\n                        <form class="media-image-form">\n                            <div class="form-group clearfix">\n                                <div class="row">\n                                    <div class="col-xs-12" id="media-tabs">\n                                        <ul class="nav nav-tabs mb-0">\n                                            <li class="browse-img">\n                                            '+(y.Bridge.isMobile?'<button class="btn btn-md w-100 btn-primary browser-image-src-btn">'+s("From Phone")+"</button>":'<a href="#browseComputer" data-toggle="tab">'+s("Browse Computer")+"</a>")+'\n                                            </li>\n                                            <li class="active">\n                                                <a href="#onlineLibrary" data-toggle="tab">'+(y.Bridge.isMobile?s("Library"):s("Free Online Library"))+'</a>\n                                            </li>\n                                            <li>\n                                                <a href="#siteLibrary" data-toggle="tab">'+s("Site Library")+'</a>\n                                            </li>\n                                        </ul>\n                                        <div class="tab-content">\n                                            <div class="tab-pane" id="browseComputer">\n                                                <div class="browse-computer-section unspl-section align-center form-row">\n                                                    <div>\n                                                        <p>'+s("Drop images here")+"</p>\n                                                        <p>"+s("or")+'</p>\n                                                        <a class="btn btn-lg btn-primary browser-image-src-btn">'+(y.Bridge.isMobile?s("From Phone"):s("Browse Computer"))+'</a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class="tab-pane active" id="onlineLibrary"></div>\n                                            <div class="tab-pane" id="siteLibrary"></div>\n                                            <input id="selected-photo" type="file" '+(u?"multiple":"")+' style="display: none;" accept=".gif,.jpg,.jpeg,.png,.svg">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row '+(u?" hidden":"")+'">\n                                <div class="col-xs-12 col-sm-3">\n                                    <div class="form-group sel-image">\n                                        <label class="control-label image-label">'+s("Selected Image")+'</label>\n                                        <div class="selected-image">\n                                            <img class="w-100 h-a" src="'+(c.image.src||"")+'" data-name="'+function(t){t=t.match(/[^/\\&\?]+\.\w{3,4}(?=([\?&].*$|$))/);return t?t[0]:""}(c.image.src)+'" id="media-image">\n                                            <div class="btn-group">\n                                                <span class="btn btn-material-light-blue btn-crop">\n                                                    <i class="mbr-icon-pencil"></i>\n                                                </span>\n                                            </div>\n                                            <input id="media-image-src" name="src" type="hidden" value="'+(c.image.src||"")+'">\n                                        </div>\n                                    </div>\n                                </div>\n                                '+(t?"":'<div class="col-xs-12 col-sm-9 col-md-9">\n                                    '+(e?"":'<div class="form-group row">\n                                        <div class="col-md-6">\n                                            <label class="control-label link-label col-xs-12" for="media-image-link">'+s("Link Image to")+'</label>\n                                            <input id="media-image-link" style="margin-top:10px" class="form-control" name="link" type="text" readonly value="'+(c.image.link||"")+'">\n                                        </div>\n                                        <div class="col-md-3">\n                                            <button class="btn btn-primary media-image-link-btn w-100" style="'+(v.isAMP()&&n?"margin-top:75px;":"margin-top:50px")+'">'+s("Edit Link")+"</button>\n                                        </div>\n                                    </div>")+'\n                                    <div class="row">\n                                        <div class="form-group col-xs-12 col-md-6">\n                                            <label class="control-label link-label" for="media-image-alt">'+s("Alt")+'</label>\n                                            <input id="media-image-alt" class="form-control" name="alt" type="text" value="'+(c.image.alt||"")+'">\n                                        </div>\n                                    </div>\n                                </div>')+"\n                            </div>\n                        </form>\n                    </div>\n                </div>";v.fire("showMediaImageDialog"),v.showDialog({title:s("Media Image"),className:"note-air-layout media-image",body:v.applyFilter("showMediaImageDialog",[t].join("\n"),c),cancel:function(t){t.off(".media-click"),v.fire("cancelMediaImageDialog",this)},success:function(r){var t,e,n,i,o,a=this,s=r.find("#browseComputer").hasClass("active");function l(t){if(!u||!s){var e,n=g("form.media-image-form",r).serializeArray();if(n&&n.length){for(var i=0;i<n.length;i++)c.image[n[i].name]=n[i].value;c.image.linkInNewWindow=h}for(e in c)c[e].active=void 0;c.image.active=!0,t&&(c.image.src=t),f&&(v.isAMP()?0==f.parents(".lightbox").length?c=v.applyFilter("saveMediaImageDialog",c):f.siblings(".amp-img-preloader").remove():f.siblings(".m-img-preloader").remove())}var o=[];m.forEach(function(t){o.push(t.src)}),v.fire("saveMediaImageDialog",a,c,p),d(u&&s?o:c),r.off(".media-click"),v.Core.fire("savedMediaImageDialog")}s&&u?s&&u&&l():(t=g("#media-image",r).attr("src"),i=(i=g("#media-image",r).attr("data-name")).replace(/[^A-Za-z0-9.\-_]/g,function(t){return t.charCodeAt()}),t!==c.image.src&&(v.isAMP()?g(f).closest("amp-img").prepend('<div class="amp-img-preloader">\n                                            '+v.preloaderHTML+"\n                                        <div>"):(e=g(f).width(),n=g(f).height(),g(f).before('<div class="m-img-preloader" style="width:'+e+"px; height:"+n+'px;">\n                                            '+v.preloaderHTML+"\n                                        <div>"))),!t||0!==t.indexOf("data:image/")||g("#media-image",r).hasClass("site-library-image")?l(t):(o=function(t){var e=/\-\d+x\d+$/,t=y.Bridge.splitPath(t),n=t.name,i="";i=(i=n.match(e))&&i[0]||"",30<(n=(n=n.replace(e,"")).replace(/\-h_[a-z0-9]+$/,"")).length&&(n=n.substring(0,29));return t.dir+"/"+n+"-h_"+Date.now().toString(36)+i+"."+t.ext}(o=v.projectPath+"/assets/images/"+i.replace(/\.jpeg$/,".jpg")),y.Bridge.saveLocalBase64(o,b(t),function(t){t?l(y.Bridge.path2app(o)):(console.warn("Unable to save image"),d(c))})))},show:function(r){var e=r.find("#media-image-link"),a=r.find("#unspl-section .preloader"),n=g(v.preloaderHTML),t=(r.find(".modal-body").before(n),n.hide(),r.on("click.media-click","#media-image-link, .media-image-link-btn",function(t){t.preventDefault(),t.stopPropagation();t={url:e.val(),isNewWindow:c.image.linkInNewWindow};v.showMbrLinkDialog(t,function(t){e.val(t.url),h=t.isNewWindow})}),r.find(".browse-computer-section")[0]);function i(){var e=(new g.Deferred).resolve();m.forEach(function(t){e=e.then(function(e){var n=new g.Deferred,t=e.src,i=(i=e.name).replace(/[^A-Za-z0-9.\-_]/g,function(t){return t.charCodeAt()}),o=v.projectPath+"/images/"+i.replace(/\.jpeg$/,".jpg");return y.Bridge.saveLocalBase64(o,b(t),function(t){t?(e.src=y.Bridge.path2app(o),n.resolve()):(console.warn('Unable to save image = "'+e.name+'"'),n.reject())}),n.promise()}.bind(e,t))}),e.done(function(){a.hide(),n.hide(),r.find(".modal-content").removeClass("no-events"),r.find('.modal-footer [data-bb-handler="success"]').click()})}function o(t){var e=new g.Deferred;if((t=Array.from(t))&&t[0]){var n=0;if(n<t.length)return/\.(gif|jpg|jpeg|svg|png)$/i.test(t[n].name)||(v.alertDlg('Invalid file type in"'+t[n].name+'"'),e.reject()),3e6<t[n].size&&(v.alertDlg("Error : "+t[n].name+" is larger than 3Mb."),e.reject()),t.reduce(function(t,e){return t.then(function(){return i=e,o=new g.Deferred,y.Bridge.transformImage(i,{quality:60,maxWidth:2e3},function(n){y.Bridge.loadLocalBlob(n,function(t){y.Bridge.removeLocal(n);var e=new FileReader;e.readAsDataURL(t),e.onload=function(t){var e;u?(e={name:i.name,src:t.target.result},m.push(e)):(g("#media-image").attr("src",t.target.result),r.find(".modal-content").removeClass("no-events"),a.hide()),o.resolve(t.target.result)},e.onerror=function(t){console.error('Invalid base64 image string on "'+i.name+'"'),v.alertDlg("Error while loading image."),r.find(".modal-content").removeClass("no-events"),a.hide(),o.reject(t)}})}),o.promise();var i,o})},e.resolve(t))}return e.promise()}t.ondragover=function(){return!1},t.ondragleave=function(){return!1},t.ondragend=function(){return!1},t.ondrop=function(t){a.show(),n.show(),r.find(".modal-content").addClass("no-events"),t.preventDefault(),o({files:t.dataTransfer.files}.files).then(function(){i()},function(t){n.hide(),r.find(".modal-content").removeClass("no-events"),console.log("Load is fail ",t)})},r.on("click.media-click",".browser-image-src-btn",function(t){t.preventDefault(),g("#selected-photo").click()}),r.on("change","#selected-photo",function(t){n.show(),r.find(".modal-content").addClass("no-events"),g("#media-image",r).removeClass("site-library-image"),o(t.currentTarget.files).then(function(){i()},function(t){n.hide(),r.find(".modal-content").removeClass("no-events"),console.log("Load is fail ",t)})}),r.on("click.media-click",".btn-crop, #media-image",function(t){t.preventDefault();var t=v.showDialog({title:s("Crop Image"),className:"crop-image-dialog",body:'<div class="row form-group"><div class="col-md-12"><img src="'+r.find("#media-image").attr("src")+'" id="crop-image"></div></div><div class="row"><div class="col-sm-12 crop-options"><div class="crop-image-transform"><button class="btn btn-material-light-blue crop-zoom-in mbr-icon-search-plus" title="'+s("Zoom In")+'"></button><button class="btn btn-material-light-blue crop-zoom-out mbr-icon-search-minus" title="'+s("Zoom Out")+'"></button><button class="btn btn-material-light-blue crop-scale-x mbr-icon-exchange" title="'+s("Flip Horizontal")+'"></button><button class="btn btn-material-light-blue crop-scale-y mbr-icon-arrows-vertical" title="'+s("Flip Vertical")+'"></button><button class="btn btn-material-light-blue rotate-counter-clockwise mbr-icon-alternate-undo" title="'+s("Counter Clockwise")+'"></button><button class="btn btn-material-light-blue rotate-clockwise mbr-icon-alternate-redo" title="'+s("Clockwise")+'"></button></div><div class="crop-aspect-ratio"><button class="btn btn-material-light-blue crop-ratio-16-9" title="'+s("Aspect Ratio")+': 16:9">16:9</button><button class="btn btn-material-light-blue crop-ratio-4-3" title="'+s("Aspect Ratio")+': 4:3">4:3</button><button class="btn btn-material-light-blue crop-ratio-1-1" title="'+s("Aspect Ratio")+': 1:1">1:1</button><button class="btn btn-material-light-blue crop-ratio-2-3" title="'+s("Aspect Ratio")+': 2:3">2:3</button><button class="btn btn-material-light-blue crop-ratio-free active" title="'+s("Aspect Ratio: Free")+'">'+s("Free")+"</button></div></div></div>",show:function(t){t.find(".crop-options .btn").tooltipster({delay:0,speed:100,position:"bottom"})},cancel:function(){},success:function(){var t=void 0;var e=n.attr("src");e&&"string"==typeof e&&(t=!e.includes("data:image/jpeg")&&((e=(e=e).split(".")).length<=1||!e[e.length-1].includes("jpg")&&!e[e.length-1].includes("jpeg"))?n.cropper("getCroppedCanvas").toDataURL("image/png"):n.cropper("getCroppedCanvas").toDataURL("image/jpeg"),r.find("#media-image").attr("src",t))}}),n=t.find("#crop-image");t.on("shown.bs.modal",function(){n.cropper({viewMode:3,guides:!1,toggleDragModeOnDblclick:!1})}),t.on("click.media-click",".crop-zoom-in",function(t){n.cropper("zoom",.1)}),t.on("click.media-click",".crop-zoom-out",function(t){n.cropper("zoom",-.1)}),t.on("click.media-click",".crop-scale-x",function(t){var e=n.cropper("getData");n.cropper("scale",-e.scaleX,e.scaleY)}),t.on("click.media-click",".crop-scale-y",function(t){var e=n.cropper("getData");n.cropper("scale",e.scaleX,-e.scaleY)}),g(".rotate-counter-clockwise").click(function(t){n.cropper("rotate",-45)}),g(".rotate-clockwise").click(function(t){n.cropper("rotate",45)}),t.on("click.media-click",".crop-ratio-16-9",function(t){n.cropper("setAspectRatio",16/9),g(this).addClass("active").siblings().removeClass("active")}),t.on("click.media-click",".crop-ratio-4-3",function(t){n.cropper("setAspectRatio",4/3),g(this).addClass("active").siblings().removeClass("active")}),t.on("click.media-click",".crop-ratio-1-1",function(t){n.cropper("setAspectRatio",1),g(this).addClass("active").siblings().removeClass("active")}),t.on("click.media-click",".crop-ratio-2-3",function(t){n.cropper("setAspectRatio",2/3),g(this).addClass("active").siblings().removeClass("active")}),t.on("click.media-click",".crop-ratio-free",function(t){n.cropper("setAspectRatio",NaN),g(this).addClass("active").siblings().removeClass("active")})}),v.fire("showedMediaImageDialog",r,c,u),v.fire("showedPopup",r),v.initTooltips()}})},showMediaVideoDialog:function(o,r){v.fire("showMediaVideoDialog");var t=v.showDialog({title:s("Media Video"),className:"note-air-layout media-video-dialog",body:v.applyFilter("showMediaVideoDialog",['<div class="row"><div class="col-md-12">','<form class="media-video-form">','<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="media-video-src">'+s("Video URL")+"</label>",'<div class="col-md-9">','<input id="media-video-src" class="form-control" name="src" type="text" value="'+(o.video.src||"")+'">','<small class="help-block">'+s("YouTube, Vimeo, or custom e.g. https://site.com/video.mp4")+"</small>","</div>","</div>",'<div class="form-group row clearfix">','<label class="col-md-3 control-label">'+s("Aspect Ratio")+"</label>",'<div class="col-md-9">','<select id="media-video-aspectratio" class="form-control" name="aspectratio">',"<option>16:9</option>","<option "+("4:3"==o.video.aspectratio?"selected":"")+">4:3</option>","</select>","</div>","</div>",'<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="media-video-autoplay">'+s("Autoplay")+"</label>",'<div class="togglebutton col-md-9">',"<label>",'<input id="media-video-autoplay" type="checkbox" name="autoplay" '+(o.video.autoplay?"checked":"")+">",'<span class="toggle"></span>',"</label>","</div>","</div>",'<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="media-video-loop">'+s("Loop")+"</label>",'<div class="togglebutton col-md-9">',"<label>",'<input id="media-video-loop" type="checkbox" name="loop" '+(o.video.loop?"checked":"")+">",'<span class="toggle"></span>',"</label>","</div>","</div>","</form>","</div></div>"].join("\n"),o),cancel:function(){v.fire("cancelMediaVideoDialog",this)},show:function(t){var n=/youtu.*be.*/,i=/vimeo/;t.find("#media-video-src").on("change",function(t){var e=t.target.value;t.target.value&&-1===e.search(n)&&-1===e.search(i)&&-1===e.search(/(?:((?:https|http):\/\/)|(?:\/)).+(?:.mp4)/)&&v.showError(s("Unsupported video format. MP4 only."))})},success:function(){var t=g(this).find("form.media-video-form").serializeArray();if(t&&t.length){for(var e=!1,n=!1,i=0;i<t.length;i++)"autoplay"==t[i].name?e=t[i].value:"loop"==t[i].name?n=t[i].value:o.video[t[i].name]=t[i].value;o.video.autoplay=e,o.video.loop=n,!1===o.video.autoplay&&(o.video.src=o.video.src.replace(/[&?]autoplay=1/,"")),!1===o.video.loop&&(o.video.src=o.video.src.replace(/[&?]loop=1/,""))}for(i in o)o[i].active=void 0;o.video.active=!0,o=v.applyFilter("saveMediaVideoDialog",o),v.fire("saveMediaVideoDialog",this),r(o)}});v.fire("showedMediaVideoDialog",t),v.fire("showedPopup",t)}},events:{load:function(){v.addFilter("getExternalThumb",function(t,e){return 0!=e.indexOf("http://")&&0!=e.indexOf("https://")&&t?t:(t=e.split("/").pop(),/(jpg|jpeg|png)/i.test(t.split(".").pop())&&-1!==e.indexOf("cndmbr")?e.replace("/images/","/thumbnails/"):e)})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var r=n(23);defineM("aws-app-plugin-image-editor-pixabay",function(g,v,b){function y(n){return new Promise(function(i,o){var t=document.createElement("canvas");t.width=n.naturalWidth,t.height=n.naturalHeight,document.getElementsByTagName("body")[0].appendChild(t);t.getContext("2d").drawImage(n,0,0);var e=t.toDataURL("image/jpeg"),t=(t.remove(),function(t,e){e=e||"";for(var n=window.atob(t.replace("data:image/jpeg;base64,","")),i=[],o=0;o<n.length;o+=512){for(var r=n.slice(o,o+512),a=new Array(r.length),s=0;s<r.length;s++)a[s]=r.charCodeAt(s);var l=new Uint8Array(a);i.push(l)}return new Blob(i,{type:e})}(e,"image/jpeg"));r.Bridge.transformImage(t,{quality:60,maxWidth:2e3},function(n){r.Bridge.loadLocalBlob(n,function(t){r.Bridge.removeLocal(n);var e=new FileReader;e.readAsDataURL(t),e.onload=function(){i(e.result||"")},e.onerror=function(t){o(t)}})})})}v.regExtension({name:"aws-plugin-image-editor-pixabay",events:{showedMediaImageDialog:function(o,t,i){var e='<div id="unspl-section" class="unspl-section">\n                        <input class="form-control search-input pull-left" value="" type="text" placeholder="'+b("Search by keyword")+'"/>\n                        <button class="btn btn-primary search-btn">'+b("Search")+'</button>\n                        <p class="pb-text">'+b("Images from")+' <a class="pb-link" href="https://pixabay.com/" target="_blank">Pixabay</a></p>\n                        <div class="keywords">'+b("e.g.")+',&nbsp;\n                            <a href="javascript:void(0)">computer</a>\n                            <a href="javascript:void(0)">work</a>\n                            <a href="javascript:void(0)">business</a>\n                            <a href="javascript:void(0)">man</a>\n                            <a href="javascript:void(0)">woman</a>\n                            <a href="javascript:void(0)">city</a>\n                            <a href="javascript:void(0)">nature</a>\n                            <a href="javascript:void(0)">animals</a>\n                            <a href="javascript:void(0)">pattern</a>\n                            <a href="javascript:void(0)">abstract</a>\n                            <a href="javascript:void(0)">art</a>\n                            <a href="javascript:void(0)">food</a>\n                        </div>\n                        <div class="images-list"></div>\n                    </div>',r=g('<div class="image-wrapper col-xs-6 col-sm-4 col-md-3 col-lg-2"><img class="w-100 h-a"></div>'),a=g('<div class="error-alert"><p></p></div>'),s=(o.find(".media-image-form #media-tabs .tab-content .tab-pane#onlineLibrary").append(e),v.projectSettings.ai&&v.projectSettings.ai.imageSearchQuery&&o.find(".keywords a").first().before('<a href="javascript:void(0)">'+v.projectSettings.ai.imageSearchQuery+"</a>"),g(v.preloaderHTML)),n=o.find(".search-input"),l=o.find(".search-btn"),c=o.find("#unspl-section .images-list"),d=!1,u=!1,e=["computer","work","business","phone","mobile","pc"],p=e[Math.floor(Math.random()*e.length)];function f(t,e){var n,i;o.find("#unspl-section").addClass("no-events"),d=!0,g.when((e=e,s.fadeIn(100),n=g.Deferred(),i=[],e=e||1,sessionStorage.setItem("lastImageLibrarySearch",p),e="https://pixabay.com/api/?key=10565071-2fab8a0cb075d46840c40e655&page="+e+"&per_page=200&q="+encodeURIComponent(p),fetch(e).then(function(t){if(t.ok)return t.json();throw new Error(t.status+", "+t.statusText)}).then(function(t){0<parseInt(t.totalHits)?(o.find(".pb-text").show(),g.each(t.hits,function(t,e){i.push(function(t){{var e;t&&(e=r.clone(),c.append(e),e.find("img").attr({src:t.previewURL,"data-url":t.fullHDURL}))}}(e))}),g.when.apply(g,i).then(function(){n.resolve()})):n.reject()}).catch(function(t){console.error("error:",t.message),c.find(".error-alert p").text(b("Online image library is not available")),n.reject()}),n.promise())).done(function(){u&&(u=!1,c.append(a),c.find(".error-alert p").text(b("Online image library is not available"))),s.hide(),d=!1,o.find("#unspl-section").removeClass("no-events")}).fail(function(){s.hide(),d=!1,o.find("#unspl-section").removeClass("no-events"),1===h&&(c.append(a),c.find(".error-alert p").html(b("No images found!")+"<br>"+b("Please try another keyword")))})}v.projectSettings.ai&&v.projectSettings.ai.imageSearchQuery&&(p=sessionStorage.getItem("lastImageLibrarySearch")||v.projectSettings.ai.imageSearchQuery),c.before(s),o.on("click.media-click",".search-btn, .keywords a",function(t){t.preventDefault(),!1===d&&("A"===t.target.nodeName&&n.val(t.target.text),""!==g.trim(n.val()))&&(p=g.trim(n.val()),c.off("scroll"),a.remove(),c.empty(),f(0,h=1),setTimeout(function(){c.on("scroll",m)},1e3))}),n.keypress(function(t){13===(t.keyCode||t.which)&&(t.preventDefault(),l.trigger("click.media-click"))}),o.on("click.media-click","#unspl-section .image-wrapper img",function(t){t.preventDefault(),o.find(".modal-content").addClass("no-events"),s.fadeIn(100);var e=g(this).attr("data-url"),n=!1;g("#media-image",o).removeClass("site-library-image"),g("#media-image").attr("crossorigin","anonymous").attr("src",e).attr("data-name",e.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0]).on("load",function(){/firefox/i.test(navigator.userAgent)&&this.currentSrc!==this.src?(n=!0,g(t.target).click()):n||y(g("#media-image")[0]).then(function(t){g("#media-image").attr("src",t),n=!0,o.find(".modal-content").removeClass("no-events"),s.hide()},function(t){console.error(t),v.alertDlg("Error while loading image."),g("#media-image").removeAttr("src"),o.find(".modal-content").removeClass("no-events"),s.hide()}).then(function(){i&&o.find('.modal-footer [data-bb-handler="success"]').click()})})});var h=1;function m(t){t.preventDefault(),c.scrollTop()+c.innerHeight()>=c[0].scrollHeight&&f(0,++h)}c.on("scroll",m),f(0,h)}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var c=n(23);defineM(function(s,l,t){l.regExtension({name:"aws-plugin-image-editor-site-library",events:{showedMediaImageDialog:function(r,t,e){var a=s('<div class="image-wrapper col-xs-6 col-sm-4 col-md-3 col-lg-2 local"><img class="h-a w-100"><span class="img-name"></span><div class="btn-group"><span class="btn btn-material-red btn-delete"><i class="mbr-icon-trash"></i></span></div></div>'),n=!0,o=void 0;r.find(".media-image-form #media-tabs .tab-content .tab-pane#siteLibrary").append('<div class="unspl-section row mb-0"><div class="col-xs-12"><div class="site-library images-list form-row mb-0"></div></div></div>'),r.on("shown.bs.tab",'a[data-toggle="tab"][href="#siteLibrary"]',function(t){var i;n&&(n=!1,i=s(l.preloaderHTML),r.find(".site-library.images-list").before(i),i.show(),new Promise(function(e,t){c.Bridge.dirList(mbrApp.projectPath+"/assets/images/",function(t){e(t)})}).then(function(e){e=e.filter(function(t){return-1===t.indexOf("apple-launch-")});function n(o,t){s.each(e,function(t,e){var n=a.clone(),i=o+((i=e)?"assets/images/"+i:(console.warn("getThumbPath: error input"),i));r.find(".site-library.images-list").append(n),n.find(".img-name").html(e),n.find("img").attr("src",i)}),t()}c.Bridge.getRecentSettings(mbrApp.projectPath+"/assets/images/",function(t){n((o=t).resourcesUrl,function(){i.hide()})})}))}),r.on("click.media-click",".unspl-section .image-wrapper.local",function(t){s("#media-image",r).addClass("site-library-image");t=s(t.currentTarget).find("img").attr("src");s("#media-image",r).removeAttr("crossorigin").attr("src",t),e&&r.find('.modal-footer [data-bb-handler="success"]').click()}),r.on("click",".btn-delete",function(t){t.stopPropagation();var e=s(t.target).closest(".image-wrapper").find("img").attr("src").split("/").pop(),n=s(t.target).closest(".image-wrapper");c.Bridge.removeLocal(c.Bridge.projectsLocation+"/"+o.id+"/assets/images/"+e,function(t){n.remove()})})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-link-editor",function(T,j,E,A){function f(t,o,e,n,i,r){var a,s,l,c,d,u,p=o.url,f=o.isNewWindow,h=o.range,e=((e=e||r.makeLayoutInfo(t).editor().data("options")).onCreateLink&&(p=e.onCreateLink(p)),[]),e=(t.hasClass("btn")||t.is("[data-app-btn]")?e.push(t[0]):(t={nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0},a=i,s=r,r=(r=h).splitText(),u=t&&t.nodeName||"SPAN",h=!(!t||!t.expandClosestSibling),t=!(!t||!t.onlyPartialContains),e=r.isCollapsed()?[r.insertNode(s.create(u))]:(d=s.makePredByNodeName(u),l=T.map(r.nodes(s.isText,{fullyContains:!0}),function(t){return s.singleChildAncestor(t,d)||s.wrap(t,u)}),h?(t&&(c=r.nodes(),d=g(d,function(t){return a.contains(c,t)})),T.map(l,function(t){var t=s.withClosestSiblings(t,d),n=a.head(t),e=a.tail(t);return T.each(e,function(t,e){s.appendChildNodes(n,e.childNodes),s.remove(e)}),a.head(t)})):l)),j.applyFilter("textLinkAnchors",T.each(e,function(t,e){var n,i;j.isAMP()&&o.ampCart?(-1!==o.url.search("data:application/json")?(i=JSON.parse(decodeURIComponent(o.url.replace(/^data:application\/json,/,""))),i="tap:shopItemLightbox,AMP.setState({shopItemInfo: "+JSON.stringify(i).replace(/"/gm,"'")+"})",T(e).attr("on",i)):(i=o.url.match(/\?(.*$)/)[1],n={},i=i.split("&"),T(i).each(function(t,e){e=e.split("=");n[e[0]]=e[1].replace(/\+/g," ")}),i='tap:cartanim.start,AMP.setState({cart: {items:cart.items.concat([{item_name: "'+decodeURIComponent(n.item_name)+'", amount: "'+n.amount+'", currency_code: "'+n.currency_code+'" , cmd: "_ampcart", id: cart.id}]),total: cart.total+'+n.amount+",id: cart.id+1}})",T(e).attr("on",i)),T(e).removeAttr("href")):(p?T(e).attr("href",p):T(e).removeAttr("href"),T(e).is("img, .btn")||T(e).addClass("text-primary")),f?T(e).attr("target","_blank"):T(e).removeAttr("target")}),o)),h=n.createFromNodeBefore(i.head(e)).getStartPoint(),t=n.createFromNodeAfter(i.last(e)).getEndPoint();n.create(h.node,h.offset,t.node,t.offset).select()}function L(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)}function O(t,e){t.toggleClass("error-input",!e)}function $(t,e){var n="";j.Core?n=j.Core.getComponentsAnchorList("",e):(n='<option value="" disabled="disabled" selected="selected">Anchors</option>',T("[id]:not(.note-air-layout, .note-editable, .tooltip, style)").each(function(){var t=T(this).attr("id");n+='<option value="#'+t+'">#'+t+"</option>"})),t.html(n),3===t[0].options.length&&(n="<option disabled='disabled' selected='selected'></option><option>Nothing to choose</option>",t.html(n)),j.getCurrentPageName()!==e&&(t.find("[value*='#top']").remove(),t.find("[value*='#bottom']").remove()),j.initTooltips()}function h(e,c,s,n){var t,i=c.find(".nav-tabs"),r=c.find(".note-mbr-anchors"),a=c.find(".note-mbr-pages"),o=c.find(".note-mbr-url"),l=c.find(".note-mbr-email"),d=c.find(".note-mbr-phone"),u=c.find(".note-mbr-custom-url"),p=c.find(".note-mbr-link-btn"),f=c.find(".note-mbr-delete-link-btn"),h=c.find("input[type=checkbox]"),m=c.find("#phone .phone-link-label"),g=c.find("#phone .phone-link-example");if(j.addFilter("shoppingCartInNewWindow",function(){return s.isNewWindow||!1}),s.url){var v,b,y=!1,w=j.Core.getPages();for(b in w)if(w.hasOwnProperty(b)&&(s.url===b||0===s.url.indexOf(b+"#"))){y=!0;break}switch(!0){case y||"#top"===s.url||"#bottom"===s.url:t=i.find('a[href="#page"]');break;case 0===s.url.indexOf("tel:"):t=i.find('a[href="#phone"]'),v=s.url.replace("tel:",""),m.text(E("Call Phone Number")),g.text(E("e.g.")+", +1-234-5678910"),d.val(v),c.find('#phone .phone-messengers [value="tel"]').prop("checked",!0);break;case 0===s.url.indexOf("sms:"):t=i.find('a[href="#phone"]'),v=s.url.replace("sms:",""),m.text(E("Send SMS Text to Number")),g.text(E("e.g.")+", +1-234-5678910"),d.val(v),c.find('#phone .phone-messengers [value="sms"]').prop("checked",!0);break;case 0===s.url.indexOf("https://wa.me/"):t=i.find('a[href="#phone"]'),v=s.url.replace("https://wa.me/",""),m.text(E("Chat with WhatsApp")),g.text(E("e.g.")+", +1-234-5678910"),d.val(v),c.find('#phone .phone-messengers [value="whatsapp"]').prop("checked",!0);break;case 0===s.url.indexOf("viber://chat?number="):t=i.find('a[href="#phone"]'),v=s.url.replace("viber://chat?number=",""),m.text(E("Chat with Viber")),g.text(E("e.g.")+", +1-234-5678910"),d.val(v),c.find('#phone .phone-messengers [value="viber"]').prop("checked",!0);break;case 0===s.url.indexOf("skype:"):t=i.find('a[href="#phone"]'),v=s.url.replace(/skype:|\?call/g,""),m.text(E("Call with Skype by Number or Name")),g.text(E("e.g.")+", +1-234-5678910 or echo123"),d.val(v),c.find('#phone .phone-messengers [value="skype"]').prop("checked",!0);break;case 0===s.url.indexOf("tg://resolve?domain="):t=i.find('a[href="#phone"]'),v=s.url.replace("tg://resolve?domain=",""),m.text(E("Chat with Telegram")),g.text(E("e.g.")+", mobirisebuilder"),d.val(v),c.find('#phone .phone-messengers [value="telegram"]').prop("checked",!0);break;case 0===s.url.indexOf("https://signal"):t=i.find('a[href="#phone"]'),v=s.url,m.text(E("Chat with Signal")),g.text(E("e.g.")+", https://signal.group/#CjQ2"),d.val(v),c.find('#phone .phone-messengers [value="signal"]').prop("checked",!0);break;case 0===s.url.indexOf("https://discord"):t=i.find('a[href="#phone"]'),v=s.url,m.text(E("Chat with Discord")),g.text(E("e.g.")+", https://discord.gg/8MzmKjFnpJ"),d.val(v),c.find('#phone .phone-messengers [value="discord"]').prop("checked",!0);break;case 0===s.url.indexOf("assets/files/"):t=i.find('a[href="#file"]');break;case 0===s.url.indexOf("http://")||0===s.url.indexOf("https://"):t=i.find('a[href="#webAddress"]'),o.val(s.url);break;case 0===s.url.indexOf("mailto:"):t=i.find('a[href="#email"]'),v=s.url.replace("mailto:",""),l.val(v);break;case""!==s.url:t=i.find('a[href="#custom"]'),u.val(s.url);break;default:t=i.find("a:first")}}else t=i.find("a:first");O(o,D.test(punycode.toASCII(o.val().replace(/(^\w+:|^)\/\//,"")))),O(l,F.test(l.val())),O(d,I.test(d.val())),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#page"]',function(t){L(p,a.val()||r.val())}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#webAddress"]',function(t){o.focus(),L(p,D.test(o.val()))}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#email"]',function(t){l.focus(),L(p,F.test(l.val()))}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#phone"]',function(t){d.focus();var e=c.find("#phone .phone-messengers [name=phoneLinkType]:checked").val();"skype"!==e&&"telegram"!==e||(I=new RegExp(/^.+$/)),"discord"===e&&(I=new RegExp(/(https:\/\/)?(www\.)?((discordapp\.com\/invite)|(discord\.gg))\/(\w+)/)),"signal"===e&&(I=new RegExp(/((https:\/\/)(signal\.group\/))\S*/)),L(p,I.test(d.val())),O(d,I.test(d.val()))}),c.find("#phone .phone-messengers [name=phoneLinkType]").change(function(){switch(T(this).val()){case"tel":m.text(E("Call Phone Number")),g.text(E("e.g.")+", +1-234-5678910"),I=new RegExp(/^[^a-zA-Z]+$/);break;case"sms":m.text(E("Send SMS Text to Number")),g.text(E("e.g.")+", +1-234-5678910"),I=new RegExp(/^[^a-zA-Z]+$/);break;case"whatsapp":m.text(E("Chat with WhatsApp")),g.text(E("e.g.")+", +1-234-5678910"),I=new RegExp(/^[^a-zA-Z]+$/);break;case"viber":m.text(E("Chat with Viber")),g.text(E("e.g.")+", +1-234-5678910"),I=new RegExp(/^[^a-zA-Z]+$/);break;case"skype":m.text(E("Call with Skype by Number or Name")),g.text(E("e.g.")+", +1-234-5678910 or echo123"),I=new RegExp(/^.+$/);break;case"telegram":m.text(E("Chat with Telegram")),g.text(E("e.g.")+", mobirisebuilder"),I=new RegExp(/^.+$/);break;case"signal":m.text(E("Chat with Signal")),g.text(E("e.g.")+", https://signal.group/#CjQ2"),I=new RegExp(/((https?:\/\/)(signal\.group\/))\S*/);break;case"discord":m.text(E("Chat with Discord")),g.text(E("e.g.")+", https://discord.gg/8MzmKjFnpJ"),I=new RegExp(/(https?:\/\/)?(www\.)?((discordapp\.com\/invite)|(discord\.gg))\/(\w+)/);break;default:m.text(E("Call Phone Number")),g.text(E("e.g.")+", +1-234-5678910")}L(p,I.test(d.val())),O(d,I.test(d.val()))});var x=!0,_=(c.on("shown.bs.tab",'a[data-toggle="tab"][href="#file"]',function(t){var l,a;x&&(x=!1,l=T('<div class="link-file"><div class="btn-group"><span class="btn btn-material-red btn-delete"><i class="mbr-icon-trash"></i></span></div><span class="file-ext"></span><span class="file-name"></span></div>'),a=T(j.preloaderHTML),c.find(".tab-pane#file .links-wrap").before(a),A.dirList(j.projectPath+"/assets/files/",function(t){for(var e=t.length,n=0;n<e;n++){var i=l.clone(),o=s.url.replace("assets/files/",""),o=(t[n]===o&&i.addClass("active"),A.splitPath(t[n])),r=o.ext.toUpperCase(),o=o.fullname;i.find(".file-ext").html(r),i.find(".file-name").html(o),c.find(".tab-pane#file .links-wrap").append(i)}L(p,c.find(".tab-pane#file .link-file.active").length),a.hide()},{filter:1,recursive:!1}),c.on("click",".btn-delete",function(e){e.stopPropagation();var n=j.projectPath+"/assets/files/"+T(e.target).closest(".link-file").find(".file-name").html();A.removeLocal(n,function(t){t?(T(e.target).closest(".link-file").remove(),L(p,c.find(".tab-pane#file .link-file.active").length)):console.log("Failed to remove file:",n)})}),c.on("click","#link-add-file-btn",function(t){t.preventDefault(),A.runFileDialog(E("Add File"),"","Documents (*.pdf *.doc *.docx *.ppt *.pptx *.xls *.xlsx *.odp *.odt)",function(s){s&&A.dirList(j.projectPath+"/assets/files/",function(t){for(var e,n=t.length,i=A.splitPath(s),o=decodeURI(i.fullname).replace(/\s/,"-").replace(/[^-0-9a-zA-Z_\.]/g,""),r=!1,a=0;a<n;a++)o===t[a]&&(r=!0);r?j.alertDlg(E("This document is already added.")):(e=i.ext.toUpperCase(),A.copyLocal(s,j.projectPath+"/assets/files/"+o,function(t){t&&((t=l.clone()).addClass("active").find(".file-name").html(o),t.find(".file-ext").html(e),c.find(".tab-pane#file .links-wrap .link-file").removeClass("active"),c.find(".tab-pane#file .links-wrap").append(t),L(p,c.find(".tab-pane#file .link-file.active").length))}))},{filter:1,recursive:!1})})}),c.on("click",".link-file",function(t){T(t.target).closest(".link-file").addClass("active").siblings().removeClass("active"),L(p,!0)})),L(p,c.find(".tab-pane#file .link-file.active").length)}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#custom"]',function(t){u.focus(),L(p,u.val())}),t.tab("show"),c.find(".dropdownjs").each(function(){var t;T(this).children().hasClass("note-mbr-pages")?T(this).children().removeAttr("readonly"):T(this).children().hasClass("note-mbr-anchors")&&(t=T(this).data("select"),T(t.data("dropdownjs-ul")).addClass("anchors-dropdownjs"))}),!!e&&e.parent().is('[data-app-edit="buttons"]')),k=!!e&&e.closest("[mbr-menu]").length;function S(t){var e=0<t.indexOf("#")?t.slice(0,t.indexOf("#")):t,n=a.find('option[value="'+j.escapeHtml(e||t)+'"]'),i=r.find('option[value="'+j.escapeHtml(t)+'"]'),n=0!==n.length?n.html():"",i=0!==i.length?i.html():"";a.val(e),T(a[1]).val(n),r.val(t),T(r[1]).val(i)}f[s.url&&!k?"show":"hide"](),o.on("input",function(){var t=T(this).val().replace(/(^\w+:|^)\/\//,"");L(p,D.test(punycode.toASCII(t))),O(T(this),D.test(punycode.toASCII(t)))}),l.on("input",function(){L(p,F.test(T(this).val())),O(T(this),F.test(T(this).val()))}),d.on("input",function(){L(p,I.test(T(this).val())),O(T(this),I.test(T(this).val()))}),u.on("input",function(){L(p,T(this).val()),O(T(this),T(this).val())}),s.url||(s.url="http://");var C,P=s.url,k=(k=a,j.Core&&(C=j.Core.getPagesList(),k.html(C)),a.on("change",function(){j.$body.find(".anchors-dropdownjs").empty();var t=c.find(".dropdownjs .note-mbr-pages").closest(".dropdownjs").data("select"),t=T(t.data("dropdownjs-ul")),e=a.find("option").filter(function(t,e){return T(e).attr("data-text")===T(a[1]).val()?(T(e).attr("selected","selected"),!0):(T(e).removeAttr("selected"),!1)});e.length?T(this).val(T(e[0]).attr("value")):(t.find('li[disabled="disabled"]').attr("selected","selected"),T(this).val("")),$(r,T(this).val()),T(a[1]).val(T(this).find('option[value="'+T(this).val()+'"]').attr("data-text")),r.val(""),c.find(".anchors-label").html(E("Block on $page title$ Page").replace("$page title$","'"+(T(a[1]).val()||a.find('option[value="'+j.Core.currentPage+'"]').html())+"'")),L(p,!0)}),S(s.url),a.find("option").filter(function(){return T(this).attr("data-text")===T(a[1]).val()}));return $(r,k.val()),a.val()!==j.Core.currentPage&&a.val()&&j.$body.find(".anchors-dropdownjs").find('li[value="#top"], li[value="#bottom"]').remove(),S(s.url),c.find(".anchors-label").html(E("Block on $page title$ Page").replace("$page title$","'"+T(a[1]).val()+"'")),a.val()||c.find(".anchors-label").html(E("Block on $current page$ Page").replace("$current page$","'"+a.find('option[value="'+j.Core.currentPage+'"]').html()+"'")),r.on("change",function(){a.val()!==j.Core.currentPage&&a.val()&&j.$body.find(".anchors-dropdownjs").find('li[value="#top"], li[value="#bottom"]').remove(),j.initTooltips(),L(p,!0)}),j.fire("showedLinkDialog",c),T.Deferred(function(o){p.click(function(){var t,e,n=c.find(".tab-pane.active"),i="";switch(n.attr("id")){case"page":P=r.val()||a.val(),t=n.find("input[type=checkbox]").is(":checked");break;case"webAddress":i=n.find(".note-mbr-url").val(),P=0===i.indexOf("http:")||0===i.indexOf("https:")?i:"http://"+i,t=n.find("input[type=checkbox]").is(":checked");break;case"email":i=n.find(".note-mbr-email").val(),P=0===i.indexOf("mailto:")?i:"mailto:"+i;break;case"phone":switch(c.find("#phone .phone-messengers [name=phoneLinkType]:checked").val()){case"tel":i=n.find(".note-mbr-phone").val(),P="tel:"+i;break;case"sms":i=n.find(".note-mbr-phone").val(),P="sms:"+i;break;case"whatsapp":i=n.find(".note-mbr-phone").val(),P=("https://wa.me/"+i).replace(/[+\-()]/g,"");break;case"viber":i=n.find(".note-mbr-phone").val(),P="viber://chat?number="+i;break;case"skype":i=n.find(".note-mbr-phone").val(),P="skype:"+i+"?call";break;case"telegram":i=n.find(".note-mbr-phone").val(),P="tg://resolve?domain="+i;break;case"signal":case"discord":i=n.find(".note-mbr-phone").val(),P=i;break;default:i=n.find(".note-mbr-phone").val(),P="tel:"+i}break;case"file":P="assets/files/"+n.find(".link-file.active .file-name").html(),t=n.find("input[type=checkbox]").is(":checked");break;case"shoppingCart":P=j.applyFilter("shoppingCartUrl"),t=n.find("input[type=checkbox]").is(":checked"),e=n.find('[value="_ampcart"]').prop("checked")||n.find('[name="in-popup"]').prop("checked");break;case"popup":P=j.applyFilter("popupUrl");break;default:P=u.val(),t=n.find("input[type=checkbox]").is(":checked")}setTimeout(function(){o.resolve({range:s.range,url:P,isNewWindow:t,ampCart:e})},1)}),f.click(function(t){!n||_?setTimeout(function(){o.resolve({url:""})},1):(n.unlink(e),o.reject())}),c.one("hidden.bs.modal",function(){r.off("change"),a.off("change"),h.off("change"),"pending"===o.state()&&o.reject()})})}var m,e,g=function(e,n){return function(t){return e(t)&&n(t)}},v=(T(window.document).on("focusout",function(t){e&&(e=!1,t.preventDefault())}),function(){e=!0}),D=new RegExp(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1,2}[a-z0-9]+)*\.(([a-z]+)([-.]{1,2}[a-z0-9]+)?){2,}(:[0-9]{1,5})?(\/.*)?$/),F=new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),I=new RegExp(/^[^a-zA-Z]+$/);j.regExtension({name:"plugin-link-editor",global:{showMbrLinkDialog:function(t,n){var e,i,o,r,a,s,l=t.editor,c=t.layoutInfo,d=t.range,u=t.list,p=t.dom;m||(c?(e=c.editor(),i=c.editable(),o=l.getLinkInfo(i),r=e.data("options"),e.is("[href]")&&(o.url=e.attr("href")),e.is("[on]")&&-1!==e.attr("on").search("cart")&&-1===e.attr("on").search("shopItem")?(o.ampCart=!0,c=e.attr("on").match(/{.+{(.+)}.+}/),a="",c=c[1].split(/\s?,\s?/),T(c).each(function(t,e){-1!==(e=e.split(/\s?:\s?/))[1].search(/^\s*"([^"]*)"\s*$/)&&(e[1]=e[1].replace(/^\s*"([^"]*)"\s*$/,"$1")),"id"!==e[0]&&(e=e[0]+"="+e[1],a+="&"+e)}),o.url="https://www.paypal.com/cgi-bin/webscr?cmd=_ampcart"+a):e.find("[on*=cart]").length?(o.ampCart=!0,c=e.find("[on*=cart]").attr("on").match(/{.+{(.+)}.+}/),s="",c=c[1].split(/\s?,\s?/),T(c).each(function(t,e){-1!==(e=e.split(/\s?:\s?/))[1].search(/^\s*"([^"]*)"\s*$/)&&(e[1]=e[1].replace(/^\s*"([^"]*)"\s*$/,"$1")),"id"!==e[0]&&(e=e[0]+"="+e[1],s+="&"+e)}),o.url="https://www.paypal.com/cgi-bin/webscr?cmd=_ampcart"+s):(e.find('[href*="data:application,json"]').length||e.is('[href*="data:application,json"]')||e.find('[on*="shopItem"]').length||e.is('[on*="shopItem"]'))&&(o.ampCart=!0,c="data:application/json,"+encodeURIComponent(e.attr("on").match(/{.+?({.+?})/)[1]),o.url=c),i.focus(),l.saveRange(i)):o={url:t.url,isNewWindow:t.isNewWindow},v(),m=!0,j.showDialog({title:E("Link to"),className:"note-mbr-link-dialog",body:'<div class="row form-group link-tabs">\n                            <div class="col-md-12">\n                                <ul class="nav nav-tabs">\n                                    <li class="active">\n                                        <a href="#page" data-toggle="tab">'+E("Page")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#webAddress" data-toggle="tab">'+E("Web Address")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#email" data-toggle="tab">'+E("Email")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#phone" data-toggle="tab">'+E("Phone/chat")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#file" data-toggle="tab">'+E("File")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#custom" data-toggle="tab">...</a>\n                                    </li>\n                                </ul>\n                                <div class="tab-content">\n                                    <div class="tab-pane active" id="page">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label>'+E("Site Pages")+'</label>\n                                                <select class="note-mbr-pages form-control"><option disabled="disabled">Nothing Selected</option></select>\n                                            </div>\n                                            <div class="col-sm-6">\n                                                <label class="anchors-label">'+E("Block on Page")+'</label>\n                                                <select class="note-mbr-anchors form-control"><option disabled="disabled">Nothing Selected</option></select>\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(o.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+E("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="webAddress">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+E("e.g.")+', https://mobirise.com</label>\n                                                <input class="note-mbr-url form-control" type="text" />\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(o.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+E("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="email">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+E("e.g.")+', support@mobirise.com</label>\n                                                <input class="note-mbr-email form-control" type="text" />\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="phone">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal phone-link-label">Call Phone Number</label>\n                                                <label class="font-weight-normal phone-link-example">'+E("e.g.")+', +1-234-5678910</label>\n                                                <input class="note-mbr-phone form-control" type="text" />\n                                            </div>\n                                            <div class="col-sm-6 phone-messengers">\n                                                <div class="row">\n                                                    <div class="col-sm-6">\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="tel" checked>\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Phone\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="whatsapp">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                WhatsApp\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="telegram">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Telegram\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                        <label>\n                                                            <input type="radio" name="phoneLinkType" value="signal">\n                                                            <span class="circle"></span>\n                                                            <span class="check"></span>\n                                                            Signal\n                                                        </label>\n                                                        </div>\n                                                    </div>\n                                                    <div class="col-sm-6">\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="sms">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                SMS\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="viber">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Viber\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="skype">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Skype\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                        <label>\n                                                            <input type="radio" name="phoneLinkType" value="discord">\n                                                            <span class="circle"></span>\n                                                            <span class="check"></span>\n                                                            Discord\n                                                        </label>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane file-library" id="file">\n                                        <button class="btn btn-primary" id="link-add-file-btn">'+E("Browse Computer")+'</button>\n                                        <span class="formats">'+E("Choose pdf, doc, docx, ppt, pptx, xls, xlsx, odp or odt file")+'</span>\n                                        <div class="form-group links-wrap"></div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(o.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+E("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="custom">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+E("Custom URL")+", "+E("e.g.")+', /dir123/page123.php</label>\n                                                <input class="form-control note-mbr-custom-url" type="text" />\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(o.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+E("Open in new window")+"\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>",buttons:{insert:{label:E("Insert Link"),className:"note-mbr-link-btn",default:!0},delete:{label:E("Remove Link"),className:"note-mbr-delete-link-btn"}},show:function(t){h(i,t,o,l).then(function(t){var e;i?(i.trigger("blur"),f(i,t,r,d,u,p),e=i.closest("[data-app-component-id]").attr("data-app-component-id"),j.fire("successTextLinkDialog",t,e)):n&&n(t)}).fail(function(){i&&i.trigger("blur")})},hide:function(){m=!1}}))}},events:{loadedProject:function(){j.addFilter("uploadFilesStart",function(t,e){var r=T.Deferred();return t.then(function(i,o){A.dirList(j.projectPath+"/assets/files/",function(t){for(var e=(t=t.filter(function(t){return["pdf","doc","docx","ppt","pptx","xls","xlsx","odp","odt"].includes(t.split(".").pop())})).length,n=0;n<e;n++)i.push({dest:"assets/files/"+t[n],srcList:[{src:j.projectPath+"/assets/files/"+t[n]}]});r.resolve(i,o)},{filter:1,recursive:!1})}),r})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("advertising",function(t,e,i){var o="firstrun",r=void 0;e.regExtension({name:"advertising",global:{getUserID:function(){var t=e.getUserInfo();return t=t&&t.email||"",btoa(function(t,e){for(var n="",i=0;i<t.length;i++)n+=String.fromCharCode(t.charCodeAt(i)^e);return n}(t,14)).replace(/[=]+$/,"")}},events:{bridgeInit:function(){i.getSettings(o,function(t){(r=t)||i.getSettings("account",function(t){r=t?"no":"yes",i.setSettings(o,r)})});var n=this;e.addFilter("openUrl",function(t){var e=i.parseUrl(t);return e&&e.domain&&e.domain.endsWith("mobirise.com")&&(e.query=(e.query?e.query+"&":"")+"mbrui="+n.getUserID(),t=i.joinUrl(e)),t})},signedin:function(){"yes"==r&&(r="no",i.setSettings(o,r),i.openUrl(e.applyFilter("openUrl","https://mobirise.com/register.html")))}}})},["jQuery","mbrApp","Bridge"])},function(t,e,n){"use strict";var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=n(23);defineM("app-amp",function(k,S){S.regExtension({name:"app-amp",global:{registeredAmpPlugins:[],registerAmpPlugin:function(t){function e(t){t&&-1===S.registeredAmpPlugins.indexOf(t)&&S.registeredAmpPlugins.push(t)}Array.isArray(t)&&0!==t.length?t.forEach(function(t){e(t)}):e(t)},isAMP:function(){var e;try{e=!!S.theme.params.theme.isAMP}catch(t){e=!1,console.error("APP.isAmp: failed to determine theme type.")}return e}},events:{coreLoad:function(){if(S.theme.params.theme.isAMP){for(var t in console.log("AMP theme loaded"),S.Core.$body.find("#scrollToTop").remove(),S.addFilter("previewTemplating",function(t){var e,n,i;return t&&(e=k(t)).find("section.menu").length&&(n=e.find("amp-sidebar"),0!=(i=e.find(".navbar-collapse")).length)&&(n.find(".builder-sidebar").append(i.html()),e.find("section.horizontal-menu .navbar-toggler").remove(),e.find("section.horizontal-menu a.dropdown-toggle").removeAttr("href")),t}),S.addFilter("publishTemplating",function(t,e){var n,i,o,r,a,s,l,c;return-1!==e.indexOf(".html")&&(e=t.match(/<body>[^]*(.*)<\/body>/),(e=k('<div class="sandbox">').html(e)).find("section.menu").length&&(i=(n=e.find("amp-sidebar")).attr("side"),o=n.attr("id"),r=n.closest("section").attr("class").match(/cid-\w+/)||"",a=n.attr("layout"),0!=(c=e.find(".navbar-collapse")).length&&(n.find(".builder-sidebar").append(c.html()),e.find("section.horizontal-menu .navbar-toggler").remove(),e.find("section.horizontal-menu a.dropdown-toggle").removeAttr("href")),e.prepend('<amp-sidebar id="'+o+'"                                             class="'+(r?r[0]:"")+'"                                            layout="'+a+'" side="'+i+'">'+n.html()+"</amp-sidebar>"),n.remove()),e.find("section.map").length&&e.find("section.map").each(function(){var t=k(this).find(".google-map"),e=k(this).find("iframe"),n=e.attr("src"),i=k(this).find(".map-placeholder"),n='<amp-iframe src="'+n+'" height="400"                                 layout="fill" sandbox="allow-scripts allow-same-origin                                 allow-popups" frameborder="0" class="placeholder-loader">'+i.html()+"</amp-iframe>";t.prepend(n),e.remove(),i.remove()}),e.find("section.slider").length&&e.find("section.slider").each(function(){var t,e;k(this).find(".super-hide").each(function(){k(this).remove()}),"slides"==k(this).find("amp-carousel").attr("type")&&(t=k(this).find(".slider-box").attr("data-autoplay"),e=k(this).find(".slider-box").attr("data-delay"),t)&&(k(this).find("amp-carousel")[0].setAttribute("autoplay",""),k(this).find("amp-carousel").attr("delay",e))}),e.find(".amp-accordion").length&&e.find(".amp-accordion").each(function(){for(var t=k(this).find(".accordion-item:not(.super-hide)"),e=0;e<t.length;e++){for(var n="tap:",i=0;i<t.length;i++)n=n+k(t[i]).find(".accordion-item-body").attr("id")+(e==i?".toggleVisibility,":".hide,"),k(t[i]).find(".accordion-title .fa-plus").length&&(n=(n=n+k(t[i]).find(".fa-plus").attr("id")+(e==i?".toggleVisibility,":".show,"))+k(t[i]).find(".fa-minus").attr("id")+(e==i?".show,":".hide,"));n=n.substring(0,n.length-1),k(t[e]).find(".accordion-title").attr("on",n)}}),e.find(".builder-overlay").length&&e.find(".builder-overlay").each(function(){k(this).removeClass("builder-overlay")}),e.find("form.mbr-form").length&&e.find("form.mbr-form").each(function(){var t=k(this).find('*[name^="form[data]"]'),e=0;k(this).find("div[submit-error] > template").html("Failed! {{error}}");for(var n,i,o=0;o<t.length;o++)"hidden"!=k(t[o]).attr("type")&&(n="form[data]["+e+"][0]",i="form[data]["+e+"][1]",k(t[o-1]).attr("name",n),k(t[o]).attr("name",i),e++),"hidden"==k(t[o]).attr("type")&&"hidden"==k(t[o-1]).attr("type")&&k(t[o-1]).remove(),o+1==t.length&&"hidden"==k(t[o]).attr("type")&&k(t[o]).remove()}),e.find("section.slider-with-bullets").length&&e.find("section.slider-with-bullets").each(function(){var o="carousel"+k(this).attr("id").replace(/[-]/g,""),r="selected"+k(this).attr("id").replace(/[-]/g,""),t="slideChange:AMP.setState({"+r+": {slide :event.index}})",a=0;k(this).prepend('<amp-state id= "'+r+'"><script type="application/json">{"slide": 0}<\/script></amp-state>'),k(this).find("amp-carousel").attr({on:t,id:o}),k(this).find(".dots-wrapper .dots").each(function(){var t="tap:"+o+".goToSlide(index="+a+")",e=r+".slide == '"+a+"' ? 'current' : ''",n=k(this).find("span"),i=n.text(),t='<span role="button" tabindex="'+a+'" on="'+t+'" [class]="'+e+'"';0==a&&(t+=' class="current"'),t+=">"+i+"</span>",k(this).prepend(t),n.remove(),a++})}),e.find("section.carousel-with-preview").length&&(s=0,e.find("section.carousel-with-preview").find("amp-carousel").each(function(){var t=[],e=0;k(this).attr("id","carousel-with-preview"+s),l=k(this).attr("id"),k(this).find(".carousel-img").each(function(){t.push(k(this).attr("src"))}),k(this).parent().parent().find(".preview .btn-img").each(function(){k(this).attr("on","tap:"+l+".goToSlide(index="+e+")"),e++}),k(this).parent().parent().find(".preview .preview-img").each(function(){k(this).attr("src",t.shift()),e++}),s++})),e.find("section.video-with-button-image").length&&e.find("section.video-with-button-image").each(function(){var t="img"+k(this).attr("id").replace(/[-]/g,""),e="video"+k(this).attr("id").replace(/[-]/g,"");k(this).find(".img-block").attr("id",t),k(this).find(".video-block").attr("id",e),k(this).find(".video-wrap .iconbox").attr("on","tap:"+t+".hide,"+e+".show")}),e.find("section.video-with-lightbox").length&&e.find("section.video-with-lightbox").each(function(){var t="my-lightbox"+k(this).attr("id").replace(/[-]/g,"");k(this).find("amp-lightbox").attr("id",t),k(this).find(".iconbox").length&&k(this).find(".iconbox").attr("on","tap:"+t),k(this).find("amp-lightbox .lightbox").attr("on","tap:"+t+".close")}),c="<body>"+k(e).html()+"</body>",t=t.replace(/<body>[^]*(.*)<\/body>/,c)),t}),S.Core.on("changeComponentParams",function(t,e,n){var i,o,r=S.Core.getComponent(t),a=S.$template.find("[data-app-component-id="+t+"] > .app-component-content");if("videoUrl"===e){var s=n;if((a.find("amp-youtube").length||a.find("amp-vimeo").length)&&(-1!==s.indexOf("youtu")||-1!==s.indexOf("vimeo"))){var l,c=a.find("amp-youtube").length?a.find("amp-youtube"):a.find("amp-vimeo"),d=a.find(".video-block"),u="",p=c.attr("layout"),f=c.attr("class"),h=k(c).attr("autoplay");if(-1!==s.indexOf("youtu"))""!=(l=(l=-1!==(l=-1!==s.indexOf("v=")?s.split("v=")[1]:"").indexOf("&")?l.split("&")[0]:l).split("&")[0])&&(u='<amp-youtube width="16" height="9" layout="'+p+'" data-videoid="'+l+'"',"undefined"!==(void 0===h?"undefined":C(h))&&!1!==h&&(u+=" autoplay",console.log("onLoadYoutubeAutoplay")),"undefined"!==(void 0===f?"undefined":C(f))&&!1!==f&&(u+=' class="'+f+'"'),u+="></amp-youtube>");else if(-1!==s.indexOf("vimeo")){try{l=s.match(/(videos|video|channels|\.com)\/([\d]+)/)[2]}catch(t){l=""}""!=l&&(u='<amp-vimeo width="16" height="9" layout="'+p+'" data-videoid="'+l+'"',"undefined"!==(void 0===h?"undefined":C(h))&&!1!==h&&(u+=" autoplay",console.log("onLoadVimeoAutoplay")),"undefined"!==(void 0===f?"undefined":C(f))&&!1!==f&&(u+=' class="'+f+'"'),u+="></amp-vimeo>")}d.prepend(u),c.remove()}}if("date"!==e&&"time"!==e&&"lang"!==e&&"zone"!==e||(s=a.find(".amp-countdown-wrap"),a.find(".amp-countdown").length&&(h=(l=(p=a.find(".amp-countdown")).clone()).attr("end-date"),"date"===e?(h=n+"T"+h.split("T")[1],l=l.attr("end-date",h)):"time"===e&&(h=h.split(".0")[0].split("T")[0]+"T"+n+".0"+h.split(".0")[1],l=l.attr("end-date",h)),"lang"===e&&(l=l.attr("locale",n)),"zone"===e&&(h=h.split(".0")[0]+".0"+n,l=l.attr("end-date",h)),s.prepend(l),p.remove())),"trackId"!==e&&"playlistId"!==e&&"scHeight"!==e&&"scColor"!==e&&"audioLink"!==e||(f=a.find(".sound-block"),"trackId"!==e&&"playlistId"!==e||a.find("amp-soundcloud").length&&(d=n,g=(i=a.find("amp-soundcloud")).clone(),"trackId"===e?g.attr("data-trackid",d):"playlistId"===e&&g.attr("data-playlistid",d),f.prepend(g),i.remove()),"scHeight"===e&&a.find("amp-soundcloud").length&&(o=(i=a.find("amp-soundcloud")).attr("height"),i.css("height",o+"px")),"scColor"===e&&a.find("amp-soundcloud").length&&(g=(i=a.find("amp-soundcloud")).clone(),u=-1!==n.indexOf("#")?n.split("#")[1]:"",g.attr("data-color",u),f.prepend(g),i.remove()),"audioLink"===e&&a.find("amp-audio").length&&(c=n,(s=(h=a.find("amp-audio")).clone()).attr("src",c),f.prepend(s),h.remove())),"fbLink"===e&&(l=a.find(".facebook-wrap"),p="",a.find("amp-facebook").length?p="amp-facebook":a.find("amp-facebook-page").length?p="amp-facebook-page":a.find("amp-facebook-like").length&&(p="amp-facebook-like"),(u=(d=a.find(p)).clone().empty()).attr("data-href",n),l.prepend(u),d.remove()),"carouselHeight"===e&&(i=(g=a.find("amp-carousel")).find("amp-fit-text"),o=g.attr("height"),g.css("height",o+"px"),i.css("height",o+"px")),"animatedText"===e&&a.find(".animated-text").length&&(c=a.find(".animated-text"),f=r._params.animatedText,c.text(f)),"linkPostFacebook"!==e&&"numpostsFacebook"!==e||(s=a.find(".mbr-facebook-comments"),h=a.find("amp-facebook-comments"),p=r._params.numpostsFacebook,l=r._params.linkPostFacebook,u='<amp-facebook-comments height="9"                                                         layout="fixed-height" class="container"                                                        data-numposts="'+(p="numpostsFacebook"===e?n:p)+'"                                                         data-href="'+(l="linkPostFacebook"===e?n:l)+'">',s.append(u),h.remove()),"dateFormat"!==e&&"datepickerLocale"!==e&&"minDate"!==e&&"maxDate"!==e||a.find(".date-picker-wrap").length&&("dateFormat"===e?k(a).find("amp-date-picker").attr("format",n):"datepickerLocale"===e?k(a).find("amp-date-picker").attr("locale",n):"minDate"===e?k(a).find("amp-date-picker").attr("min",n):"maxDate"===e&&k(a).find("amp-date-picker").attr("max",n)),"containersCount"!==e&&"firstCount"!==e&&"secondCount"!==e&&"thirdCount"!==e&&"fourthCount"!==e||a.find("section.gallery").length&&((m=k("<div>")).html(r._customHTML),x=S.Core.$template.find("[data-app-component-id="+t+"] .app-component-content"),_=S.Core.getSecondaryComponent(r),r._customHTML=m.html(),S.isSecondaryComponent(r))&&!_.isActualTemplate()&&(w=_.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(x).bind(w,r),x.html(w),S.Core.fire("loadedComponent",r,S.Core.currentPage,S.Core.$template,!1)),"imagesAmount"===e&&a.find(".slider").length){(m=k("<div>")).html(r._customHTML);for(var m,d=m.find(".slider-box"),g=m.find("amp-carousel"),v=k(g).clone().empty(),b=m.find("amp-carousel > *"),y=n;b.length<y;)b.push(k(b[b.length-1]).clone().get(0));for(;b.length>y;)b.splice(-1,1);b.each(function(){v.append(k(this).clone())}),k(g).remove(),k(d).prepend(v),m.find(".dots span").length&&(m.find(".dots span").each(function(){k(this).removeClass("current")}),m.find(".dots span").eq(0).addClass("current"));var w,x=S.Core.$template.find("[data-app-component-id="+t+"] .app-component-content"),_=S.Core.getSecondaryComponent(r);r._customHTML=m.html(),S.isSecondaryComponent(r)&&!_.isActualTemplate()&&(w=_.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(x).bind(w,r),x.html(w),S.Core.fire("loadedComponent",r,S.Core.currentPage,S.Core.$template,!1))}}),S.Core.on("loadedComponent",function(t,e,n,i){var o,r,a,s,l=k(n).find("[data-app-component-id="+t._id+"]"),c=S.Core.$template.find("[data-app-component-id="+t._id+"] .app-component-content");if(i?(l.find("*[once]").each(function(){k(this).removeAttr("once")}),n.find("amp-sidebar").length&&c.length&&-1!==t._plugins.indexOf("amp-sidebar")&&(k(c.find("section").attr("class").split(" ")).each(function(t){0===this.indexOf("cid-")&&(a=this)}),n.find("amp-sidebar").addClass(a)),k(n).find("img.mbr-temp").each(function(t,e){var n=k(this).attr("src");k(this).closest("amp-img").attr("src",S.addImage2PublishList(n)),k(this).remove()}),k(n).find("form").each(function(){k(this).removeAttr("action").removeAttr("novalidate").attr("action-xhr","https://f.8b.com/api/sites/"+S.projectSettings.id+"/forms/data/")}),k(n).find("amp-img[lightbox]").each(function(){var t=k(this).closest("section").attr("id");k(this).attr("lightbox",t)})):(l.find("i-amphtml-sizer").each(function(){k(this).addClass("temp-amp-sizer"),"AMP-CAROUSEL"===this.parentNode.tagName&&k(this).css("position","static")}),o=c.find("amp-sidebar"),r=c.find("section"),o.length&&(c.find('button[on="tap:sidebar.toggle"]').on("click",function(){r.toggleClass("sidebar-open"),o.toggleClass("open"),o.css({display:"block",transform:"translateX(0%)!important"})}),c.find('button[on="tap:sidebar.close"]').on("click",function(){r.toggleClass("sidebar-open"),o.toggleClass("open"),o.css({display:"none",transform:"translateX(100%)!important"})})),c.find("img.mbr-temp").each(function(t,e){var n=k(this).attr("src"),h=k(this).parents("amp-carousel"),m=h.height?h.attr("height"):null,i=k(this).attr("alt");k(this).closest("amp-img").attr("src",n),k(this).closest("amp-img").attr("alt",i),k(this).on("load",function(t){var e,n,i,o,r,a,s=k('<div id="amp-sandbox">'),l=S.Core.getComponent(k(this).closest(".app-component").attr("data-app-component-id")),c=S.Core.$template.find("[data-app-component-id="+l._id+"] .app-component-content"),d=k(this).height(),u=this.naturalWidth/this.naturalHeight*d,p=k(this).attr("src"),f=k(this).attr("alt");l&&(s.html(l._customHTML),h&&m&&(u=this.naturalWidth/this.naturalHeight*(d=m)),e=c.find("amp-img"),c.find("amp-carousel"),n=k(this).closest("amp-img"),r=s.find("img.mbr-temp")[e.index(n)],i=S.Core.getSecondaryComponent(l),o=k(e[e.index(n)]).parents("amp-carousel"),u)&&d&&p&&(k(r).attr("src",p).closest("amp-img").attr("width",u).attr("height",d).attr("src",p).attr("alt",f||""),l._customHTML=s.html(),0===k(this).closest("amp-img").parents(".lightbox").length&&S.isSecondaryComponent(l)&&!i.isActualTemplate()&&(r=i.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(c).bind(r,l),c.html(r),c.find(".preview .preview-img").length&&c.find("section.carousel-with-preview").length&&o.length&&p!=k(e[e.index(n)]).attr("src")&&(a=0,k.each(h,function(){for(var t=0;e[e.index(n)]!==k(this).find("amp-img")[t]&&k(this).find("amp-img")[t];)t++;if(k(this).find("amp-img")[t]&&c.find(".preview .preview-img")[a+t])return k(c.find(".preview .preview-img img")[a+t]).attr("src",p),!1;a+=k(this).find("amp-img").length})),S.Core.fire("loadedComponent",l,S.Core.currentPage,S.Core.$template,!1)),k("#amp-sandbox").remove())}),k(this).addClass("nodisplay")})),l.find("amp-youtube").length||l.find("amp-vimeo").length){var i=t._params.videoUrl;if(!i||-1==i.indexOf("youtu")&&-1==i.indexOf("vimeo"))return void(l.find("amp-vimeo").length?t._params.videoUrl="https://vimeo.com/"+l.find("amp-vimeo").attr("data-videoid"):t._params.videoUrl="https://www.youtube.com/watch?v="+l.find("amp-youtube").attr("data-videoid"));var d,n=l.find("amp-youtube").length?l.find("amp-youtube"):l.find("amp-vimeo"),u=l.find(".video-block"),p="",f=n.attr("layout"),h=n.attr("class"),m=k(n).attr("autoplay");if(-1!==i.indexOf("youtu"))""!=(d=(d=-1!==(d=-1!==i.indexOf("v=")?i.split("v=")[1]:"").indexOf("&")?d.split("&")[0]:d).split("&")[0])&&(p='<amp-youtube width="16" height="9" layout="'+f+'" data-videoid="'+d+'"',"undefined"!==(void 0===m?"undefined":C(m))&&!1!==m&&(p+=" autoplay",console.log("onLoadYoutubeAutoplay")),"undefined"!==(void 0===h?"undefined":C(h))&&!1!==h&&(p+=' class="'+h+'"'),p+="></amp-youtube>");else if(-1!==i.indexOf("vimeo")){try{d=i.match(/(videos|video|channels|\.com)\/([\d]+)/)[2]}catch(t){d=""}""!=d&&(p='<amp-vimeo width="16" height="9" layout="'+f+'" data-videoid="'+d+'"',"undefined"!==(void 0===m?"undefined":C(m))&&!1!==m&&(p+=" autoplay",console.log("onLoadVimeoAutoplay")),"undefined"!==(void 0===h?"undefined":C(h))&&!1!==h&&(p+=' class="'+h+'"'),p+="></amp-vimeo>")}u.prepend(p),n.remove()}if(l.find(".animated-text").length&&(i=l.find(".animated-text"),f=t._params.animatedText,i.text(f)),l.find(".amp-accordion").length){l.find(".accordion-item").each(function(){var t=k(this);k(this).find(".accordion-title").on("click",function(){l.find(".accordion-item-body").each(function(){k(this).attr("hidden",!0)}),t.find(".accordion-item-body").removeAttr("hidden"),l.find(".accordion-title .fa-plus").length&&(l.find(".fa-plus").each(function(){k(this).removeAttr("hidden")}),t.find(".fa-minus").removeAttr("hidden"),t.find(".fa-plus").attr("hidden",!0))})});for(var g=l.find(".accordion-item"),v=0;v<g.length;v++)k(g[v]).find(".accordion-item-body").attr("id","amp-accordion-item"+(v+1)+t._id),l.find(".accordion-title .fa-plus").length&&(k(g[v]).find(".fa-minus").attr("id","fa-minus"+(v+1)+t._id),k(g[v]).find(".fa-plus").attr("id","fa-plus"+(v+1)+t._id))}if(l.find(".img-with-overlay").length&&l.find(".img-with-overlay").each(function(){k(this).addClass("builder-overlay")}),l.find("amp-date-picker").length&&(m=(d=l.find("amp-date-picker")).find("input"),h="input-date"+t._id,d.attr("input-selector","."+h),m.removeClass("input-date").addClass(h)),l.find("amp-soundcloud").length&&l.find("amp-soundcloud").each(function(){var t;-1!==k(this).attr("data-color").indexOf("#")&&(t=k(this).attr("data-color").indexOf("#"),t=k(this).attr("data-color").substring(t+1),k(this).attr("data-color",t))}),l.find("div.placeholder").length&&l.find("div.placeholder").each(function(){var t=!1;k(this).parents().each(function(){"none"==k(this).css("display")&&(t=!0)}),k(this).parents().is(".is-builder")&&t&&k(this).css("display","none")}),c.find("section.slider-with-bullets").length){for(var u=k("<div>"),p=(u.html(t._customHTML),u.find(".slider-box")),n=u.find("amp-carousel"),b=k(n).clone().empty(),y=u.find("amp-carousel > *"),w=t._params.imagesAmount;y.length<w;)y.push(k(y[y.length-1]).clone().get(0));for(;y.length>w;)y.splice(-1,1);y.each(function(){b.append(k(this).clone())}),k(n).remove(),k(p).prepend(b),u.find(".dots span").each(function(){k(this).removeClass("current")}),u.find(".dots span").eq(0).addClass("current");for(var i=S.Core.getSecondaryComponent(t),x=(t._customHTML=u.html(),S.isSecondaryComponent(t)&&!i.isActualTemplate()&&(f=i.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(c).bind(f,t),c.html(f),S.Core.fire("loadedComponent",t,S.Core.currentPage,S.Core.$template,!1)),l.find(".dots-wrapper span")),v=0;v<x.length;v++)k(x[v]).on("click",function(t){var e=l.find("amp-carousel .i-amphtml-slides-container > div"),t=(e.each(function(){k(this).addClass("hidden-slide").removeClass("visible-slide")}),x.index(t.target));k(e[t]).addClass("visible-slide").removeClass("hidden-slide"),x.each(function(){k(this).removeClass("current")}),k(this).addClass("current")})}c.find("section.carousel-with-preview").length&&(s=0,k.each(c.find("amp-carousel"),function(){for(var t=0;t<k(this).find("amp-img").length;t++,s++)k(k(this).find("amp-img")[t]).attr("src")!==k(c.find(".preview .preview-img img")[s]).attr("src")&&k(c.find(".preview .preview-img img")[s]).attr("src",k(k(this).find("amp-img")[t]).attr("src"))}))}),S.iconFonts)(S.iconFonts[t].root||S.iconFonts[t].addon_root)&&delete S.iconFonts[t];S.registerPlugin({name:"fontawesome",condition:!1,priority:900,iconfont:{family:"FontAwesome",title:"FontAwesome",prefix:"fa-",class:"fa",names:["glass","music","search","envelope-o","heart","star","star-o","user","film","th-large","th","th-list","check","remove","search-plus","search-minus","power-off","signal","gear","trash-o","home","file-o","clock-o","road","download","arrow-circle-o-down","arrow-circle-o-up","inbox","play-circle-o","rotate-right","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","dedent","indent","video-camera","photo","pencil","map-marker","adjust","tint","edit","share-square-o","check-square-o","arrows","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-circle","minus-circle","times-circle","check-circle","question-circle","info-circle","crosshairs","times-circle-o","check-circle-o","ban","arrow-left","arrow-right","arrow-up","arrow-down","mail-forward","expand","compress","plus","minus","asterisk","exclamation-circle","gift","leaf","fire","eye","eye-slash","warning","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder","folder-open","arrows-v","arrows-h","bar-chart-o","twitter-square","facebook-square","camera-retro","key","gears","comments","thumbs-o-up","thumbs-o-down","star-half","heart-o","sign-out","linkedin-square","thumb-tack","external-link","sign-in","trophy","github-square","upload","lemon-o","phone","square-o","bookmark-o","phone-square","twitter","facebook-f","github","unlock","credit-card","feed","hdd-o","bullhorn","bell","certificate","hand-o-right","hand-o-left","hand-o-up","hand-o-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","globe","wrench","tasks","filter","briefcase","arrows-alt","group","chain","cloud","flask","cut","copy","paperclip","save","square","navicon","list-ul","list-ol","strikethrough","underline","table","magic","truck","pinterest","pinterest-square","google-plus-square","google-plus","money","caret-down","caret-up","caret-left","caret-right","columns","unsorted","sort-down","sort-up","envelope","linkedin","rotate-left","legal","dashboard","comment-o","comments-o","flash","sitemap","umbrella","paste","lightbulb-o","exchange","cloud-download","cloud-upload","user-md","stethoscope","suitcase","bell-o","coffee","cutlery","file-text-o","building-o","hospital-o","ambulance","medkit","fighter-jet","beer","h-square","plus-square","angle-double-left","angle-double-right","angle-double-up","angle-double-down","angle-left","angle-right","angle-up","angle-down","desktop","laptop","tablet","mobile-phone","circle-o","quote-left","quote-right","spinner","circle","mail-reply","github-alt","folder-o","folder-open-o","smile-o","frown-o","meh-o","gamepad","keyboard-o","flag-o","flag-checkered","terminal","code","mail-reply-all","star-half-empty","location-arrow","crop","code-fork","unlink","question","info","exclamation","superscript","subscript","eraser","puzzle-piece","microphone","microphone-slash","shield","calendar-o","fire-extinguisher","rocket","maxcdn","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","html5","css3","anchor","unlock-alt","bullseye","ellipsis-h","ellipsis-v","rss-square","play-circle","ticket","minus-square","minus-square-o","level-up","level-down","check-square","pencil-square","external-link-square","share-square","compass","toggle-down","toggle-up","toggle-right","euro","gbp","dollar","rupee","cny","ruble","won","bitcoin","file","file-text","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-numeric-asc","sort-numeric-desc","thumbs-up","thumbs-down","youtube-square","youtube","xing","xing-square","youtube-play","dropbox","stack-overflow","instagram","flickr","adn","bitbucket","bitbucket-square","tumblr","tumblr-square","long-arrow-down","long-arrow-up","long-arrow-left","long-arrow-right","apple","windows","android","linux","dribbble","skype","foursquare","trello","female","male","gittip","sun-o","moon-o","archive","bug","vk","weibo","renren","pagelines","stack-exchange","arrow-circle-o-right","arrow-circle-o-left","toggle-left","dot-circle-o","wheelchair","vimeo-square","turkish-lira","plus-square-o","space-shuttle","slack","envelope-square","wordpress","openid","institution","mortar-board","yahoo","google","reddit","reddit-square","stumbleupon-circle","stumbleupon","delicious","digg","pied-piper-pp","pied-piper-alt","drupal","joomla","language","fax","building","child","paw","spoon","cube","cubes","behance","behance-square","steam","steam-square","recycle","automobile","cab","tree","spotify","deviantart","soundcloud","database","file-pdf-o","file-word-o","file-excel-o","file-powerpoint-o","file-photo-o","file-zip-o","file-sound-o","file-movie-o","file-code-o","vine","codepen","jsfiddle","life-bouy","circle-o-notch","ra","ge","git-square","git","y-combinator-square","tencent-weibo","qq","wechat","send","send-o","history","circle-thin","header","paragraph","sliders","share-alt","share-alt-square","bomb","soccer-ball-o","tty","binoculars","plug","slideshare","twitch","yelp","newspaper-o","wifi","calculator","paypal","google-wallet","cc-visa","cc-mastercard","cc-discover","cc-amex","cc-paypal","cc-stripe","bell-slash","bell-slash-o","trash","copyright","at","eyedropper","paint-brush","birthday-cake","area-chart","pie-chart","line-chart","lastfm","lastfm-square","toggle-off","toggle-on","bicycle","bus","ioxhost","angellist","cc","shekel","meanpath","buysellads","connectdevelop","dashcube","forumbee","leanpub","sellsy","shirtsinbulk","simplybuilt","skyatlas","cart-plus","cart-arrow-down","diamond","ship","user-secret","motorcycle","street-view","heartbeat","venus","mars","mercury","intersex","transgender-alt","venus-double","mars-double","venus-mars","mars-stroke","mars-stroke-v","mars-stroke-h","neuter","genderless","facebook-official","pinterest-p","whatsapp","server","user-plus","user-times","hotel","viacoin","train","subway","medium","pied-piper"]},files:["web/assets/fontawesome/css/font-awesome.css","web/assets/fontawesome/fonts/fontawesome-webfont.eot","web/assets/fontawesome/fonts/fontawesome-webfont.svg","web/assets/fontawesome/fonts/fontawesome-webfont.ttf","web/assets/fontawesome/fonts/fontawesome-webfont.woff"]}),S.on("runIconFontDialog",function(t){t.addClass("amp-icons-dialog")}),S.addFilter("allUsedPluginsForPage",function(t,e){return S.getPlugin("amp-bind")&&-1==t.indexOf("amp-bind")&&S.Core.resultJSON[e].components.some(function(t){return/<form.+?class=".*?mbr-form/.test(t._customHTML)})&&t.push("amp-bind"),S.getThemeSettings("isScrollToTopButton")||(!S.Core.resultJSON[e].components.some(function(t){return/<amp-animation/.test(t._customHTML)})&&t.includes("amp-animation")&&t.splice(t.indexOf("amp-animation"),1),!S.Core.resultJSON[e].components.some(function(t){return/<amp-position-observer/.test(t._customHTML)})&&t.includes("amp-position-observer")&&t.splice(t.indexOf("amp-position-observer"),1)),t}),S.addFilter("getPluginResource",function(t,e,n,i,o){return 0===e.indexOf("amp-")&&"js"===n&&o&&(t.js_head="<script async "+("amp-main"===e?"":"amp-mustache"===e?'custom-template="'+e+'"':'custom-element="'+e+'"')+' src="'+i+'"><\/script>\n  '),"amp-animation"!==e&&"amp-date-countdown"!==e||(!S.Core.$body.find("amp-animation").length&&"amp-animation"===e||!S.Core.$body.find("amp-date-countdown").length&&"amp-date-countdown"===e)&&(t.js_head=""),t}),S.addFilter("filterUserBlocks",function(t){return t.filter(function(t){return t.isAMP})}),S.addFilter("prepareAmpStyles",function(r,t){function e(t){return t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!")}var i=this,n=k.Deferred(),o=mbrApp.getPluginsFilesForPublish(),a=function(t){if(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return Object.keys(e)}return[]},s=r.match(/<[^>]*>/g),l=(s&&s.length&&(s=s.filter(function(t){return-1===t.indexOf("app.8b.io")&&(-1!==t.indexOf("https")||-1!==t.indexOf("http"))}),r=s.join("")+"\n"),r=(r=(r+='<link rel="canonical" href="'+(S.projectSettings.publicUrl+("index.html"===t?"":t))+'">\n ')+"<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>\n"+"<noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n").replace(/!important/g,""),[]),c="";return o.forEach(function(e){var n=k.Deferred();e.dest&&-1!==e.dest.indexOf("theme/css/style.css")?d.Bridge.loadLocalFile(e.src,function(t){t&&(c+=t),n.resolve()}):i.registeredAmpPlugins.length?i.registeredAmpPlugins.forEach(function(t){e&&e.src&&-1!==e.src.indexOf(".css")&&-1!==e.src.indexOf(t)?d.Bridge.loadLocalFile(e.src,function(t){t||n.resolve(),c+=t,n.resolve()}):n.resolve()}):n.resolve(),l.push(n.promise())}),k.when.apply(this,l).then(function(){5e4<(c=e(c)).length&&n.reject(new Error("Author stylesheet is larger than 50,000 bytes.")),i.additionalStyles=function(t){for(var e=t.match(/https.*?(?=[\)|\s])/g)||"",n=a(t.match(/https.*?(?=[\)|\s])/g)),i=0,o=e.length;i<o;i++)t=t.replace("@import url("+e[i]+");","");return n.forEach(function(t){r+='<link href="'+t+'" rel="stylesheet">\n '}),t}(i.additionalStyles),i.additionalStyles=e(i.additionalStyles),r=(r+="\n <style amp-custom> \n"+c+"\n"+i.additionalStyles+'\n[class*="-iconfont"]{display: inline-flex;}</style>\n ').replace(/!important/g,""),n.resolve(r)}),n.promise()}),S.addFilter("publishFiles",function(t){for(var e=0;e<t.length;){var n=t[e].dest;n.endsWith(".css")||n.endsWith(".js")&&!n.endsWith("sw.js")&&!n.endsWith("sw-toolbox.js")?t.splice(e,1):e++}return t}),S.addFilter("publishHTML",function(t){return t=S.isAMP()?t.replace("<html","<html amp"):t})}else mbrApp.addFilter("filterUserBlocks",function(t){return t.filter(function(t){return!t.isAMP})})}}})},["jQuery","mbrApp"])},function(t,e,n){"use strict";var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=n(23);defineM("app-component-presets",function(c,d,t){function e(){var e=d.$body.find("#edit-component-params .preset-slider .block-presets .preset").length,n=d.$body.find("#edit-component-params .preset-slider"),i=d.$body.find("#edit-component-params .presets-wrapper"),t=250*e,o=0;i.find(".active-number").html(o+1+"/"+e),n.css({width:250,height:150}),n.find(".block-presets").css({width:t,height:150,marginLeft:-250}),n.find(".block-presets .preset:last-child").prependTo("#edit-component-params .preset-slider .block-presets"),n.find(".active-number").html(o+1+"/"+e),c(".preset-slider .sl-prev").click(function(t){t=t.target.closest("section[data-component-id]").getAttribute("data-component-id");/slider/gi.test(d.Core.getComponent(t)._name)&&d.Core.render(t),n.find(".block-presets .preset:last-child").prependTo("#edit-component-params .preset-slider .block-presets"),n.find(".block-presets").css("left",""),o=o-1<0?e-1:o-1,i.find(".active-number").html(o+1+"/"+e),n.find(".preset[data-id="+o+"]").click()}),c(".preset-slider .sl-next").click(function(t){t=t.target.closest("section[data-component-id]").getAttribute("data-component-id");/slider/gi.test(d.Core.getComponent(t)._name)&&d.Core.render(t),n.find(".block-presets .preset:first-child").appendTo("#edit-component-params .preset-slider .block-presets"),n.find(".block-presets").css("left",""),o=e-1<o+1?0:o+1,i.find(".active-number").html(o+1+"/"+e),n.find(".preset[data-id="+o+"]").click()})}function u(t){t=d.Core.getComponent(t);return{name:"default",params:function(t){if(t){for(var e in t){if("bg"===e)for(var n in t[e])"type"!==n&&"value"!==n&&delete t.bg[n];0===e.indexOf("uname__")&&delete t[e]}return t}}(c.extend(!0,{},t._params)),styles:c.extend(!0,{},t._styles)}}d.regExtension({name:"component-presets",global:{exBlockPreset:{},presetsLoading:!1,renderComponentPresets:function(r,a,s){var n=void 0,l=void 0,n=(l=!isNaN(parseFloat(r))&&isFinite(r)?(d.Core.getComponentParams(r),d.Core.getComponent(r)._name):a,d.getAddonDir(d.theme.name)+"/components/"+l+"/presets/list.json");return new Promise(function(e,o){d.components[l]&&!0!=!d.components[l].presets?f.Bridge.isExistsLocal(n,function(t){t&&f.Bridge.getLocalJSON(n,function(t){var n,i;t&&t.presets&&Array.isArray(t.presets)?(t.presets.forEach(function(t){t.params&&t.params.bg&&"image"===t.params.bg.type&&(t.params.bg.value=d.theme.pathCore+"/components/"+l+t.params.bg.value)}),d.exBlockPreset[l]?t.presets.forEach(function(e){d.exBlockPreset[l].presets.some(function(t){return e.name===t.name})||d.exBlockPreset[l].presets.push(e)}):d.exBlockPreset[l]=t,e({id:r,name:a,count:t.presets.length,template:'<div class="block-presets">\n\t\t\t\t\t\t\t\t\t\t\t\t\t'+(t=d.exBlockPreset[l].presets,n=l,i="","default"!==t[0].name?t.unshift(u(r)):t[0]=u(r),t.map(function(t,e){0===e&&s||(0!==e||s?t.type&&"fromProject"===t.type?i+='<div class="preset" data-id="'+e+'">\n\t\t\t\t\t\t\t\t\t\t\t<img src="'+t.skin+'">\n\t\t\t\t\t\t\t\t\t\t</div>':i+='<div class="preset" data-id="'+e+'">\n\t\t\t\t\t\t\t\t\t\t<img src="'+f.Bridge.path2app(d.getAddonDir(d.DEFAULT_THEME))+"/components/"+n+"/presets/"+t.skin+'">\n\t\t\t\t\t\t\t\t\t</div>':i+='<div class="preset default" data-id="0">\n\t\t\t\t\t\t\t\t\t\t\t<div style="padding: 5px;">Current Layout</div>\n\t\t\t\t\t\t\t\t\t\t\t<img src="'+f.Bridge.path2app(d.getAddonDir(d.DEFAULT_THEME))+"/components/"+l+'/thumb.png">\n\t\t\t\t\t\t\t\t\t\t</div>')}),i)+"\n\t\t\t\t\t\t\t\t\t\t\t\t  </div>"})):o()},function(t){e("")})}):e(!1)})}},events:{load:function(){var l=this;l.$body.on("click",".block-presets > .preset",function(a){a.preventDefault();var s=c('<div class="preloader no-select" style="background-color: rgba(255,255,255,.8)"></div>').html('<div class="preloader-wrapper">\n                                    \t\t<div style="transform: scale(0.35);">\n\t\t\t                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="200" height="200">\n\t\t\t    \t\t\t\t\t\t\t\t\t<circle fill="none" stroke="#008B8B" stroke-width="3" stroke-dasharray="230" stroke-dashoffset="230" cx="150" cy="150" r="145">\n\t\t\t        \t\t\t\t\t\t\t\t\t<animate attributeType="CSS" attributeName="stroke-dashoffset" from="900" to="0" dur="3s" repeatCount="indefinite"></animate>\n\t\t\t    \t\t\t\t\t\t\t\t\t</circle>\n\t\t\t    \t\t\t\t\t\t\t\t\t<circle fill="none" stroke="#008B8B" stroke-width="3" stroke-dasharray="212" cx="150" cy="150" r="135">\n\t\t\t        \t\t\t\t\t\t\t\t\t<animate attributeType="CSS" attributeName="stroke-dashoffset" from="850" to="0" dur="1.5s" repeatCount="indefinite"></animate>\n\t\t\t    \t\t\t\t\t\t\t\t\t</circle>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>');c(s).addClass("comp-preloading"),c(a.target).closest(".preset-slider").prepend(s),setTimeout(function(){var t=c(a.target).closest("section").attr("data-component-id"),e=d.Core.getComponent(t),n=c(a.target).closest(".preset").attr("data-id"),i=c(a.target).closest(".preset").hasClass("default"),o=void 0,r=void 0;l.presetsLoading=!0,r=i?(o=c.extend(!0,{},d.exBlockPreset[e._name].presets[0].params),c.extend({},d.exBlockPreset[e._name].presets[0].styles)):(o=c.extend(!0,{},d.exBlockPreset[e._name].presets[+n].params),c.extend({},d.exBlockPreset[e._name].presets[+n].styles)),o=function(t,e){var n,i=d.Core.getComponent(t),o=d.Core.getComponentParams(t).default,r=d.Core.getComponentParams(t).current;for(n in e.bg&&"object"===p(e.bg)&&o.bg&&(t=o.bg.default[e.bg.type].sourceProp,i.usersParams)&&i.usersParams[t]&&(e.bg.value=i.usersParams[t]),c.extend(!0,e,i.usersParams),e)e[n]===r[n]&&delete e[n];return e}(t,o),d.Core.changeComponentParamsObj(t,o),s.remove(),e._styles=c.extend({},e._defaultStyles,r),d.Core.renderComponentsStyles(),d.fire("presetSwitched",t),l.presetsLoading=!1},50)}),d.on("presetsReady",function(){e()}),d.Core.on("changedComponentParams",function(t,e,n){l.presetsLoading||(t=d.Core.getComponent(t))&&(t.usersParams=t.usersParams||{},t.usersParams[e]=n)})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-logging",function(n,t,e){t.regExtension({name:"logging",global:{stagingElement:n("<div class='staging'>").appendTo(".preloader .logo.top"),stagingStartTime:new Date,stagingMessage:["..."],stagingTime:[new Date],stagingDuration:[],staging:function(t,e){this.stagingMessage.push(t),this.stagingTime.push(new Date);var n=(new Date-(this.stagingTime[this.stagingTime.length-2]||this.stagingStartTime))/1e3;this.stagingDuration.push(n),this.stagingElement.html(t),console.log("logging:",t,(new Date-this.stagingStartTime)/1e3),e&&e()}},events:{bridgeInit:function(){n(".preloader .painter").css({width:"45%",transition:"width 2.4s"}),this.addFilter("loadComponentsHTML",function(t){return this.staging("prepare Components Palette"),t})},addonLoaded:function(t,e){n(".preloader .painter").css({width:"70%",transition:"width 1.1s"}),this.staging("loading "+e.title,function(){})},addonLoadFinish:function(t){n(".preloader .painter").css({width:"100%",transition:"width 1.5s"})},beforeCoreLoad:function(){},coreLoad:function(){t.on("loadedComponentTemplates",function(){this.staging("init Components Palette")}),this.addFilter("loadComponents",function(t){return this.staging("loadComponents"),t})},load:function(){},loaded:function(){this.staging("loaded",function(){n(".preloader .painter").css({width:"100%",transition:"width 0s"})})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-form-editor",function(p,f,h,a){function m(t){return""==t||n(t)||v(t)}function r(e,t,n,i){var o,r,a,s,l=n[e.attr("mbr-form")]||{},c="true"===n._params.usedRecaptcha;e.find('a[type="submit"]').each(function(){p(this).replaceWith(this.outerHTML.replace(/(<\/?)a(\W)/gi,"$1button$2"))}),v(l.action)?(d=u=!0,o=n.title?n.title.replace(/(<([^>]+)>)/gi,""):l.title||"UNTITLED FORM",r=e.attr("data-rcpha_secretKey"),a=e.attr("data-rcpha_siteKey"),s=e.attr("data-rcpha_label"),e.attr("data-rcpha")&&"true"===s&&(b=!1),e.find("[data-form-email]").length||(e.prepend('<input type="hidden" name="email" data-form-email="true">'),f.isAMP()||(e.attr("data-rcpha")&&e.attr("data-rcpha_siteKey")&&r?(e.prepend('<input type="hidden" name="g-recaptcha-response" data-form-captcha="true" value="'+e.attr("data-rcpha_siteKey")+'">'),f.registerPlugin("recaptcha-input-"+a,{name:"recaptcha-input-"+a,priority:3500,condition:"_params.usedRecaptcha=true",files:["https://www.google.com/recaptcha/api.js?render="+a]})):(f.getPlugin("recaptcha-input-"+a)||{}).condition=!1),f.isAMP()&&(e.attr("data-rcpha")&&e.attr("data-rcpha_siteKey")&&r?(e.prepend('<amp-recaptcha-input layout="nodisplay" name="recaptcha_token" data-sitekey="'+e.attr("data-rcpha_siteKey")+'" data-action="recaptcha_example"></amp-recaptcha-input>'),n._plugins=n._plugins+",amp-recaptcha-input"):n._plugins&&(n._plugins=n._plugins.replace(",amp-recaptcha-input",""))),e.removeAttr("data-rcpha data-rcpha_secretKey data-rcpha_siteKey data-rcpha_label data-verified")),s={email:l.action},r&&c&&(s.captcha=r),i&&(s.licenseKey=i),e.find("[data-form-email]").val(g(JSON.stringify(s))),e.attr("data-form-title",o).parent().attr("data-form-type","formoid"),p.each(l.fields,function(t){e.find("[name='"+t+'\']:not([data-form-email="true"])').attr("data-form-field",this.title)})):(l.action&&e.attr("action",l.action),t.find("[data-form-email], [data-form-alert]").remove())}(e=new JSEncrypt).setPublicKey(FORMOID_PUBLIC_KEY);var e,d,u,g=function(t){return t.match(/(^$|[\s\S]{64}|[\s\S]{1,63}$)/g).map(function(t){return e.encrypt(t)}).join(".")},v=function(t){return/^((([a-z]|\d|[!#$%&\'*+\-\/=?\^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#$%&\'*+\-\/=?\^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(t)},n=function(t){return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/gm.test(t)},b=!0;f.regExtension({name:"plugin-form-editor",global:{formbuilderBuyer:{}},events:{coreLoad:function(){f.Core.$window[0].rivets.binders.form={routine:function(t,e){}}},load:function(){f.Core.$body.on("click","[mbr-form] input, [mbr-form] textarea, [mbr-form] select",function(t){t.preventDefault(),t.stopPropagation(),p(this).keyup(function(t){this.value=""});var n,i,e,o,r,a,s,l=p(this).parents("[mbr-form]"),c=l.parents("[data-app-component-id]:eq(0)").attr("data-app-component-id"),d=f.Core.getComponent(c),u=l.attr("mbr-form");void 0!==d[u]&&(n=d[u],i=c,o="",o+="<h4>"+h("Form Fields")+"</h4><hr>",p.each(n.fields,function(t){var e,n;"hidden"!==this.type&&(e=(t=p('<div>   <div class="row">       <div class="togglebutton col-md-4">           <label class="checkbox-inline">               <input type="checkbox" name="visible" checked onchange="               jQuery(this).parents(\'.row\').find(\'[type=\\\'text\\\']\').prop(\'disabled\', !this.checked);               "><span class="toggle"></span> <b></b>           </label>       </div>       <div class="col-md-8">           <input type="text" name="title" class="form-control" placeholder="">       </div>   </div></div>').find(".row").attr("field",t).end().find("b").text(this.title).end()).find('[type="checkbox"]'),n=t.find('[type="text"]').attr("value",this.customTitle),"visible"in this?this.visible||(n.prop("disabled",!0),e.removeAttr("checked")):(e.remove(),t.find(".toggle").remove()),"type"in this&&(/text|tel|password|number|url|textarea|email/.test(this.type)||n.prop("disabled",!0)),o+=t.html())}),o+="<h4>"+h("Form Options")+"</h4><hr>",t=n.verify&&n.verify.status,o=(o+=p('<div>\n               <div class="row">\n                   <div class="col-md-3">\n                       <b>'+h("Notification Email or Action URL")+'</b>\n                   </div>\n                   <div class="col-md-9 wrapper">\n                       <div style="display:flex;align-items:center;">\n                           <input type="text" name="action" class="form-control" placeholder="">\n                           <button id="verifyBtn" class="btn btn-primary" '+(!v(n.action)||t?"disabled":"")+">"+h(t?"Verified":"Verify")+'</button>\n                       </div>\n                       <span class="help-block" style="display:none">'+h("Please enter a valid email address or URL")+"</span>\n                   </div>\n               </div>\n            </div>").find('[name="action"]').attr("value",n.action).end().html())+p('<div>   <div class="row" alert="success"'+(v(n.action)?"":' style="display:none"')+'>       <div class="col-md-3">           <b>'+h("Success Message")+'</b>       </div>       <div class="col-md-9">           <textarea name="message" class="form-control" style="height:55px;" placeholder=""></textarea>       </div>   </div></div>').find('[name="message"]').text(n.alerts.success).end().html(),r=p.Deferred(),t=f.showDialog({title:"",className:"note-air-layout form-settings-dialog",body:"<form>"+o+"</form>",cancel:function(){},successLabel:"Save",success:function(){var t=p(this).find('[name="action"]'),n={action:t.val(),alerts:{},fields:{}};if(!m(n.action))return t.keyup(),!1;p(this).find("[alert]").each(function(){n.alerts[p(this).attr("alert")]=p(this).find('[name="message"]').val()}),p(this).find("[field]").each(function(){var t=p(this).attr("field"),e=p(this).find('[name="visible"]').prop("checked");n.fields[t]={customTitle:p(this).find('[name="title"]').val()},void 0!==e&&(n.fields[t].visible=e)}),r.resolve(n)},id:"form-editor"}),a=t.find("#verifyBtn"),e=a,s=function(t){t?(e.attr("disabled",!1),e.text(""+h("Verify"))):(e.attr("disabled",!0),e.text(""+h("Verified")))},t.find('[name="action"]').keyup(function(){m(this.value)?(p(this).closest(".wrapper").removeClass("has-error").find(".help-block").hide(),p(this).parents("form:eq(0)").find("[alert]")[v(this.value)?"show":"hide"]()):p(this).closest(".wrapper").addClass("has-error").find(".help-block").show(),v(this.value)&&this.value!==n.verify.action?s(!0):s(!1)}),a.click(function(){var t=p(this).parent().find('[name="action"]')[0].value;t&&v(t)&&(f.showPreloader(),Bridge.http("https://formoid.net/api/register",{method:"POST",data:t?JSON.stringify({email:t}):"",success:function(e){try{e=JSON.parse(e)}catch(t){return console.error(t,e),void f.hidePreloader()}e.error?f.alertDlg(e.error):(e=f.Core.getComponent(i),i&&e._customHTML&&(e._customHTML=e._customHTML.replace("<form action",'<form data-verified="'+t+'" action'),f.fire("formoidSucces")),s(!1),f.alertDlg(h("Email verified")),p.extend(!0,n,{verify:{action:t,status:!0}})),f.hidePreloader()},error:function(t){console.log(t),f.hidePreloader()}}))}),f.fire("formeditorOpen",t,i),r.done(function(t){d[u].verify&&d[u].verify.action!==t.action&&(d[u].verify.action=t.action,d[u].verify.status=!1),p.extend(!0,d[u],t),f.Core.updateGlobalComponents(c),f.fire("formoidSucces",c,u,d[u],l)}),f.fire("showedPopup"))}),f.Core.addFilter("getResultComponent",function(t){return t.then(function(e,n,i){var t=e.find("[mbr-form]").attr("mbr-form"),o=n[t]||null,r=p.Deferred();return o&&o.action&&v(o.action)?f.formbuilderBuyer[o.action]?r.resolve(e,n,i,f.formbuilderBuyer[o.action]):(a.get("storage/formbuilder?email="+o.action).then(function(t){f.formbuilderBuyer[o.action]=t.key,r.resolve(e,n,i,t.key)},function(t){r.resolve(e,n,i)}),r):r.resolve(e,n,i)}).then(function(t,e,n,i){var o=t.find("[mbr-form]");return o.length&&r(o,t,e,i),p.Deferred().resolve(t,e,n)})}),f.Core.addFilter("resultHTMLforEditor",function(t,e){var n=t.find("[mbr-form]");return n.length&&r(n,t,e),t}),f.on("runPublish",function(){d=!1}),f.on("formoidSucces",function(){f.runSaveProject(!1,!0)}),f.addFilter("allUsedPlugins",function(t){return d&&this.getPlugin("Formoid")&&-1==t.indexOf("Formoid")?t.push("Formoid"):d&&this.getPlugin("formoid")&&-1==t.indexOf("formoid")&&t.push("formoid"),d&&b&&this.getPlugin("formoid-css")&&-1==t.indexOf("formoid-css")&&t.push("formoid-css"),t}),f.addFilter("allUsedPluginsForPage",function(t){return u&&this.getPlugin("Formoid")&&-1==t.indexOf("Formoid")?t.push("Formoid"):u&&this.getPlugin("formoid")&&-1==t.indexOf("formoid")&&t.push("formoid"),u&&b&&this.getPlugin("formoid-css")&&-1==t.indexOf("formoid-css")&&t.push("formoid-css"),u=!(b=!0),t})}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";defineM("app-plugin-help-info",function(t,e,n){var i=t('\n        <p class="app-help-info">\n            '+n("This is the site editor. Click any text or image to edit it. Select a text to insert a link. Click the 'gear' $gearIcon$ to change the section's layout and settings. Click the 'plus' $plusIcon$ to add a new section. Use the 'menu' $menuIcon$ to publish site, change the site style and settings, create new pages and sites.").replace("$gearIcon$",'<span class="app-btn mbr-icon-setting"></span>').replace("$plusIcon$",'<span class="app-btn mbr-icon-plus"></span>').replace("$menuIcon$",'<span class="app-btn mbr-icon-menu"></span>')+"\n        </p>\n    "),o=void 0;function r(){e.Core.$document.scrollTop()>o+30&&(i.remove(),e.Core.$window.off("scroll",r))}e.regExtension({name:"plugin-help-info",events:{createdProject:function(){e.Core.$body.find(".browser-template-wrap").before(i),o=i.outerHeight(),e.Core.$window.on("scroll",r)}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM(function(r,a,t){function s(t,e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.type="custom",this.name=e,this.customThumb=a.theme.path+"/projects/"+a.projectSettings.sourceProject+"/"+r(t._customHTML).attr("custom-thumb"),this._group=r(t._customHTML).attr("group"),this.styles=t._styles,this.html=t._customHTML,this._once=t._once,this._global=t._global}var l={};a.regExtension({name:"aws-app-project-components",events:{load:function(){a.on("loadProjectCore",function(e,t){if(a.projectSettings.developerProject){if(l={},e&&"object"===o(e.pages)){var n,i=function(t){var i=0,o=[];e.pages[t].components&&e.pages[t].components.map(function(t){var e,n;!(n=t)._customHTML||-1===n._customHTML.indexOf("custom-thumb")||a.components[t._name]||(e=r(t._customHTML).attr("custom-thumb").split("/").pop(),o.some(function(t){return t===e}))||(o.push(e),n=void 0,n=-1!==t._name.indexOf("-custom-")?t._name.slice(0,t._name.length-1)+i:t._name+"-custom-"+i,l[n]=new s(t,n),i++)})};for(n in e.pages)i(n)}a.projectComponents=l}}),a.addFilter("addProjectsComponents",function(t){return r.extend(!0,t,l)}),a.addFilter("customThumb",function(t,e){return"custom"===e.type?e.customThumb:t})},loadedProject:function(){for(var t in a.$componentsLayer.removeAttr("data-pallete-inited"),a.components)"ProjectsComponent"===a.components[t].constructor.name&&delete a.components[t]}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM(function(i,o,t){o.regExtension({name:"aws-app-project-components-presets",events:{load:function(){o.addFilter("publishProjectSettings",function(t){return t.developerProject&&delete t.developerProject,t}),o.Core.addFilter("cleanHTMLplease",function(t,e){return t.find("[custom-thumb]").removeAttr("custom-thumb"),t})},loadedProject:function(){o.$componentsLayer.removeAttr("data-pallete-inited"),o.exBlockPreset={},o.projectSettings.developerProject&&o.on("beforeRenderComponentPresets",function(t){if(o.Core.resultJSON)for(var e in o.Core.resultJSON)o.Core.resultJSON[e].components&&o.Core.resultJSON[e].components.map(function(t){var e,n;(n=t)._customHTML&&-1!==n._customHTML.indexOf("custom-thumb")&&(e=i(t._customHTML).attr("custom-thumb").split("/").pop(),o.exBlockPreset[t._name]||(o.exBlockPreset[t._name]={presets:[]}),o.exBlockPreset[t._name].presets.some(function(t){return t.name===e})||o.exBlockPreset[t._name].presets.push({type:"fromProject",name:e,skin:o.theme.path+"/projects/"+o.projectSettings.sourceProject.toLowerCase()+"/"+i(t._customHTML).attr("custom-thumb"),params:i.extend(!0,{},t._params),styles:i.extend(!0,{},t._styles)}))})})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var c=n(23);defineM("app-plugin-iconfont-svg",function(s,l,t){l.regExtension({name:"iconfont-svg",events:{registeredPlugin:function(t){t.iconfont&&(t.iconfont.addon_root=t.addon_root||null,t.iconfont.root=t.root||null)},loaded:function(){"secondary"!=!l.Core.theme.type&&l.isAMP()&&(l.addFilter("svgFontFilter",function(t){return t=t&&Array.isArray(t)?t.filter(function(t){return!t.iconfont}):t}),l.Core.addFilter("getResultComponent",function(t){return t.then(function(t,e,n){var i=s.Deferred(),r=[],a=l.iconFonts;return t.find("[class*=-iconfont]").each(function(t,e){var i=s.Deferred(),n=l.extractIconFont(e),o=void 0;r.push(i.promise()),a[n.family]&&n&&(s(e).hasClass("mbr-iconfont")||s(e).hasClass("amp-iconfont"))?(o=a[n.family].addon_root&&!a[n.family].root?a[n.family].addon_root+"/"+a[n.family].plugin+"/svg/"+n.name+".svg":a[n.family].root?a[n.family].root+"/"+n.family+"/svg/"+n.name+".svg":"web/assets/"+a[n.family].plugin+"/svg/"+(n.classPrefix+n.name)+".svg",l.isAMP()&&s(e).removeAttr("style"),c.Bridge.loadLocalFile(o,function(t){var n=void 0;s(t).each(function(t,e){e.nodeName&&"svg"===e.nodeName&&(s(e).find("title").remove(),n=e)}),n&&(s(n).attr("fill","currentColor"),s(n).attr("width","100%"),s(n).attr("height","100%"),s(e).html(n.outerHTML)),i.resolve()})):i.resolve()}),s.when.apply(this,r).then(function(){i.resolve(t,e,n)}),i.promise()})}))}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var x=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},S=n(23);defineM("app-plugin-whois",function(s,l,c,r){var e="https://api.whois.vu/?q=",n="mobirisesite.com",d=["mx","txt"],o=null,a="",i=function(t,e){var n=((e=e||{}).method||"GET").toUpperCase();function i(){return console.log("Token updating..."),r.getAuthToken().then(function(t){return a=t.access_token})}function o(){return fetch(t,{method:n,headers:k(e.headers||{},{Authorization:"bearer "+a,"Content-type":e.contentType,"Access-Control-Allow-Origin":"*"}),body:e.data})}return"POST"!=n&&"PUT"!=n||(e.contentType="application/json","data"in e&&(e.data=JSON.stringify(e.data))),Promise.resolve().then(function(){if(!a)return i()}).then(o).catch(function(t){if("TokenExpired"==t.type)return i().then(o);throw t}).then(function(t){if(t.status<200||299<t.status)throw new Error(""+t.statusText);return t.json()})},u=!1;function p(t){var e=l.$body.find(".app-layer-common");u=t,e&&(e.find(".domains-wrapper").html(m()),e.find(".domains-template__input").each(function(t,e){s(e).off().on("focus",v)}))}function f(t){return i(e+t)}function h(t,i){return f(t).then(function(t){try{var e=JSON.parse(t).whois.match(/Name Server: .*/g);return e?e.map(n).reduce(o,[]):""}catch(t){return console.error(t.message),""}},function(t){console.error(t.message)}).then(function(t){var n="";return t?(t.forEach(function(t,e){n+='<div class="col-md-12">\n                                        <div class="col-md-6">\n                                            <input name="name" type="text" value="'+t.toLowerCase()+'" class="form-control" readonly>\n                                        </div>\n                                        <div class="col-md-6">\n                                            <input name="name" type="text" value="'+(i?i[e]:"ns"+((e+1)%2==0?2:1)+".mobirisesite.com")+'" class="form-control domain-readonly" readonly>\n                                            '+(e<2?'<span class="domain-copy">'+c("Copy")+"</span>":"")+"\n                                            "+(1<e?'<span class="domain-remove">'+c("Remove")+"</span>":"")+"\n                                        </div>\n                                      </div>"}),n):'<div class="col-md-12">\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="your nameserver" class="form-control" readonly>\n                                    </div>\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="'+i[0]+'" class="form-control domain-readonly" readonly>\n                                        <span class="domain-copy">'+c("Copy")+'</span>\n                                    </div>\n                                </div>\n                                <div class="col-md-12">\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="your nameserver" class="form-control" readonly>\n                                    </div>\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="'+i[1]+'" class="form-control domain-readonly" readonly>\n                                        <span class="domain-copy">'+c("Copy")+"</span>\n                                    </div>\n                                </div>"},function(t){console.error(t.message)});function n(t,e,n){return t.replace("Name Server: ","")}function o(t,e){return 0===t.filter(function(t){return t.toLowerCase()===e.toLowerCase()}).length&&t.push(e),t}}function m(){var t;if(1<l.projectSettings.domains.length){var e=void 0;switch(l.projectSettings.domains[1].status.type){case"info":e="pending";break;case"error":e="error";break;case"success":e="connected";break;default:console.warn("invalid status")}return'<div class="domains-template">\n                        <div class="wrapper col-md-12">\n                            <div class="wrapper__row">\n                                <span class="domains-template__protocol">https://</span>\n                                <input class="form-control domains-template__input" id="userDomain" type="text" value="'+l.projectSettings.domains[1].name+'" readonly/>\n                                <span title="'+l.projectSettings.domains[1].status.description+'" class="domains-template__status '+("pending"===e?"warn":"error"===e?"danger":"")+'">\n                                    '+("pending"===e?'<span id="domainInfo">Pending connection...</span>':"connected"===e?"Connected":"")+'\n                                </span>\n                            </div>\n                            <button class="btn btn-primary" type="button" id="dnsManagerButton"><i class="mbr-icon-cog" style="vertical-align:middle;"></i></button>\n                            <button class="btn btn-warning" type="button" id="domainRemoveButton">'+c("Disconnect")+"</button>\n                        </div>\n                    </div>"}return t=void 0,null!==o&&o.length&&((t=o.filter(function(t){return!t.siteId&&"active"===t.status.toLowerCase()}).map(function(t){return t.name})).getTemplate=function(){return t.reduce(function(t,e){return t+'<option value="'+e+'">'},'<datalist id="mydomains">')+"</datalist>"}),'<div class="domains-template">\n                        <div class="wrapper row">\n                            <div class="wrapper__row col-12">\n                                <div class="d-flex" style="display:flex; align-items: center;">\n                                    <span class="domains-template__protocol">https://</span>\n                                    <input class="domains-template__input form-control" style="margin-right: 15px;" id="userDomain" type="text" '+(t?'list="mydomains"':"")+' placeholder="yourdomain.com"/>\n                                    '+(t?t.getTemplate():"")+'\n                                    <button class="btn btn-primary '+(!0===u?"loading":"")+'" type="button" id="domainConnectButton" '+(!0===u?"disabled":"")+">"+c("Connect")+'</button>\n                                </div>\n                            </div>\n                            <div class="col-12">\n                                <span id="userDomainStatus" class="domains-template__status col-md-12"></span>\n                            </div>\n                        </div>\n                        <div class="wrapper basic row">\n                            <div class="wrapper__row col-12">\n                                <div class="d-flex" style="display:flex; align-items: center;">\n                                    <input style="padding-left:0;" class="domains-template__input form-control" id="newDomain" type="text" value="'+l.projectSettings.domains[0].name.match(/^[A-Za-z0-9-]+/gm)+'"/>\n                                    <span class="col-md-7 domains-template-label">.mobirisesite.com</span>\n                                    <button class="w-100 btn btn-primary" type="button" id="domainChangeButton">'+c("Change")+'</button>\n                                </div>\n                            </div>\n                            <div class="col-12">\n                                <span class="domains-template__status col-md-12"></span>\n                            </div>\n                        </div>\n                    </div>'}function g(r){l.showDialog({title:c("Connect domain"),className:"domain-settings-modal",buttons:{success:{label:c("OK"),default:!0,className:"iconfont-ok",callback:function(){}}},body:['<div class="row wrapper"><div class="col-md-12">\n                    '+l.preloaderHTML+'\n                    <div class="form-group row">\n                        <span class="col-md-12 control-label">\n                            '+c("1. Log into your domain ")+'<span id="registratorUrl"></span><br>\n                            '+c("2. Go to your domain's DNS / name server settings.")+"<br>\n                            "+c("3. Replace your current name servers with the Mobirise name servers shown below.")+'<br>\n                        </span>\n                        <div class="user-domains col-md-12"></div>\n                        <span class="col-md-12 control-label">\n                            '+c("4. After your nameservers change it may take from 20 minutes to 48 hours for your domain to be visible online.")+"<br>\n                        </span>\n                    </div>\n                </div></div>"].join("\n"),create:function(){l.infoUsrDomain(l.projectSettings.id).then(function(t){l.projectSettings.domains=t.domains;var e=s.Deferred(),n=s.Deferred(),i=void 0,o=(((t||{}).domains[1]||{}).requiredDnsRecords[1]||{}).values,i=i||l.projectSettings.domains[1].requiredDnsRecords[0].values;h(r,i).then(function(t){return t=t,e=l.projectSettings.domains[1].name,n=o,s.isEmptyObject(n)?t:t+('<div class="cname-wrapper col-md-12">\n                    <div class="col-md-12 cname-wrapper__title">\n                        <span>'+c("DNS SETTINGS"))+':</span>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="col-md-5 cname-wrapper__domain">\n                            <span>'+e+'</span>\n                        </div>\n                        <div class="col-md-2 cname-wrapper__slash">\n                            <span>CNAME</span>\n                        </div>\n                        <div class="col-md-5 cname-wrapper__cname">\n                            <span>'+n+"</span>\n                        </div>\n                    </div>\n                </div>";var e,n}).then(function(t){l.$body.find(".domain-settings-modal .user-domains").html(t),n.resolve()},function(t){console.error(t.message),n.resolve()}),f(r).then(function(t){try{var e=JSON.parse(t).whois.match(/Registrar URL: .*/);return e?e[0].replace("Registrar URL: ",""):""}catch(t){return console.error(t.message),""}},function(t){console.error(t.message)}).then(function(t){t?l.$body.find("#registratorUrl").html('<a href="'+t+'" target="_blank"> '+c("provider's account")+"</a> ("+t.replace(/https?:\/\//gi,"").split("/")[0].replace("www.","")+")"):l.$body.find("#registratorUrl").html(""+c("provider's account")),e.resolve()},function(t){console.error(t.message),e.resolve()}),s.when(e,n).then(function(t){l.$body.find(".domain-settings-modal .preloader").hide()},function(t){bootbox.alert(t.message)})},function(t){throw new Error(t)})}})}function v(){l.$body.find(".app-layer-common").find(".domains-template__status").each(function(t,e){s(e).html("").removeClass("danger")}),l.$body.find(".app-layer-common").find(".domains-template__input").each(function(t,e){s(e).removeClass("err")})}t.prototype.getMyOwnDomains=function(){var e=[];return Promise.resolve().then(function(){return S.Bridge._REST("me/sites").then(function(t){if(t.items.length)return t.items.forEach(function(t){t.domains&&t.domains.length<2||e.push(new y(t))}),e})}).catch(function(t){return console.error(t),e})},t.prototype.api={request:function(t){return S.Bridge._REST(t)},get:function(t){return S.Bridge._REST(t,{method:"GET"})},post:function(t){var e=t.path,t=t.data;return S.Bridge._REST(e,{method:"POST",data:void 0===t?{}:t})},put:function(t){return S.Bridge._REST(t,{method:"PUT"})},delete:function(t){return S.Bridge._REST(t,{method:"DELETE"})}},t.prototype.getDomainInfo=function(){return this.data&&this.data.domains&&this.data.domains[0]?this.data.domains[0]:null},t.prototype.getCustomDomainInfo=function(){return this.data&&this.data.domains&&this.data.domains[1]?this.data.domains[1]:null},t.prototype.getDomainStatus=function(){var t=this.getCustomDomainInfo();return t&&t.status?"..."===t.status.description.slice(-3)?t.status.description:t.status.description+"...":"Connecting..."},t.prototype.onLoaded=function(){this.isLoading=!1,s("#app-project-sidebar").length&&(s(this.sidebarHTML).empty().html(this.getSidebarTemplate()),s(this.sidebarHTML).find("#pending-overlay").hide()),l.fire("domainManagerLoaded")},t.prototype.onLoad=function(){this.isLoading=!0},t.prototype.syncDomainData=function(){var i=this;if(l.projectSettings.mbrsite)return this.onLoad(),new Promise(function(n,e){i.api.get("/me/sites").then(function(t){t.items.map(function(t){var e;t.id===l.projectSettings.id&&(e=t.domains[1]||null,i.data=t,i.siteId=t.id,i.isConnected=!!e,i.isConnected&&(i.subdomain=l.getSubdomain(e.name)),i.isConnected&&"Deployed"===e.status.name&&(i.isReady=!0,l.fire("CustomDomainConnected")),i.onLoaded(),n(t))})}).catch(function(t){i.onLoaded(),e(t)})});this.onLoaded()},t.prototype.checkPublishTemplate=function(t){var e,n,i,o=this;this.getCustomDomainInfo()&&(e=t.find(".mbrsite-publish-settings .publishBody"),(n=t.find(".mbrsite-publish-settings .publishBody .row")).addClass("custom-domain-publish-row"),!1!==this.isConnected)&&(i=void 0,this.isReady?(i=this.getCustomDomainInfo().name,n.find('[class^="col-"]').hide(),n.append('\n                    <div class="custom-domain-publish-wrap">\n                        <span class="control-label">https://</span>\n                        <input id="custom-domain" type="text" class="form-control" value="'+(i||"")+'" disabled>\n                        <button id="custom-dmn-settings" class="btn btn-primary" style="display: flex;"><i class="mbr-icon-cog"></i></button>\n                    </div>\n                ')):(this.isReady||this.syncDomainData(),n.find('[class^="col-"]').hide(),n.append('<div class="custom-domain-publish-wrap">'+l.preloaderHTML+"</div>"),setTimeout(function(){i=o.getCustomDomainInfo().name,n.find(".custom-domain-publish-wrap").remove(),o.isReady?n.append('\n                        <div class="custom-domain-publish-wrap">\n                            <span>https://</span>\n                            <input id="custom-domain" type="text" class="form-control" value="'+(i||"")+'" disabled>\n                            <button id="custom-dmn-settings" class="btn btn-primary" style="display: flex;"><i class="mbr-icon-cog"></i></button>\n                        </div>\n                    '):(n.find('[class^="col-"]').show(),e.append('<div class="custom-dmn__pending" data-domain="'+i+'">Domain '+i+" pending connection...</div>"))},3e3)))},t.prototype.getSidebarTemplate=function(){return this.isConnected?this.isConnected&&!this.isReady?'<div class="row">\n                                <label class="control-label col" for="site-settings-domain">'+c("Site Domain")+'</label>\n                            </div>\n                            <div class="row">\n                                <div class="custom-domain" style="justify-content: center;">\n                                    <div style="padding-right: 5px;display: flex;justify-content: center;">\n                                        <span class="control-label" style="padding-right: 10px;">https://</span>\n                                        <input id="custom-domain" type="text" class="form-control" value="'+(this.getCustomDomainInfo().name||"")+'" disabled>\n                                    </div>\n                                </div>\n                                <div class="custom-domain__status">\n                                    <span id="domainHelp">'+this.getDomainStatus()+'</span>\n                                </div>\n                            </div>\n                            <div class="mbrsite-buttons form-row">\n                                <div class="col">\n                                    <a href="#" class="disconnnect-domain btn btn-danger w-100">'+c("Cancel")+'</a>\n                                </div>\n                                <div class="col">\n                                    <a href="#" class="custom-dmn-recheck btn btn-primary w-100">'+c("Recheck")+"</a>\n                                </div>\n                            </div>":this.isConnected&&this.isReady?'<div class="row">\n                                <label class="control-label col" for="site-settings-domain">'+c("Site Domain")+'</label>\n                            </div>\n                            <div class="row">\n                                <div class="custom-domain" style="justify-content: center;">\n                                    <div style="display: flex;flex-direction: row;justify-content: center;">\n                                        <div style="padding-right: 5px;display: flex;justify-content: center;">\n                                            <span class="control-label" style="padding-right: 10px;">https://</span>\n                                            <input id="custom-domain" type="text" class="form-control" value="'+(this.getCustomDomainInfo().name||"")+'" disabled>\n                                        </div>\n                                        '+(this.subdomain?"":'<button id="custom-dmn-settings" class="btn btn-primary" style="display: flex;"><i class="mbr-icon-cog"></i></button>')+'\n                                    </div>\n                                    <div class="custom-domain__status">\n                                        <span id="domainHelp" class="deployed">Deployed</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="mbrsite-buttons form-row">\n                                <div class="col">\n                                    <a href="#" class="disconnnect-domain btn btn-danger w-100">'+c("Disconnect")+'</a>\n                                </div>\n                                <div class="col">\n                                    <a href="#" class="custom-dmn-open btn btn-primary w-100">'+c("Open in Browser")+"</a>\n                                </div>\n                            </div>":void 0:'<div class="row">\n                                <label class="control-label col" for="site-settings-domain">'+c("Site Domain")+'</label>\n                            </div>\n                            <div class="row" style="justify-content: center;padding-bottom: 10px;">\n                                <div style="display:flex;flex-direction:row;">\n                                    <div style="padding-right: 5px;">\n                                        <span class="control-label">https://</span>\n                                        <input id="custom-domain" type="text" placeholder="yourdomain.com" class="form-control">\n                                    </div>\n                                    <button id="connect-custom-btn" class="btn btn-primary">'+c("Connect")+'</button>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col">\n                                    <input name="mbrsiteDomain" id="site-settings-domain" type="text" '+(this.getDomainInfo()?'placeholder="'+l.getSubdomain(this.getDomainInfo().name)+'"':'value="'+l.getUID(10).toLowerCase()+'"')+' class="mbrsite-domain form-control">\n                                    <label class="control-label">.'+n+'</label>\n                                    <button class="btn btn-info mbrsite-change-domain-btn pull-right" data-tooltipster="bottom" title="'+c("OK")+'">\n                                        <i class="mbr-icon-check"></i>\n                                    </button>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <small class="mbrsite-input-status col-12"></small>\n                                </div>\n                            </div>\n                            '+(this.getDomainInfo()?'<div class="mbrsite-buttons form-row">\n                                        <div class="col">\n                                            <a href="#" class="mbrsite-delete btn btn-danger w-100">'+c("Remove Domain")+'</a>\n                                        </div>\n                                        <div class="col">\n                                            <a href="#" class="mbrsite-open btn btn-primary w-100 if-custom-connected">'+c("Open in Browser")+"</a>\n                                        </div>\n                                    </div>":'<div class="mbrsite-buttons form-row">\n                                        <div class="col">\n                                            <a href="#" id="publish-default-btn" class="mbrsite-open btn btn-primary w-100 if-custom-connected">'+c("Publish")+"</a>\n                                        </div>\n                                    </div>")},t.prototype.connectCustomDomain=function(t){var i=this,e=(this.onLoad(),void 0),o=void 0;if("object"===(void 0===t?"undefined":_(t))?(e=t.closest(".mbrsite-domain-control"),o=e.find("input#custom-domain").val(),this.sidebarHTML||(this.sidebarHTML=e)):"string"==typeof t&&(o=t),/^(([a-zA-Z]{1})|([a-zA-Z]{1}[a-zA-Z]{1})|([a-zA-Z]{1}[0-9]{1})|([0-9]{1}[a-zA-Z]{1})|([a-zA-Z0-9][-_\.a-zA-Z0-9]{1,61}[a-zA-Z0-9]))\.([a-zA-Z]{2,13}|[a-zA-Z0-9-]{2,30}\.[a-zA-Z]{2,3})$/gi.test(o))return new Promise(function(e,n){i.syncDomainData().then(function(t){return i.api.post({path:"/sites/"+i.siteId+"/domains",data:JSON.stringify({name:o})}).then(function(t){i.requiredDnsRecords=t.requiredDnsRecords,i.data.domains[1]=t,i.isConnected=!0,i.subdomain=l.getSubdomain(t.name),i.onLoaded(),bootbox.hideAll(),l.$body.find("#app-project-sidebar .app-layer-close").trigger("click"),g(t.name),e(t)})}).catch(function(t){return n(t),i.onLoaded()})});throw this.onLoaded(),l.alertDlg(c("Invalid domain name")),new Error("Invalid domain name")},t.prototype.getRequiredDns=function(){var e=this;return this.api.get({path:"/sites/"+this.siteId+"/domains"}).then(function(t){t.forEach(function(t){t=t.requiredDnsRecords;t&&Array.isArray(t)&&t.length&&(e.requiredDnsRecords=t)})}).catch(function(t){e.onLoaded(),reject(t)})},t.prototype.detachCustomDomain=function(){var i=this;return this.onLoad(),new Promise(function(e,n){i.api.delete("/sites/"+i.siteId+"/domains/"+i.getCustomDomainInfo().id).then(function(t){i.data.domains=[i.data.domains[0]],i.isConnected=!1,i.isReady=!1,i.onLoaded(),l.alertDlg(c("Domain successfully detached")),e(t)}).catch(function(t){i.onLoaded(),n(t)})})};var b=t;function t(){this.data,this.siteId,this.sidebarHTML,this.publishHTML,this.isConnected,this.isReady,this.isLoading,this.requiredDnsRecords,this.subdomain,Object.defineProperty(this,"isLoading",{set:function(t){t?s(this.sidebarHTML).prepend(l.preloaderHTML):s(this.sidebarHTML).find("div.preloader").remove()}})}x(w,[{key:"getDNSRecords",value:function(){return this.customDmn?S.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records"):Promise.reject(new Error("Custom domain not exist"))}},{key:"deleteDNSRecord",value:function(t){return this.customDmn?S.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records/"+t,{method:"DELETE"}):Promise.reject(new Error("Custom domain not exist"))}},{key:"setDNSRecords",value:function(t){return this.customDmn?S.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records",{method:"POST",data:t}):Promise.reject(new Error("Custom domain not exist"))}},{key:"buildNsConstructor",value:function(r){var a=this;if(!Array.isArray(this.records))throw new Error("Invalid NS records");var e,n,i="",t=(d.forEach(function(t){switch(t){case"mx":i+='\n                <div class="ns-form__body" name="mx">\n                    <div class="ns-item">\n                        <label class="">Mail server</label>\n                        <div class="ns-input">\n                            <input name="exchange">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">Priority</label>\n                        <div class="ns-input">\n                            <input name="priority" placeholder="0 - 65535">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">TTL</label>\n                        <div class="ns-input">\n                            <input name="ttl">\n                        </div>\n                    </div>\n                </div>';break;case"txt":i+='\n                <div class="ns-form__body" name="txt">\n                    <div class="ns-item">\n                        <label class="">TTL</label>\n                        <div class="ns-input">\n                            <input name="ttl">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">Content</label>\n                        <div class="ns-input">\n                            <input name="data">\n                        </div>\n                    </div>\n                </div>'}}),s('\n                    <div class="ns-module">\n                        <div class="row ns-module__wrapper">\n                            <div class="ns-module__addbutton">\n                                <button type="button" class="btn btn-success">Add record</button>\n                            </div>\n                            <div class="ns-module__form">\n                                <div class="ns-module__form-body">\n                                    <form name="txt" class="ns-form">\n                                        <div class="ns-form__select">\n                                            <label class="">Type</label>\n                                            <div class="ns-input">\n                                                '+(e=e||d[0],n='<select name="type" class="ns-type-select">',d.forEach(function(t){n+='\n                        <option value="'+t+'" '+(t===e?"selected":"")+">\n                            "+t.toUpperCase()+"\n                        </option>\n                    "}),n)+'</select>\n                                            </div>\n                                        </div>\n                                        <div class="ns-form__body-wrapper">\n                                            '+i+'\n                                        </div>\n                                    </form>\n                                </div>\n                                <div class="ns-module__footer">\n                                    <button type="button" class="btn btn-default ns-module__cancel">Cancel</button>\n                                    <button type="button" class="btn btn-info ns-module__save">Save</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>'));function o(n,t){n=n||d[0],s(t).find('select.ns-type-select option[value="'+n+'"]').prop("selected",!0),s(t).find(".ns-form__body-wrapper .ns-form__body").each(function(t,e){s(e).attr("name")===n?s(e).show():s(e).hide()})}r.empty(),r.append(t),r.find(".ns-module__addbutton form").on("click",function(t){}),r.find(".ns-module__addbutton > button").on("click",function(t){r.find(".ns-module__form").toggleClass("open"),o(null,r)}),r.find("button.ns-module__cancel").on("click",function(t){r.find(".ns-module__form").toggleClass("open",!1)}),r.find("button.ns-module__save").on("click",function(t){var n,e=s(a.html).find(".preloader"),i=(e.show(),r.find(".ns-form__body-wrapper")),o=r.find("select.ns-type-select").val();o&&(i.find(".ns-form__body").each(function(t,e){s(e).attr("name")!==o&&s(e).remove()}),n={},i=r.find("form.ns-form").serializeArray(),s(i).each(function(t,e){n[e.name]=e.value}),n.name||(n.name=a.customDmn.name),a.setDNSRecords(JSON.stringify(n)).then(function(t){return a.getDNSRecords().then(function(t){a.records=t,a.buildNsTable(s(a.html).find("#nsrecord .nsrecord__table")),a.buildNsConstructor(r),e.hide()})}).catch(function(t){a.buildNsConstructor(r),e.hide(),console.log(t),l.alertDlg(t.message)}))}),r.find("select.ns-type-select").on("click",function(t){o(s(t.target).val(),r)})}},{key:"buildNsTable",value:function(t){var a=this,e=(this.records.sort(function(t,e){return t.type<e.type?-1:t.type>e.type?1:0}),this.records.reduce(function(t,e){var n="";return"A"===e.type&&(e.data=e.address),"SRV"===e.type?t:t+(n+='\n                    <tr data-id="'+e.id+'">\n                        <td name="type">'+e.type+'</td>\n                        <td name="name">'+e.name+"</td>\n                        "+(/MX/i.test(e.type)?'<td name="data" class="mx">\n                                <span class="priority">\n                                    '+e.priority+'\n                                </span>\n                                <span class="mserver">\n                                    '+e.exchange+"\n                                </span>\n                               </td>":'<td name="data">'+e.data+"</td>")+'\n                        <td name="ttl">'+e.ttl+"</td>\n                        "+(d.includes(e.type.toLowerCase())?'<td class="rm">\n                                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14.3 3.625L12.375 1.7 8 6.075 3.625 1.7 1.7 3.625 6.075 8 1.7 12.375 3.625 14.3 8 9.925l4.375 4.375 1.925-1.925L9.925 8 14.3 3.625z"></path></svg>\n                               </td>':"<td></td>")+"\n                    </tr>\n                ")},""));t.empty(),t.append('<table id="Table" class="Table">\n                        <thead>\n                            <tr>\n                                <th>Type</th>\n                                <th>Name</th>\n                                <th>Value</th>\n                                <th>TTL</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            '+e+"\n                        </tbody>\n                    </table> "),t.find("td.rm").on("click",function(t){var e=s(t.target).closest("tr"),n=e.attr("data-id"),i=e.find('td[name="type"]').text(),o=e.find('td[name="name"]').text(),r=(e.find('td[name="ttl"]').text(),e.find('td[name="data"]').text());bootbox.confirm({title:c("Are you sure you want to delete this record?"),message:e.clone(),className:"remove-ns",buttons:{confirm:{label:c("Delete"),className:"btn-warning"},cancel:{label:c("Cancel"),className:"btn-default"}},callback:function(t){t&&o&&i&&r&&a.deleteDNSRecord(n).then(function(t){e.remove()}).catch(function(t){l.alertDlg(c("Internal server error."))})}})})}},{key:"buildNsWindow",value:function(){var i=this;return l.showDialog({title:""+c("DNS management"),className:"domain-manager__ns-editor",body:'<div class="row">\n                            <div class="col-md-12">\n                                <div class="form-group clearfix">\n                                    <div class="row">\n                                        <div class="col-md-12" id="nsrecord" class="nsrecord">\n                                            '+l.preloaderHTML+'\n                                            <div class="nsrecord__add-new"></div>\n                                            <div class="nsrecord__table"></div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>',create:function(e){var n=s(e).find(".preloader");i.getDNSRecords().then(function(t){i.records=t,n.hide(),i.buildNsConstructor(s(e).find("#nsrecord .nsrecord__add-new")),i.buildNsTable(s(e).find("#nsrecord .nsrecord__table"))}).catch(function(t){console.error(t),bootbox.hideAll(),l.alertDlg(t.message),n.hide()})},cancel:function(t){}})}},{key:"onClick",value:function(){this.html=this.buildNsWindow()}}]);var y=w;function w(t){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.siteId=t.id,this.defaultDmn=t.domains?t.domains[0]:null,this.customDmn=t.domains?t.domains[1]:null,this.name=t.domains?this.customDmn.name:null,this.type="connected",this.html,this.records=null}l.regExtension({name:"plugin-whois",global:{filterCustomDomain:function(t,e,n){n=n||l.projectSettings.domains;return 1<n.length&&"success"===n[1].status.type?e?"https://"+n[1].name+"/":n[1].name:t},getPublicDomain:function(){var t;return S.Bridge.args.external?l.projectSettings.publicUrl:1<(t=l.projectSettings.domains||[]).length&&"success"===t[1].status.type?"https://"+t[1].name+"/":"https://"+t[0].name+"/"},withSubdomain:function(t){return t+"."+n}},events:{load:function(){var i=this;new CustomEvent("updateDomainsList");l.addFilter("sidebarProjectSettings",function(t){var e={title:"Common",name:"common",html:'<div class="form-group domain col-md-12">\n                                    <label class="control-label">Domain</label>\n                                    <div class="domains-wrapper">\n                                        '+m()+"\n                                    </div>\n                                </div>"};return t.push(e),t}),i.$body.on("click","#connectDomain",function(t){bootbox.hideAll(),s(".preview-close").click(),l.openProjectSettings(l.projectPath+"/project.mobirise"),l.fire("selectBasicDomain")}),i.$body.on("click","#domainConnectButton",function(t){l.isPremiumUser().then(function(t){if(!l.projectHasLicense()&&!t)throw l.goToBuyPremium(),new Error("Premium plan required")}).then(function(){function t(t){l.domainManager||(l.domainManager=new b),l.domainManager.syncDomainData().then(function(){return l.domainManager.connectCustomDomain(t)}).catch(function(t){"FeatureNotAvailable"===t.type&&l.goToBuyPremium()})}var e=s("#userDomain").val();if(l.projectSettings.mbrsite)return t(e);var n=l.getPublicDomain();i.publish(!1,n,function(){return l.projectSettings.mbrsite!==n&&(l.projectSettings.mbrsite=n,l.runSaveProject(null,!0)),t(e)})})}),i.$body.on("click","#domainChangeButton",function(t){var e=l.$body.find(".app-layer-common").find("#newDomain"),n=s(t.target),i=n.closest(".wrapper").find(".domains-template__status");n.addClass("loading").prop("disabled",!0),l.changeUsrDomain(e.val()).then(function(t){l.projectSettings.domains[0]=t,l.projectSettings.publicUrl="https://"+t.name+"/",l.projectSettings.mbrsite="https://"+t.name+"/",l.runSaveProject(),l.Core.$body.find(".browser-chrome .address-bar-url").text(t.name),n.removeClass("loading").prop("disabled",!1),i.html(c("Changed")),e.addClass("success"),setTimeout(function(){i.html(""),e.removeClass("success")},1500),l.fire("userDomainChanged",e.val())},function(t){n.removeClass("loading").prop("disabled",!1),e.addClass("err"),i.addClass("danger").html(t.message)})}),i.$body.on("click","#domainRemoveButton",function(t){var e=s(t.target);bootbox.confirm(c("Do you really want to disconnect this domain?"),function(t){t&&(e.addClass("loading").prop("disabled",!0),l.deleteUsrDomain(l.projectSettings.id).then(function(t){l.infoUsrDomain(l.projectSettings.id).then(function(t){l.projectSettings.domains=t.domains,p(!1),l.Core.$body.find(".browser-chrome .address-bar-url").text(t.domains[0].name),l.$body.find("#app-project-sidebar .app-layer-close").trigger("click")})},function(t){throw bootbox.alert(c("Something went wrong. Domain disconnecting issue.")),e.removeClass("loading").prop("disabled",!1),new Error(t)}))})}),i.$body.on("click","#domainInfo",function(t){g(s(t.target).closest(".domains-template").find("#userDomain").val())}),i.$body.on("click",".domain-settings-modal .domain-copy",function(t){s(t.target).siblings("input.domain-readonly").select(),document.execCommand("copy"),s(t.target).addClass("copied").text(c("Copied")),setTimeout(function(){s(t.target).text("Copy").removeClass("copied"),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},500)}),l.on(["showProjectSettings","showProjectsList"],function(t){1<l.projectSettings.domains.length&&l.infoUsrDomain(l.projectSettings.id).then(function(t){1<l.projectSettings.domains.length&&1<t.domains.length&&l.projectSettings.domains[1].status.type!==t.domains[1].status.type&&(l.projectSettings.domains=t.domains,l.$body.find(".app-layer-common").length)&&(p(!0),l.Core.$body.find(".browser-chrome .address-bar-url").text(t.domains[1].name))})}),l.on("shownProjectSettings",function(t){s(t.target).find(".domains-template__input").each(function(t,e){s(e).off().on("focus",v)})}),l.on("selectBasicDomain",function(t){l.$body.find(".app-layer-common .domains-template").addClass("selected")})},loadedProject:function(){var n,i=this;S.Bridge.args.external||(l.domainManager=new b,l.projectSettings.publicUrl=l.getPublicDomain(),l.domainManager.syncDomainData(),n=l.projectSettings.domains[1]||null,l.domainManager.getMyOwnDomains().then(function(t){t&&n&&t.forEach(function(t,e){!t.name&&t.customDmn.name!==n.name||i.$body.on("click","#custom-dmn-settings, #dnsManagerButton",t.onClick.bind(t))}),o=t}))}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";defineM("user-licenses",function(i,o,u,t){n.prototype.renderLicenses=function(){var t,e,n,i,o,r=this,a=this.state.data;return a.length&&(t={type:"subscription",data:a.filter(s("subscription"))},e={type:"theme",data:a.filter(s("theme"))},n={type:"plugin",data:a.filter(s("plugin"))},i={type:"site_plan",data:a.filter(s("site_plan"))},o={type:"archive",data:a.filter(s(null,!0))},t.data.forEach(function(e){o.data=o.data.filter(function(t){return t.items[0].name!==e.items[0].name})}),""+l(t)+l(e)+l(n)+l(i)+l(o))||'<span class="user-licenses-wrap__nolicense">'+u("No active licenses")+"</span>";function s(i,o){return function(t){var e=t.items[0]&&t.items[0].expiredDate,n=+new Date;return!!e&&(o?1e3*e<n:t.items[0].type===i&&n<=1e3*e)}}function l(t){if(!t.data.length)return"";switch(t.type){case"subscription":return"\n                            <label>"+u("Kits")+"</label>\n                            "+c(t.data);case"theme":return"\n                            <label>"+u("Themes")+"</label>\n                            "+c(t.data);case"plugin":return"\n                            <label>"+u("Extensions")+"</label>\n                            "+c(t.data);case"site_plan":return"\n                            <label>"+u("Sites")+"</label>\n                            "+c(t.data);case"archive":return'\n                            <label class="collapsed" data-toggle="collapse" href="#archiveList">\n                                <span style="margin-right: 5px">'+u("Expired")+'</span>\n                                <span class="user-license__expired-icon mbr-icon-angle-right"></span>\n                            </label>\n                            <div class="collapse" id="archiveList">\n                                '+c(t.data)+"\n                            </div>";default:return""}}function c(t){var i={year:"numeric",month:"long",day:"numeric"};return t.reduce(function(t,n){return t+n.items.map(function(e){return'<div id="license-'+n.id+'" class="user-license">\n                            <div>\n                                <span>'+("subscription"===e.type?e.paymentTitle:e.title)+"</span>\n                                "+("site_plan"===e.type?'<span class="user-license__domain"><a href="javascript:void(0)" dataHref="'+d(r.state.sites.items.find(function(t){return t.id===e.params.site.id}))+'">'+d(r.state.sites.items.find(function(t){return t.id===e.params.site.id}))+"</a></span>":"")+'\n                            </div>\n                            <div>\n                                <span class="user-license__expiration '+((t=e.expiredDate)&&+new Date+6048e5>1e3*t?"expires":"")+'">\n                                    '+new Date(1e3*e.expiredDate).toLocaleDateString("en-US",i)+"\n                                </span>\n                            </div>\n                        </div>";var t})},"")}function d(t){return t&&t.domains?t.domains[t.domains.length-1].name:""}},n.prototype.getPlansLicenses=function(){return this.state.data.filter(function(t){return"site_plan"===t.items[0].type})},n.prototype.getSubscription=function(){return this.state.data.filter(function(t){return"subscription"===t.items[0].type})},n.prototype.show=function(){var n=this;o.showDialog({title:u("User Licenses"),className:"app-user-licenses",body:'<div class="row"><div id="user-licenses-wrap" class="col-md-12"></div></div>',show:function(e){n.state.modal=e,o.fire("showUserLicenses",e),n.state.loading=!0,n.state.modal.find("#user-licenses-wrap").html(o.preloaderHTML),n.serverSync().then(function(){return n.getUserSites()}).then(function(t){return n.state.sites=t,n.renderLicenses()}).then(function(t){e.find("#user-licenses-wrap").html(t),e.find("a[dataHref]").each(function(t,e){i(e).click(function(t){o.openUrl("https://"+i(e).attr("dataHref"))})})})},hide:function(){n.state.shown=!1,n.state.modal=null}}),this.state.shown=!0},n.prototype.close=function(){this.state.shown&&this.state.modal&&(this.state.shown=!1,this.state.modal.remove(),this.state.modal=null)},n.prototype.serverSync=function(){var e=this,n=i.Deferred();return t.licenses().then(function(t){e.state.data=t,n.resolve(t)},function(t,e){n.reject(t),o.handleServerError(t,e)}),n},n.prototype.getUserSites=function(){var e=i.Deferred();return o.domainManager?(o.domainManager.api.get("/me/sites").then(function(t){e.resolve(t)}),e):e.resolve([])};var e=n;function n(){this.state={shown:!1,modal:null,loading:!1,data:[],sites:[]}}o.regExtension({name:"user-licenses",global:{userLicenses:new e},events:{initAccountSettings:function(t){t.find("#app-settings-btn").after('<div class="hover-block" id="app-user-licenses"><label>'+u("Licenses")+"</label></div>")},load:function(){i("#app-user-licenses").click(function(){o.userLicenses.show()})},loaded:function(){o.userLicenses.serverSync()}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";defineM("app-plugin-help",function(o,r,a,s,l){r.regExtension({name:"help",global:{helpBtn:".helpme-block",helpLoginMsg:a("Please sign up/login to contact us or get the access to public forums"),showHelp:function(e){r.checkSign(function(t){var n,i;t&&((n=r.getUserInfo())&&n.email?(e=e||{},i=r.showDialog({title:a("Help"),className:"help-dialog",body:"<p>"+a("Please visit %Help Center% or %Forums% before contacting us.").replace(/%(.[^%]+)%/,' <b><a class="link-help" href="https://mobirise.com/help/">$1</a></b>').replace(/%(.[^%]+)%/,'<b><a class="link-forum" href="http://forums.mobirise.com">$1</a></b>')+'</p><a class="btn btn-help" href="https://mobirise.com/help/">'+a("Visit Help Center")+'</a><a class="btn btn-primary link-forum" href="http://forums.mobirise.com">'+a("Visit Forums")+"</a><br/><br/><h4>"+a("Send us a message")+"</h4><span>"+a("From")+':</span><input class="form-control email" disabled="disabled" value="email@email.com" style="margin-bottom: 10px"></input><span>'+a("Message")+':</span><textarea rows="4" class="form-control" placeholder="'+a("Please explain in details what happened and what steps we can take to reproduce the problem.")+'"></textarea>',buttons:{send:{label:a("SEND"),default:!0,callback:function(){var e=i.find("textarea").val();if(!e||e.length<100)return r.alertDlg(a("Your message is too short. Please add more details")),!1;e+="\n--------------\n",r.getAddonsListAsText(function(t){e=(e=(e+=s.appName+" "+s.version+"\n")+"Platform: "+s.getPlatform()+", "+window.navigator.userAgent+"\nAddons: "+t)+"Data location: "+s.dataLocation,l.sendMessage("support",e).then(function(){r.alertDlg(a("Your message has been successfully sent!")+"<br/> "+a("We will reply to your email $userEmail$ shortly.").replace("$userEmail$","<b>"+n.email+"</b>")).on("hidden.bs.modal",function(){i.hide()})},function(t,e){r.alertDlg(t),r.handleServerError(t,e)})})}}},show:function(t){t.find("textarea").val(e.message||""),t.find(".link-forum").attr("href","javascript:void(0)").click(function(){l.url("forum").then(function(t){r.openUrl(t)},function(t,e){r.alertDlg(t),r.handleServerError(t,e)})}),t.find(".link-help, .btn-help").click(function(t){t.preventDefault(),r.openUrl("https://mobirise.com/help/")}),t.find(".email").val(n.email),t.on("shown.bs.modal",function(){o(this).find("textarea").focus()}),t.on("hidden.bs.modal",function(){o(this).data("modal",null),e.onhide&&e.onhide(),o(this).remove()})}})):console.log("Error: wrong checkSign"))},r.helpLoginMsg)}},events:{load:function(){var t=this;t.helpBtn=r.addSidebarItem({title:a("Help"),className:"helpme-block",tooltip:a("Visit Help Center or Contact Us"),onclick:function(){t.showHelp()}})}}})},["jQuery","mbrApp","TR()","Bridge","mbrServer"])},function(t,e,n){"use strict";!function(i){var t=n(142),u=(t=t)&&t.__esModule?t:{default:t},p=n(23);defineM(function(d,s,n){s.regExtension({name:"app-plugin-zip-project",global:{createZipProject:function(){var a=this;s.isPremiumUser().then(function(t){if(!s.projectHasLicense()&&!t)throw s.goToBuyPremium(),new Error("Premium plan required")}).then(function(){return s.applyFilter("createZipProject",Promise.resolve())}).then(function(){s.publish(!1,null,function(){function l(t){return(t=t.replace(/\?.+$/g,"")).replace(/https?:\/\/.*?\/.*?\/.*?\//g,"")}var e=d(s.preloaderHTML),r=(s.$body.find(".site-settings-modal .modal-content").prepend(e),[]),c=(s.prepareProjectText(),p.Bridge.zip());s.Core.getResultProject();u.default.dirList(mbrApp.projectSettings.path).then(function(t){var o=Object.keys(s.Core.getResultProject().pages);t.map(function(n,t){var i,e;/\.html$/.test(n)&&o.includes(n)&&0!==n.indexOf("google")&&(i=d.Deferred(),r.push(i),u.default.loadLocalFile(mbrApp.projectSettings.path+"/"+n).then(function(t){return t=t,o=[],e=/(<amp-img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,e=s.isAMP()?/(<amp-img.*?src=")([^">]*\/[^">]*?)(".*?>)/g:/(<img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,t=(t=(t=(t=(t=t.replace(e,function(t,e,n,i){return o.push(n),e+"assets/"+l(n)+i})).replace(/(url\(['"]?)(.*?)(['"]?\);)+/g,function(t,e,n,i){return 0!==n.indexOf("http")?t:(o.push(n),e+"assets/"+l(n)+i)})).replace(/(<link.*?rel="shortcut icon".*?href=")([^">]*\/[^">]*?)(".*?>)/g,function(t,e,n,i){return o.push(n="assets/images/logo5.png"===n?"app/builder/images/logo5.png":n),e+"assets/"+l(n)+i})).replace(/(<link.*?rel="canonical".*?href=")([^">]*\/[^">]*?)(".*?>)/g,function(t,e,n,i){n=n.split("/");return e+(n[n.length-1]?n[n.length-1]:"/")+i})).replace(/(<script.*?src=")([^">]*\/[^">]*?)(".*?>)/g,function(t,e,n,i){return o.push(n),e+"assets/"+l(n)+i}),d.Deferred().resolve(t,o);var o,e}).then(function(t,e){var s;c.file(n,t),e?(s=[],e.forEach(function(t,e){var n,i,o,r,a;-1!==t.indexOf("dummy")&&((n=t.split("?")).pop(),t=n.join("")),s.push((i=t,o=c,r="assets",a=d.Deferred(),p.Bridge.loadLocalBase64(i,function(t){t?o.file((r||"")+"/"+l(i),t,{base64:!0}):console.log("Loading image error: "+(r||"")+"/"+l(i)),a.resolve()}),a))}),d.when.apply(a,s).then(function(){console.log("all files from "+n+" page are uploaded"),i.resolve()},function(t){console.error(t),i.reject()})):i.resolve()})),(/robots\.txt$/.test(n)||/project\.mobirise$/.test(n)||/manifest\.json$/.test(n)||/sw\.js$/.test(n)||/sw-toolbox\.js$/.test(n))&&(e=d.Deferred(),r.push(e),u.default.loadLocalFile(mbrApp.projectSettings.path+"/"+n).then(function(t){c.file(n,t),e.resolve()},function(t){e.reject()}))}),d.when.apply(a,r).then(function(){console.log("All promise resolved. Starting zip process..."),c.generateAsync({type:"blob"}).then(function(t){p.Bridge.saveAs(t,(t=mbrApp.projectSettings.title,(t=/^[A-Za-z0-9]*$/.test(t)?t:new i(t).toString("hex"))+".zip")),e.remove()},function(t){console.error(t),e.remove()})},function(t){e.remove(),bootbox.alert(n("Something went wrong"))})},function(t){console.error(t),e.remove()})})}).catch(function(t){console.error(t)})}}})},["jQuery","mbrApp","TR()"])}.call(this,n(370).Buffer)},function(t,e,n){"use strict";var s=n(23);defineM("progressive-web-app",function(e,i,n){function o(){return!i.projectSettings.PWA||!i.projectSettings.PWA.enabled}var r=s.Bridge.base+"assets/progressive-web-app",a=r+"/icons/512x512.png";i.$body.on("change","#pwa-switcher",function(){i.$body.find(".pwa-edit")[0].classList.toggle("hidden"),i.projectSettings.PWA?i.projectSettings.PWA.enabled=this.checked:i.projectSettings.PWA={enabled:this.checked},i.runSaveProject(!1,!0)}),i.$body.on("click","#pwa-edit",function(){i.showDialog({title:n("Enter your PWA parameters"),className:"pwa-edit-modal",size:"small",body:'<div class="row">\n                        <div class="form-group col-md-12 col-sm-12">\n                            <p>App Name</p>\n                            <input type="text" class="form-control" id="pwa-name" placeholder="'+i.projectSettings.name+'" value="'+(i.projectSettings.PWA.name||"")+'">\n                        </div>\n                        <div class="form-group col-md-12 col-sm-12 pwa-icon-field">\n                            <p>Icon</p>\n                            <img src="'+(i.projectSettings.PWA.icon||a)+'" id="pwa-current-icon" class="img-responsive">\n                            <button id="pwa-icon-change-btn" class="btn btn-primary">Change Icon</button>\n                        </div>\n                        <div class="form-group col-md-12 col-sm-12 pwa-color-field">\n                            <p>Theme Color</p>\n                            <input type="color" class="form-control" id="pwa-theme-color" value="'+(i.projectSettings.PWA.themeColor||i.projectSettings.theme.styling.primaryColor)+'">\n                        </div>\n                    </div>',create:function(t){e(t).find("#pwa-theme-color").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:n("More")+" >",togglePaletteLessText:n("Less")+" <",maxSelectionSize:1,palette:i.getThemeColorsSet(7),move:function(t){e(this).val(t.toHexString())}})},success:function(t){var e=i.projectSettings.PWA;e.name=t[0].querySelector("#pwa-name").value.trim(),e.icon=t[0].querySelector("#pwa-current-icon").src,e.themeColor=t[0].querySelector("#pwa-theme-color").value,i.runSaveProject(!1,!0)},cancel:function(){}})}),i.$body.on("click","#pwa-icon-change-btn, #pwa-current-icon",function(){s.Bridge.openImage("Select 512x512px PNG Icon",i.projectPath?i.projectPath+"/icons":"","",{width:"512",height:"512",keepAspectRatio:!1,format:"png"},function(t){t&&e("#pwa-current-icon").attr("src",s.Bridge.path2app(t))},!1)}),i.addFilter("publishFiles",function(t){return o()||(t.push({srcList:[{src:r+"/sw.js"}],dest:"sw.js"},{srcList:[{src:"manifest.json",filter:"template"}],dest:"manifest.json"}),i.projectSettings.PWA.icon?t.push({srcList:[{src:i.projectSettings.PWA.icon}],dest:"icons/512x512.png"}):t.push({srcList:[{src:a}],dest:"icons/512x512.png"}),i.isAMP())||t.push({srcList:[{src:r+"/sw-connect.js"}],dest:"sw-connect.js"}),t}),i.addFilter("publishTemplating",function(t,e){var n;return!o()&&"manifest.json"==e?(e=i.projectSettings.PWA,n=i.projectSettings,e={name:e.name||n.name,short_name:e.name||n.name,start_url:"/",display:"standalone",theme_color:e.themeColor||n.theme.styling.primaryColor,background_color:e.themeColor||n.theme.styling.primaryColor,icons:[{src:i.projectSettings.resourcesUrl+"icons/"+(i.projectSettings.PWA.icon?s.Bridge.splitPath(i.projectSettings.PWA.icon).name+".png":"512x512.png"),sizes:"512x512",type:"image/png"}]},JSON.stringify(e)):t}),i.addFilter("publishHTML",function(t){return t=o()?t:i.isAMP()?(t=t.replace("</head>",'<meta name="theme-color" content="'+(i.projectSettings.PWA.themeColor||i.projectSettings.theme.styling.primaryColor)+'">\n                     <link rel="manifest" href="manifest.json">\n                     <script async custom-element="amp-install-serviceworker" src="https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js"><\/script></head>')).replace("</body>",'<amp-install-serviceworker src="sw.js" layout="nodisplay"></amp-install-serviceworker></body>'):t.replace("</head>",'<meta name="theme-color" content="'+(i.projectSettings.PWA.themeColor||i.projectSettings.theme.styling.primaryColor)+'">\n                     <link rel="manifest" href="manifest.json">\n                     <script src="sw-connect.js"><\/script></head>')}),i.addFilter("changeProjectSettings",function(t,e){return t.hasOwnProperty("pwa-switcher")?i.fire("settingsPWAEnable",!0):i.fire("settingsPWAEnable",!1),t}),i.regExtension({name:"progressive-web-app",events:{load:function(){i.addFilter("additionalSiteSettings",function(t){return t+('<div class="form-group row clearfix">\n                            <label class="col-md-3 control-label" for="pwa-switcher">Progressive Web App</label>\n                            <div class="col-md-9">\n                                <div class="pwa-inner">\n                                    <div class="togglebutton">\n                                        <label style="width: 100%;">\n                                            <input type="checkbox" id="pwa-switcher" name="pwa-switcher" '+(o()?"":"checked")+'>\n                                            <span class="toggle" style="margin-top: -6px;"></span>\n                                        </label>\n                                    </div>\n                                    <button id="pwa-edit" class="btn btn-primary pwa-edit '+(o()?"hidden":""))+'" type="button">PWA Settings</button>\n                                </div>\n                            </div>\n                        </div>'})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var s=n(469);defineM(function(e,a,n){a.regExtension({name:"dropCSS",events:{load:function(){a.isAMP()&&(a.addFilter("additionalSiteSettings",function(t){return t+'<div class="form-group row clearfix">\n\t\t\t\t            <label class="col-md-3 control-label">'+n("Remove Unused Css")+'</label>\n                            <div class="togglebutton col-md-9">\n                                <label style="width: 100%">\n                                    <input id="unuse-css-check" type="checkbox" '+(a.projectSettings.cleanCSS?"checked":"")+'>\n                                    <span class="toggle" style="margin-top: -6px;"></span>\n                                </label>\n                            </div>\n                        </div>'}),a.$body.on("change","#unuse-css-check",function(t){a.projectSettings.cleanCSS=e(t.target).prop("checked")}))},loadProject:function(){a.addFilter("publishTemplating",function(t){var e,n,i,o,r;return a.projectSettings.cleanCSS&&(r=t.match(/<body>[^]*<\/body>/),e=t.match(/<style amp-custom>([^]*)<\/style>/),r)&&e&&(r=r[0],n=e[1],i=/amp|cookie|scroll/,o=new Set,r=s({html:r,css:n,shouldDrop:function(t){return!i.test(t)&&(o.add(t),!0)}}),t=t.replace(e[0],"<style amp-custom>"+r.css+"</style>")),t})}}})},["jQuery","mbrApp","TR()"])},function(t,s,l){"use strict";function d(t,e,n){throw new Error(t+' parser stopped here: "'+e.substring(n,n+100)+'"')}var c=1,u=2,p=3,f=new Set("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),h=/<!doctype[^>]*>|<!--[\s\S]*?-->|<script[^>]*>[\s\S]*?<\/script>|<style[^>]*>[\s\S]*?<\/style>|<link[^>]*>|<meta[^>]*>/gim,m={NAME:/\s*<([\w-]+)\s*/imy,ATTR:/\s*([\w-:]+)(?:="([^"]*)"|='([^']*)'|=([\w-]+))?\s*/imy,TAIL:/\s*(\/?>)\s*/imy,TEXT:/\s*[^<]*/my,CLOSE:/\s*<\/[\w-]+>\s*/imy};function g(t){var e,n,i=0,o=[];function r(t){for(var e in i=t.lastIndex,m)m[e].lastIndex=i}for(var a=i;i<t.length;){if(s=l=void 0,null!=m.CLOSE.exec(t))r(m.CLOSE),o.push(p);else if(null!=(e=m.NAME.exec(t))){r(m.NAME);var s,l=e[1];for(o.push(c,l);n=m.ATTR.exec(t);)r(m.ATTR),(s=s||new Map).set(n[1],(n[2]||n[3]||n[4]||"").trim());s&&o.push(u,s),n=m.TAIL.exec(t),!f.has(l)&&"/>"!=n[1]||o.push(p),r(m.TAIL)}else null!=m.TEXT.exec(t)&&r(m.TEXT);a===i&&d("html",t,i),a=i}return r({lastIndex:0}),o}var v=new Set;function b(t,e,n){return{tagName:e,attributes:n,classList:null!=n&&n.has("class")?new Set(n.get("class").split(/\s+/g)):v,parentNode:t,childNodes:[]}}var o=[];function y(t,e){var n,i;return null!=t?(n=t._ofTypes=t._ofTypes||{},e in n||(i=0,n[e]=t.childNodes.filter(function(t){if(t.tagName==e)return t._typeIdx=i++,!0})),n[e]):o}function w(t){for(var e,t=g(t=t.replace(h,"")),i={nodes:[],tag:new Set(["*"]),class:new Set,attr:new Set},n=t,o=function(t,e){var n;e=e,n=i,(t=t).idx=e,e=t.attributes,n.tag.add(t.tagName),t.classList.forEach(function(t){return n.class.add(t)}),e.has("id")&&n.attr.add("[id="+e.get("id")+"]"),e.has("type")&&n.attr.add("[type="+e.get("type")+"]"),n.nodes.push(t)},r=b(null,"root",v),a=0;a<n.length;a++)switch(n[a]){case c:var s=n[++a],l=v;n[a+1]===u&&(l=n[a+=2]),e=r.childNodes.length,r.childNodes.push(r=b(r,s,l)),o(r,e);break;case p:r=r.parentNode}return i}var x=/\s*\/\*[\s\S]*?\*\/\s*/gm,e=/\s*[>~+.#]\s*|\[[^\]]+\]|\s+/gm,_=1,k=2,S=3,C=4,P=5;function T(t){t=t.split(/\s*,\s*/gm);return t.push(t.map(function(t){return function(t){for(var e=t.length;(t=t.replace(n,"")).length!=e;)e=t.length;return t.replace(/:?:[a-z-]+/gm,"")}(t).trim().replace(e,function(t,e){return t=t.trim(),0==e?t:"."==t||"#"==t?"`"+t:t.length<=1?"`":"`"+t.replace(/['"]/gm,"")}).split(/`+/gm)})),t}var n=/:[a-z-]+\([^()]*\)/;function j(t,e,n,i){for(var o="",r=1;t[e]==n?r++:t[e]==i&&r--,0!=r;)o+=t[e++];return o}function E(t){var e,n={RULE_HEAD:/\s*([^{;]+?)\s*[{;]\s*/my,RULE_TAIL:/\s*([^}]*?)\s*\}/my,AT_TAIL:/\s*\}/my,RULE_FULL:/\s*([^{]*?)\{([^}]+?)\}/my},i=0,o=0,r=[];function a(t){for(var e in o=t.lastIndex,n)n[e].lastIndex=o}for(var s=o;o<t.length;){if(c=l=void 0,0<i&&null!=(e=n.AT_TAIL.exec(t)))i--,r.push(k),a(n.AT_TAIL);else if(null!=(e=n.RULE_HEAD.exec(t))){var l=e[1];if(a(n.RULE_HEAD),"@"==l[0])switch(l.match(/@[a-z-]+/)[0]){case"@media":case"@supports":case"@document":i++,r.push(_,l);break;case"@import":case"@charset":case"@namespace":r.push(P,l+";");break;default:i++;var c=j(t,o,"{","}");a({lastIndex:o+c.length}),r.push(_,l,P,c)}else r.push(S,T(e[1])),e=n.RULE_TAIL.exec(t),r.push(C,e[1]),a(n.RULE_TAIL)}else o=t.length;s===o&&d("css",t,o),s=o}return r}function A(t){return t.replace(/@[a-z-]+[^{]+\{\s*\}/gm,"")}function L(t){var e,n,i,o={IDENT:/([\w*-]+)/iy,ATTR:/([\w-]+)(?:(.?=)["']?([^\]]*?)["']?)?\]/iy,PSEUDO:/([\w-]+)(\()?/iy,MODE:/\s*[:.#\[]\s*/iy,COMB:/\s*[>~+]\s*|\s+/iy},r=0,a=[],s=-1;function l(t){for(var e in r=t.lastIndex,o)o[e].lastIndex=r}for(;r<t.length;)i=n=void 0,(e=o.COMB.exec(t))?(n=e[0].trim(),a.push(n=""==n?" ":n),l(o.COMB),s=a.length-1):(e=o.MODE.exec(t))?(n=e[0].trim(),l(o.MODE),":"==n?("("==(e=o.PSEUDO.exec(t))[2]&&(i=j(t,o.PSEUDO.lastIndex,"(",")"),o.PSEUDO.lastIndex+=i.length+1,e[2]="not"==e[1]?L(i):i),a.splice(s+1,0,e[2],e[1],n),l(o.PSEUDO)):"["==n?(e=o.ATTR.exec(t),a.splice(s+1,0,e[3],e[2],e[1],n),l(o.ATTR)):(e=o.IDENT.exec(t),a.push(e[1],n),l(o.IDENT))):(e=o.IDENT.exec(t))&&(a.push(e[1],"_"),l(o.IDENT));return a}var r=/^([+-]?\d*)?n([+-]\d+)?$/;function O(t,e,n,i){i=i||"=";t=t.attributes;if(t.has(e)){var o=t.get(e);switch(i){case"=":return null==n||n==o;case"*=":return-1!=o.indexOf(n);case"^=":return o.startsWith(n);case"$=":return o.endsWith(n);case"~=":return n==o||o.startsWith(n+" ")||o.endsWith(" "+n)||-1!=o.indexOf(" "+n+" ")}}return!1}function $(t,e){var n,i,e="odd"==e?t%2==1:"even"==e?t%2==0:/^\d+$/.test(e)?t==+e:(e=e,e=null!=(e=r.exec(e))?[i=null==(i=e[1])||"+"==i?1:"-"==i?-1:+i,i=null==(i=e[2])?0:+i]:[0,0],i=e[0],t=t,!((e=e[1])<0&&i<=0)&&(-1===i?t<=e:0===i?t===e:1===i?e<0||e<=t:((n=e%i)<0&&(n+=i),1<i?e<=t&&t%i===n:(i*=-1,t<=e&&t%i===n))));return e}function D(t,e){return t.some(function(t){return function t(e,n){for(var i,o,r,a;-1<n.idx;){switch(e[n.idx]){case"_":l=e[--n.idx],r=n.node,o=(a=l)==r.tagName||"*"==a,n.idx--;break;case"#":c=e[--n.idx],o=O(n.node,"id",c,"="),n.idx--;break;case".":l=e[--n.idx],r=n.node,a=l,o=r.classList.has(a),n.idx--;break;case"[":l=e[--n.idx],i=e[--n.idx],c=e[--n.idx],o=O(n.node,l,c,i),n.idx--;break;case":":var s,l=e[--n.idx],c=e[--n.idx],d=n.node,u=d.tagName,p=d.idx,f=(s=d.parentNode)?s.childNodes.length:1,h=void 0;switch(l){case"not":o=!t(c,{node:n.node,idx:c.length-1});break;case"first-child":o=0==p;break;case"last-child":o=p==f-1;break;case"only-child":o=1==f;break;case"nth-child":o=$(p+1,c);break;case"nth-last-child":o=$(f-p,c);break;case"first-of-type":h=y(s,u),o=0==d._typeIdx;break;case"last-of-type":h=y(s,u),o=d._typeIdx==h.length-1;break;case"only-of-type":o=1==(h=y(s,u)).length;break;case"nth-of-type":h=y(s,u),o=$(d._typeIdx+1,c);break;case"nth-last-of-type":o=$((h=y(s,u)).length-d._typeIdx,c)}n.idx--;break;case" ":for(p=--n.idx,o=!1;!o&&null!=(s=n.node.parentNode);)n.idx=p,n.node=s,o=t(e,n);break;case">":n.idx--,o=null!=(s=n.node.parentNode)&&(n.node=s,t(e,n));break;case"+":n.idx--,o=null!=(s=n.node.parentNode)&&0<n.node.idx&&(n.node=s.childNodes[n.node.idx-1],t(e,n));break;case"~":if(n.idx--,o=!1,p=n.node.idx,null!=(s=n.node.parentNode)&&0<p)for(var m=0;m<p&&!o;m++)n.node=s.childNodes[m],o=t(e,n)}if(!o)break}return o}(e,{idx:e.length-1,node:t})})}function F(t,e,n,i,o){o=o||"";for(var r,a,s,l=e.length-1;-1<l;l--){var c=e[l];n.has(c[2])||!0!==i(o+c[2])||(r=t,a=c[0],c=c[1],s="",t=r.slice(0,a)+s+r.slice(a+c))}return t}var a=/([{};])\s*(--[\w-]+)\s*:\s*([^;}]+);?\s*/gm,i=/var\(([\w-]+)\)/gm,I=/\s*,\s*/gm;function M(t){return t.trim().replace(/'|"/gm,"").split(I)}function B(t,e){var n=function(t){for(var e,n={};i.test(t);){for(;e=a.exec(t);)n[e[2]]=e[3];t=t.replace(i,function(t,e){return i.test(n[e])?t:n[e]})}return t}(t).replace(a,function(t,e){return e});return(t=function(i){for(var t=i;(t=(i=t).replace(a,function(t,e,n){return-1!=i.indexOf("var("+n+")")?t:e}))!=i;);return t}(t=function(t,e,n){for(var i,o="@font-face[^}]+\\}+",r=RegExp(o,"gm"),a=[];i=r.exec(t);)a.push([i.index,i[0].length]);for(var s,l="font-family:([^;!}]+)",c=RegExp(l),d=0;i=r.exec(e);)s=c.exec(i[0]),a[d++].push(M(s[1])[0]);for(var u=new Set,p=RegExp(o+"|"+l,"gm");i=p.exec(e);)"@"!==i[0][0]&&M(i[1]).forEach(function(t){return u.add(t)});for(var f,h=/font:([^;!}]+)/gm,m=/\s*(?:['"][\w- ]+['"]|[\w-]+)\s*(?:,|$)/gm;i=h.exec(e);){for(f="";s=m.exec(i[1]);)f+=s[0];M(f).forEach(function(t){return u.add(t)})}return F(t,a,u,n,"@font-face ")}(t=function(t,e,n){for(var i,o=[],r=/@(?:-\w+-)?keyframes\s+([\w-]+)\s*\{/gm;i=r.exec(t);){var a=j(t,r.lastIndex,"{","}");o.push([i.index,i[0].length+a.length+1,i[1]])}for(var s=new Set,l=/animation(?:-name)?:([^;!}]+)/gm;i=l.exec(e);)i[1].trim().split(I).forEach(function(t){var e=t.match(/^\S+/)[0];/^-?[\d.]+m?s/.test(e)&&(e=t.match(/\S+$/)[0]),s.add(e)});return F(t,o,s,n,"@keyframes ")}(t,n,e),n,e))).replace(/[^{}]+\{\s*\}/gm,"")}var N=/\[([\w-]+)(?:(.?=)"?([^\]]*?)"?)?\]/i,R=/:(?:first|last|nth|only|not)\b/;function U(t){return!0}t.exports=function(t){for(var i=w(t.html,t.keepText),o=t.shouldDrop||U,e=E(t.css.replace(x,"")),r={},n=0;n<e.length;n++){var a=e[n];if(a===S){var s=e[n+1],l=s[s.length-1];n++;for(var c=0;c<l.length;c++)for(var d=l[c],u=0;u<d.length;u++){var p,f=d[u],h=!1,m=void 0;if(""!=f){if(f in r)h=r[f];else switch(f[0]){case"#":m=f.substr(1),r[f]=h=i.attr.has("[id="+m+"]");break;case".":m=f.substr(1),r[f]=h=i.class.has(m);break;case"[":f.startsWith("[type=")?r[f]=h=i.attr.has(f):(p=f.match(N),r[f]=h=i.nodes.some(function(t){return O(t,p[1],p[3],p[2])}));break;default:r[f]=h=i.tag.has(f)}if(!h){!0===o(s[c])?s[c]=null:r[s[c]]=!0;break}}}}}for(var g=0;g<e.length;g++)e[g]===S&&(e[++g].length,e[g]=e[g].filter(function(t){var e,n;return"string"==typeof t&&(t in r?r[t]:""==(n=t.replace(/:?:[a-z-]+/gm,function(t){return t.startsWith("::")||!R.test(t)?"":t}).replace(/:[a-z-]+\(\)/gm,""))||(n in r?r[n]:r[n]=(e=i.nodes,n=n,D(e,Array.isArray(n)?n:L(n))||!0!==o(t))))}));var t=new Set,v=function(t,e){for(var n="",i=0,o=0;o<t.length;o++)switch(t[o]){case S:var r=t[++o];0<(i=r.length)&&(r.forEach(function(t){return e.add(t)}),n+=r.join());break;case C:0<i&&(n+="{"+t[++o]+"}");break;case _:n+=t[++o]+"{";break;case k:n+="}";break;case P:n+=t[++o]}return A(n)}(e,t);return{css:A(B(v,o)),sels:t}}},function(t,e,n){"use strict";defineM("google-analytics",function(i,o,n){o.regExtension({name:"google-analytics",events:{load:function(){o.addFilter("publishHTML",function(t){var e=o.projectSettings["google-analytics"]||"";return e?t.replace("<body>","<body>\n\n\x3c!-- Analytics --\x3e\n"+e+"\n\x3c!-- /Analytics --\x3e\n\n"):t}),o.addFilter("sidebarProjectSettings",function(t){var e={title:"SEO & Analytics",name:"seo-analytics",html:'<div class="form-group col-md-12"><label class="control-label" for="site-settings-google-analytics">'+n("Analytics")+'</label><textarea id="site-settings-google-analytics" rows="5" name="google-analytics" placeholder="'+n("Paste your Analytics code snippet here or paste any other code that you want to have on every page immediately after the opening $body$ tag.").replace("$body$","&lt;body&gt;")+'" class="form-control"></textarea></div>'};return t.push(e),t})},shownSidebarProjectSettings:function(t,e){var n=o.projectSettings["google-analytics"]||"";i("#site-settings-google-analytics").val(n),i("#site-settings-google-analytics").change(function(t){o.projectSettings["google-analytics"]=t.target.value,o.changeProjectSettings(e,{"google-analytics":t.target.value})})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i=n(371),p=(i=i)&&i.__esModule?i:{default:i},f=n(23);defineM(function(o,r,a){var s="User-agent: *\r\nDisallow: /cgi-bin\r\n";function l(t){var e,n,i=r.Core.getPages(),o=[];for(n in t=(e=(t=t.match(/\/$/i)?t.slice(0,-1):t).match(/https?:\/\//i)[0])+p.default.toASCII(t.slice(e.length)),i)o.push("\t<url>","\t\t<loc>"+t+"/"+n.toString()+"</loc>","\t</url>");return['<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">',o=o.join("\n"),"</urlset>"].join("\n")}function c(t){f.Bridge.saveLocalFile(r.projectPath+"/sitemap.xml",t)}function d(t){return t.match(/^https?:\/\/.*/i)}function u(){r.showDialog({title:a("Enter site URL"),className:"site-url-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<span class="site-url-error" style="color: red;display: none;">'+a('URL is not valid! (must be like "http://mysite.com")')+"</span>",'<input class="form-control" type="text" name="siteUrlModal" placeholder="http://mysite.com" value="'+r.projectSettings.siteUrl+'">',"</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){var t=o("input[name='siteUrlModal']");if(!d(t.val()))return o(".site-url-error").show(),t.focus(),r.projectSettings.siteUrl="",!1;r.projectSettings.siteUrl=t.val(),o("#siteUrl").parents(".form-group").show(),o("#siteUrl").val(t.val()),o(".sitemapEdit").parents(".form-group").hide()}}]})}r.regExtension({name:"seo",events:{shownSidebarProjectSettings:function(t,e){var n,i;n=e,o("#robotsSwitcher").change(function(t){t=o(t.target).prop("checked");(r.projectSettings.robotsSwitcher=t)&&o(".robotsEdit").click(),r.projectSettings.robotsText=s,o(".robotsText").val(s),o(".robotsEdit").parents(".form-group").toggle()}),o(".robotsEdit").click(function(t){t.preventDefault(),r.showDialog({title:a("Edit robots.txt"),className:"robots-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<textarea class="form-control robotsText" name="robotsText" rows="10">',r.projectSettings.robotsText,"</textarea>","</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){r.changeProjectSettings(n,{robotsText:o(".robotsText").val()}),r.projectSettings.robotsText=o(".robotsText").val()}}]})}),i=e,o("#sitemapSwitcher").change(function(t){var e=o(t.target).prop("checked");r.projectSettings.sitemapSwitcher=e,r.projectSettings.siteUrl="",r.projectSettings.sitemapSwitcherAuto="on",r.changeProjectSettings(i,{siteUrl:""}),r.changeProjectSettings(i,{sitemapSwitcherAuto:"on"}),o("#siteUrl").val(""),o("#sitemapSwitcherAuto").prop("checked",!0),o(t.target).prop("checked")?(u(),o(".togglebutton").has("#sitemapSwitcher").prev("label").addClass("col-auto").removeClass("col"),o(".togglebutton").has("#sitemapSwitcherAuto").show(),o(".togglebutton").has("#sitemapSwitcherAuto").prev("label").show(),o(".form-group").has("#siteUrl").show(),o(".form-group").has(".sitemapEdit").hide(),o("input[name='siteUrlModal']").on("input",function(){d(o(this).val())?o(".site-url-error").hide():o(".site-url-error").show()}),o(".site-url-modal").on("hidden.bs.modal",function(){o(".site-url-modal").remove(),r.projectSettings.siteUrl||o("#sitemapSwitcher").trigger("click")})):(o(".togglebutton").has("#sitemapSwitcher").prev("label").addClass("col").removeClass("col-auto"),o(".form-group").has("#siteUrl").hide(),o(".togglebutton").has("#sitemapSwitcherAuto").hide(),o(".togglebutton").has("#sitemapSwitcherAuto").prev("label").hide(),o(".form-group").has(".sitemapEdit").hide())}),o("#siteUrl").click(function(){u()}),o("#sitemapSwitcherAuto").change(function(t){t=o(t.target).prop("checked");return c(l(r.projectSettings.siteUrl)),t?(o("#siteUrl").parents(".form-group").show(),o(".sitemapEdit").parents(".form-group").hide()):(o("#siteUrl").parents(".form-group").hide(),o(".sitemapEdit").parents(".form-group").show()),r.projectSettings.sitemapSwitcherAuto=t?"on":"",r.changeProjectSettings(i,{sitemapSwitcherAuto:t?"on":""}),!0}),o(".sitemapEdit").click(function(t){t.preventDefault(),f.Bridge.loadLocalFile(r.projectPath+"/sitemap.xml",function(t){r.showDialog({title:a("Edit sitemap.xml"),className:"sitemap-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<textarea class="form-control sitemapText" name="robotsText" rows="15">',t,"</textarea>","</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){c(o(".sitemapText").val())}}]})}),o(".sitemap-modal").on("hidden.bs.modal",function(){o(".sitemap-modal").remove()})})},load:function(){var n=this;r.addFilter("sidebarProjectSettings",function(t){var e={title:a("SEO & Analytics"),name:"seo-analytics",html:'<div class="form-group col-md-12"><div class="row"><label class="col control-label" for="robotsSwitcher">'+a("Use robots.txt")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" id="robotsSwitcher" name="robotsSwitcher" '+(n.projectSettings.robotsSwitcher?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12"'+(n.projectSettings.robotsSwitcher?">":' style="display: none;">')+'<button class="btn btn-primary pull-right robotsEdit" type="button">'+a("Edit Robots.txt")+'</button></div><div class="form-group col-md-12"><div class="row"><label class="'+(n.projectSettings.sitemapSwitcher?"col-auto":"col")+' control-label" for="sitemapSwitcher">'+a("Use sitemap.xml")+'</label><div class="col-auto togglebutton"><label><input type="checkbox" id="sitemapSwitcher" name="sitemapSwitcher" '+(n.projectSettings.sitemapSwitcher?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div><label class="col text-right control-label"'+(n.projectSettings.siteUrl&&"undefined"!==n.projectSettings.siteUrl&&n.projectSettings.sitemapSwitcher?"":'style="display:none"')+' for="sitemapSwitcherAuto">'+a("Auto")+'</label><div class="col-auto togglebutton"'+(n.projectSettings.siteUrl&&"undefined"!==n.projectSettings.siteUrl&&n.projectSettings.sitemapSwitcher?"":'style="display:none"')+'><label><input type="checkbox" id="sitemapSwitcherAuto" name="sitemapSwitcherAuto" '+(n.projectSettings.sitemapSwitcherAuto?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" '+(n.projectSettings.siteUrl&&n.projectSettings.sitemapSwitcherAuto&&n.projectSettings.sitemapSwitcher?"":'style="display: none;"')+'><input class="form-control" type="text" id="siteUrl" name="siteUrl" placeholder="http://mysite.com" '+(n.projectSettings.siteUrl?'value="'+n.projectSettings.siteUrl+'"':"")+'readonly></div><div class="form-group col-md-12"'+(n.projectSettings.siteUrl&&!n.projectSettings.sitemapSwitcherAuto&&n.projectSettings.sitemapSwitcher?">":'style="display: none;">')+'<button class="btn btn-primary pull-right sitemapEdit" type="button">'+a("Edit Sitemap Settings")+"</button></div>"};return t.push(e),t}),n.addFilter("publishFiles",function(t){return n.projectSettings.robotsSwitcher&&t.push({srcList:[{src:"robots.txt",filter:"template"}],dest:"robots.txt"}),n.projectSettings.siteUrl&&"undefined"!==n.projectSettings.siteUrl&&(n.projectSettings.sitemapSwitcherAuto?t.push({srcList:[{src:"sitemap.xml",filter:"template"}],dest:"sitemap.xml"}):t.push({srcList:[{src:r.projectPath+"/sitemap.xml"}],dest:"sitemap.xml"})),t}),n.addFilter("publishTemplating",function(t,e){return"robots.txt"==e?n.projectSettings.robotsText:"sitemap.xml"==e?l(n.projectSettings.siteUrl):t})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};defineM("cookies-alert",function(c,d,u){var n={colorText:"#a7a7a7",colorLink:"#149dcc",underlineLink:!1,text:u("By continuing you agree to our %Terms of Service% and %Privacy Policy%").replace(/%(.[^%]+)%/,"<a href='terms.html'>$1</a>").replace(/%(.[^%]+)%/,"<a href='policy.html'>$1</a>.")},p="We use cookies to give you the best experience as specified in the <a href='privacy.html'>cookie policy</a>.",f="GOT IT",h="We use cookies to give you the best experience as specified in the <a href='privacy.html'>cookie policy</a>. Rejecting cookies may make some features unavailable.",m="ACCEPT",g="REJECT",v="We use cookies to give you the best experience as specified in the <a href='privacy.html'>cookie policy</a>.",b="ACCEPT",i={customDialogSelector:!1,colorText:"#424a4d",colorBg:"#ffffff",colorButton:"",rejectColor:"",colorLink:"#424a4d",underlineLink:!0,opacityOverlay:"0",bgOpacity:100,text:u("We use cookies to give you the best experience. Read our %cookie policy%").replace(/%(.+)%/,"<a href='privacy.html'>$1</a>."),textButton:u("GOT IT"),rejectText:u("REJECT")};function y(t){return t=t.slice(1),186<.299*parseInt(t.slice(0,2),16)+.587*parseInt(t.slice(2,4),16)+.114*parseInt(t.slice(4,6),16)?"#000000":"#FFFFFF"}function o(){var t=['<span class="gdpr-block'+(d.projectSettings.gdpr?"":" covert")+'">',"<label>",'<span class="textGDPR display-7"><input type="checkbox" name="gdpr" id="gdpr-input" required>'+(d.projectSettings.gdpr?d.projectSettings.gdpr.text:"")+"</span>","</label>","</span>"].join("\n");return t=d.projectSettings.gdpr?(t=t.replace('class="textGDPR display-7"','class="textGDPR display-7" style="color: '+d.projectSettings.gdpr.colorText+'"')).replace(/<a/gi,'<a style="color: '+d.projectSettings.gdpr.colorLink+"; text-decoration: "+(d.projectSettings.gdpr.underlineLink?"underline":"none")+';"'):t}function w(t){var e,n,i={};return"cookiesAlert"===t&&(n=(e=c(".cookiesDialog")).find("#customDialogSelector").val(),i.customDialogSelector="false"!==n&&"true"===n,i.colorText=e.find("#colorText").val(),i.colorBg=e.find("#colorBg").val(),i.textButton=e.find("#buttonCookies").val(),i.colorButton=e.find("#colorButton").val(),i.rejectColor=e.find("#rejectColor").val(),i.colorLink=e.find("#colorLink").val(),i.opacityOverlay=e.find("#opacityOverlay").val(),i.bgOpacity=e.find("#bgOpacity").val(),i.text=e.find("#textCookies").val(),i.rejectText=e.find("#rejectText").val()),"gdpr"===t&&(n=c(".editorGDPR"),i.colorText=n.find("#colorText").val(),i.colorLink=n.find("#colorLink").val(),i.underlineLink=n.find("#underlineLink").prop("checked"),i.text=n.find("#textareaGDPR").val()),i}function x(t,e){var n,i;if(t)return n=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),t=parseInt(t.slice(5,7),16),e?"rgba("+n+", "+i+", "+t+", "+e+")":"rgb("+n+", "+i+", "+t+")"}function _(t){var e=t.contents().find("body");d.isAMP()?e.find(".custom-dialog").length?t.css("height",e.find(".cookie-wrapper")[0].scrollHeight+40):t.css("height",e.find("#amp-cookies-notification")[0].scrollHeight):e.find("#cookie-dialog").length||e.find("#cookiesdirective").length?t.css("height",e.find(".cookie-wrapper")[0].scrollHeight+40):t.css("height",e.find("#cookiesdirective")[0].scrollHeight)}function r(){var r=d.projectSettings.cookiesAlert,n=k({},r),t=d.projectSettings.cookiesAlertType,a=d.projectSettings.cookiesAlert||"";function s(t,e){c(t).contents().find("body").find("#epd, #cookie-dialog").remove();var n=d.projectSettings.cookiesAlertType,i=x(a.colorBg),o="rgba($2,$3,$4,"+.01*a.bgOpacity+")",i=i.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,o);e.customDialogSelector&&(o='<div id="cookie-dialog" style="display: none;"><div id="cookiesdirective" style="background-color:'+i+'"><div class="cookieOverlay" style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(e.opacityOverlay?.01*e.opacityOverlay:".8")+'; z-index: 9999;"></div><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center; z-index: 10000;"><div class="cookie-wrapper" style="font-family:sans-serif;position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); font-family: Arial; font-size: 16px; line-height: 1.5; color:'+e.colorText+"; background:"+x(e.colorBg)+';"><div class="mbr-text"><p class="display-7 alert-message">'+e.text.replace(/<a/gi,"<a style='color: "+e.colorLink+"; text-decoration: "+(e.underlineLink?"underline":"none")+";'")+"</div>"+("2"!==n&&"3"!==n?'<div class="mbr-section-btn"><a class="btn btn-sm btn-primary" style="margin:0;'+(e.colorButton?" background-color:"+e.colorButton+"!important;color:"+y(e.colorButton)+"!important":"")+'" id="impliedsubmit">'+e.textButton||!1:"")+"</div></div></div></div>",c(t).contents().find("body").append(o)),t[0].contentWindow.$.cookiesDirective({explicitConsent:"2"===n||"3"===n,cookiesAlertType:n,position:"bottom",duration:0,limit:0,customDialogSelector:e.customDialogSelector?"#cookie-dialog":null,message:e.text,fontFamily:"Arial",fontColor:e.colorText,fontSize:"13px",backgroundColor:x(e.colorBg),bgOpacity:e.bgOpacity,linkColor:e.colorLink,textButton:e.textButton||u("GOT IT"),rejectText:e.rejectText||u("REJECT"),colorButton:e.colorButton,rejectColor:e.rejectColor,underlineLink:e.underlineLink,animate:!1}),c(t).contents().find("#impliedsubmit").attr("demo","")}function l(t,e){t=c(t).contents().find("body");t.empty(),e=e.customDialogSelector?'<amp-user-notification id="amp-cookies-notification" class="custom-dialog" style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center;"><div class="cookieOverlay" style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(e.opacityOverlay?.01*e.opacityOverlay:".8")+'; z-index: 999;"></div><div class="cookie-wrapper" style="background:'+x(e.colorBg)+"; color:"+e.colorText+'; position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); z-index: 1000;"><span class="display-7">'+e.text.replace(/<a/gi,"<a style='color: "+e.colorLink+"; text-decoration: "+(e.underlineLink?"underline":"none")+";'")+'</span><button class="btn btn-sm btn-primary display-7" id="impliedsubmit" style="display: block; margin-top: 10px; margin-right: auto; margin-left: auto; cursor: pointer;'+(e.colorButton?" background-color:"+e.colorButton+";border-color:"+e.colorButton+";color:"+y(e.colorButton)+"!important;":"")+'">'+e.textButton||!1:'<amp-user-notification id="amp-cookies-notification" style="background:'+x(e.colorBg)+"; color:"+e.colorText+'; padding: 10px 5px; display:block; text-align: center;" layout="nodisplay" class="cookie-wrapper"><span class="display-7">'+e.text.replace(/<a/gi,"<a style='color: "+e.colorLink+"; text-decoration: "+(e.underlineLink?"underline":"none")+";'")+'</span><button class="btn btn-sm btn-primary display-7" id="impliedsubmit" style="margin-left: 10px; cursor: pointer;'+(e.colorButton?" background-color:"+e.colorButton+";border-color:"+e.colorButton+";color:"+y(e.colorButton)+"!important;":"")+'">'+(e.textButton||u("GOT IT"))+"</button></amp-user-notification>",t.append(e)}d.showDialog({title:u("Cookies Alert Editor"),className:"cookiesDialog",size:"medium",body:['<div class="row clearfix">','<div class="form-group col-md-12"><div class="row" style="display:flex;align-items:center"><label for="cookiesAlertTypeSwitcher" style="margin:0;" class="col-md-3 control-label">'+u("Consent")+'</label><div class="col"><select'+(d.isAMP()?"disabled":"")+' class="form-control" id="cookiesAlertTypeSwitcher"><option'+("1"===t?" selected":"")+' value="1">'+u("Alert only - without blocking")+"</option>"+(d.isAMP()?"":"<option"+("2"===t?" selected":"")+' value="2">'+u('Reject and Accept - "Reject" blocks JS and iframes')+"</option>")+(d.isAMP()?"":"<option"+("3"===t?" selected":"")+' value="3">'+u('Accept - page loads only after "Accept"')+"</option>")+'</select></div></div></div><div class="form-group col-md-12">','<div class="row" style="display:flex;align-items:center"><label style="margin:0;" class="col-md-3 control-label">'+u("Layout")+"</label>",'<div class="col"><select class="form-control" id="customDialogSelector" name="customDialogSelector"><option'+(n.customDialogSelector?"":" selected")+' value="false">'+u("Bottom panel")+"</option><option"+(n.customDialogSelector?" selected":"")+' value="true">'+u("Center popup")+"</option></select></div></div></div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Text Color")+"</label>",'<input class="mbr-color" id="colorText" type="text" value='+n.colorText+">","</div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Background Color")+"</label>",'<input class="mbr-color" id="colorBg" type="text" value='+n.colorBg+">","</div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Accept Color")+"</label>",'<input class="mbr-color" id="colorButton" type="text" value='+n.colorButton+">","</div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Link Color")+"</label>",'<input class="mbr-color" id="colorLink" type="text" value='+n.colorLink+">","</div>",'<div class="app-layer-color col-md-12" style="margin-bottom: 15px;'+("2"===t?"display:block":"display:none")+'" data-setting-type="color">',"<label>"+u("Reject Color")+"</label>",'<input class="mbr-color" id="rejectColor" type="text"'+(n.rejectColor?' value="'+n.rejectColor+'"':"")+">","</div>",'<div class="col-md-12 bgopacity-wrap" style="margin-bottom: 15px;'+("3"===t||n.customDialogSelector?"display:none;":"display:block;")+'">',"<label>"+u("Background Opacity")+"</label>",'<input type="range" style="margin-top: 10px" id="bgOpacity" name="bgOpacity" min="0" max="100" step="1" value='+(n.bgOpacity||"100")+">","</div>",'<div class="col-md-12 opacity-overlay-wrap" style="margin-bottom: 15px;'+("3"===t?"display:block;":"display:none;")+'">',"<label>"+u("Overlay Opacity")+"</label>",'<input type="range" style="margin-top: 10px" id="opacityOverlay" name="opacityOverlay" min="0" max="100" step="1" value='+(n.opacityOverlay||"80")+">","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label style="margin-bottom: 15px">'+u("Text")+"</label>",'<textarea rows="3" id="textCookies" style="resize: vertical" name="textCookies" placeholder="'+u("Paste your cookies alert message.")+'" class="form-control">'+(n.text||u("We use cookies to give you the best experience. Read our %cookie policy%").replace(/%(.+)%/,"<a href='privacy.html'>$1</a>."))+"</textarea>","</div>",'<div class="col-md-'+("2"===t?"6":"12")+'" style="margin-bottom: 15px;'+("2"===t?"":" display:none;")+'">','<label style="margin-bottom: 15px">'+u("Reject Text")+"</label>",'<input id="rejectText" style="resize: vertical" name="rejectText" placeholder="'+u("Paste your cookies alert reject button text.")+'" class="form-control" value="'+(n.rejectText||u("Reject"))+'"></input>',"</div>",'<div class="col-md-'+("2"===t?"6":"12")+'" style="margin-bottom: 15px">','<label style="margin-bottom: 15px">'+u("Accept Text")+"</label>",'<input id="buttonCookies" style="resize: vertical" name="buttonCookies" placeholder="'+u("Paste your cookies alert accept button text.")+'" class="form-control" value="'+(n.textButton||u("GOT IT"))+'"></input>',"</div>","</div>",'<iframe src="javascript:\'\'" id="iframeCookies" class="" style="width: 100%; height: 40px; border: none; margin-top: 10px">'].join("\n"),buttons:[{label:"save",default:!0,callback:function(){k(r,w("cookiesAlert"))}}],hide:function(t){},show:function(i){var t=i.find("#colorButton"),e=(t.val()||(t.val(d.projectSettings.theme.styling.primaryColor),t.parent().find(".sp-preview-inner").attr("style","background-image: none;background:"+t.val())),i.find("#rejectColor")),n=(e.val()||(e.val("#ffffff"),e.parent().find(".sp-preview-inner").attr("style","background-image: none;background:"+e.val())),e.trigger("change"),t.trigger("change"),i.find("#iframeCookies"));n.on("load",function(){var o=n.contents().find("body");n.contents().find("head");o.css("background-color","#fff"),c("#cookiesAlertTypeSwitcher").change(function(t){d.projectSettings.cookiesAlertType=t.target.value;var e=w("cookiesAlert"),n=d.$body.find(".cookiesDialog #iframeCookies");switch((d.isAMP()?l:s)(n,e),t.target.value){case"1":i.find("#textCookies").val(p),i.find("#buttonCookies").val(f),i.find("#textCookies, #buttonCookies").trigger("change"),i.find("#textCookies, #buttonCookies").trigger("keyup"),i.find("#opacityOverlay").val(0),i.find("#opacityOverlay").trigger("change"),i.find("#opacityOverlay").parent().hide(),e.customDialogSelector||(i.find("#bgOpacity").parent().show(),i.find("#bgOpacity").trigger("change"),i.find("#bgOpacity").val(100));break;case"2":i.find("#textCookies").val(h),i.find("#buttonCookies").val(m),i.find("#rejectText").val(g),i.find("#textCookies, #buttonCookies, #rejectText").trigger("change"),i.find("#textCookies, #buttonCookies, #rejectText").trigger("keyup"),i.find("#opacityOverlay").parent().hide(),i.find("#opacityOverlay").val(0),i.find("#opacityOverlay").trigger("change"),e.customDialogSelector||(i.find("#bgOpacity").parent().show(),i.find("#bgOpacity").trigger("change"),i.find("#bgOpacity").val(100));break;case"3":i.find("#textCookies").val(v),i.find("#buttonCookies").val(b),i.find("#textCookies, #buttonCookies").trigger("change"),i.find("#textCookies, #buttonCookies").trigger("keyup"),i.find("#opacityOverlay").parent().show(),i.find("#opacityOverlay").val(100),i.find("#opacityOverlay").trigger("change"),i.find("#bgOpacity").parent().hide(),i.find("#bgOpacity").trigger("change"),i.find("#bgOpacity").val(100)}"2"===t.target.value?(i.find("#buttonCookies").parent().removeClass("col-md-12"),i.find("#buttonCookies").parent().addClass("col-md-6"),i.find("#rejectColor").parent().show(),i.find("#rejectText").parent().removeClass("col-md-12"),i.find("#rejectText").parent().addClass("col-md-6"),i.find("#rejectText").parent().show()):(i.find("#buttonCookies").parent().removeClass("col-md-6"),i.find("#buttonCookies").parent().addClass("col-md-12"),i.find("#rejectColor").parent().hide(),i.find("#rejectText").parent().addClass("col-md-12"),i.find("#rejectText").parent().removeClass("col-md-6"),i.find("#rejectText").parent().hide()),k(r,w("cookiesAlert")),_(n)}),i.find("#colorText, #colorBg, #colorButton, #colorLink, #rejectColor, #opacityAlert, #cookiesAlertTypeSwitcher").on("change",function(){var t,e,n,i=w("cookiesAlert");d.isAMP()?(e=o.find(".cookie-wrapper"),n=x(a.colorBg),t="rgba($2,$3,$4,"+.01*a.bgOpacity+")",n=n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,t),e.css({color:i.colorText,"background-color":n||a.colorBg}),e.find("a").css({color:i.colorLink,"text-decoration":"underline"}),e.find("button").css({"background-color":i.colorButton})):(t=i.customDialogSelector?o.find(".cookie-wrapper"):o.find("#cookiesdirective"),n=x(i.colorBg),e="rgba($2,$3,$4,"+.01*i.bgOpacity+")",n=n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,e),t.css({color:i.colorText,"background-color":n}),t.find("a:not(.btn)").css({color:i.colorLink,"text-decoration":"underline"}),e=t.find("#explicitsubmit").length,n=t.find("#impliedsubmit").length,e?(t.find("#explicitsubmit")[0].setAttribute("style","margin:0 5px;"+(i.colorButton?" background-color:"+i.colorButton+" !important;color:"+y(i.colorButton)+"!important;":"")+"border-color:"+i.colorButton+" !important;border:0px solid"+i.colorButton+"; padding:5px 20px; border-radius:2px; cursor: pointer;box-shadow: 0 2px 2px 0 rgb(0 0 0 / 20%);"),t.find("#explicitreject").length&&t.find("#explicitreject")[0].setAttribute("style","margin:0 5px;"+(i.rejectColor?" background-color:"+i.rejectColor+" !important;color:"+y(i.rejectColor)+"!important;":"")+"border-color:"+i.rejectColor+" !important;border:0px solid"+i.rejectColor+"; padding:5px 20px; border-radius:2px; cursor: pointer;box-shadow: 0 2px 2px 0 rgb(0 0 0 / 20%);")):n&&(t.find("#impliedsubmit").css({"background-color":i.colorButton,color:y(i.colorButton)}),t.find("#impliedsubmit")[0].style.setProperty("background-color",i.colorButton,"important"),t.find("#impliedsubmit")[0].style.setProperty("color",y(i.colorButton),"important"))),k(r,w("cookiesAlert"))}),i.find("#opacityOverlay").on("change",function(){var t=w("cookiesAlert");o.find(".cookieOverlay").css("opacity",.01*t.opacityOverlay),k(r,w("cookiesAlert"))}),i.find("#bgOpacity").on("change",function(){var t=w("cookiesAlert"),e=o.find("#cookiesdirective"),n=x(t.colorBg),t="rgba($2,$3,$4,"+.01*t.bgOpacity+")";e.css("background-color",n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,t)),k(r,w("cookiesAlert"))}),i.find("#customDialogSelector").on("change",function(t){var e=w("cookiesAlert"),n=d.$body.find(".cookiesDialog #iframeCookies");(d.isAMP()?l:s)(n,e),_(n),"3"===i.find("#cookiesAlertTypeSwitcher").val()?i.find(".opacity-overlay-wrap").show():i.find(".opacity-overlay-wrap").hide(),"1"!==i.find("#cookiesAlertTypeSwitcher").val()&&"2"!==i.find("#cookiesAlertTypeSwitcher").val()||"false"!==t.target.value?i.find(".bgopacity-wrap").hide():i.find(".bgopacity-wrap").show(),k(r,w("cookiesAlert"))}),i.find("#textCookies").on("keyup",function(){var t=o.find(".cookie-wrapper .alert-message"),e=w("cookiesAlert");t.html(this.value),t.find("a:not(.btn)").css({color:e.colorLink,"text-decoration":"underline"}),i.find("#colorText, #colorBg, #colorButton, #colorLink, #opacityAlert").trigger("change"),_(n),k(r,w("cookiesAlert"))}),i.find("#buttonCookies").on("keyup",function(){var t=o.find(".cookie-wrapper").find("#impliedsubmit, #explicitsubmit");t.is("input")?t.val(c(this).val()):t.text(c(this).val()),i.find("#colorText, #colorBg, #colorButton, #colorLink, #opacityAlert").trigger("change"),_(n),k(r,w("cookiesAlert"))}),i.find("#rejectText").on("keyup",function(){var t=o.find(".cookie-wrapper").find("#explicitreject");t.is("input")?t.val(c(this).val()):t.text(c(this).val()),i.find("#colorText, #colorBg, #colorButton, #colorLink, #opacityAlert").trigger("change"),_(n),k(r,w("cookiesAlert"))})})}}).on("shown.bs.modal",function(){var t=c("#iframeCookies");_(t),t.contents().on("click","a",function(t){t.preventDefault()})}),c("#iframeCookies").on("load",function(){var t=c("#iframeCookies"),e=t.contents().find("body");e.css({margin:0,"background-color":"transparent"}),d.isAMP()||e.append('<input name="cookieData" type="hidden">'),c.when(function(){var e=c("#iframeCookies").contents(),n=c("#iframeCookies").contents().find("head"),i=c.Deferred(),t='<link rel="stylesheet" href="'+d.theme.path+'/plugins/theme/css/style.css"/>',o=c("body .desktop").contents().find('body style[name="theme-styles"]');n.append('<link rel="stylesheet" href="assets/bootstrap/bootstrap.min.css"/>'),n.append(t),n.append(o.clone()),d.isAMP()||n.append('<link rel="stylesheet" href="assets/bootstrap-material/css/material.min.css"/>');d.isAMP()?i.resolve():((t=e[0].createElement("script")).src="assets/jquery/jquery.js",t.onload=function(){var t=e[0].createElement("script");t.src="assets/cookies-alert-plugin/cookies-alert-core.js",n[0].append(t),t.onload=function(){i.resolve()}},n[0].append(t));return i}()).then(function(){(d.isAMP()?l:s)(t,n)})})}function a(){var e=d.projectSettings.gdpr,t=k({},e);d.showDialog({title:u("Compliance GDPR"),className:"editorGDPR",size:"medium",body:['<div class="row clearfix">','<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Text Color")+":</label>",'<input class="mbr-color" id="colorText" type="text" value='+t.colorText+">","</div>",'<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Link Color")+":</label>",'<input class="mbr-color" id="colorLink" type="text" value='+t.colorLink+">","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label class="col-md-3 control-label" style="padding: 0;">'+u("Underline Link")+":</label>",'<div class="togglebutton col-md-9" style="display: flex; padding: 0; justify-content: flex-end;">',"<label>",'<input type="checkbox" id="underlineLink" name="underlineLink"'+(t.underlineLink?"checked":"")+">",'<span class="toggle" style="margin: 0"></span>',"</label>","</div>","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label style="margin-bottom: 15px">Text:</label>','<textarea rows="2" id="textareaGDPR" style="resize: vertical" placeholder="'+u("Paste your GDPR message.")+'" class="form-control">'+t.text+"</textarea>","</div>",'<div class="col-md-12">','<label style="margin-bottom: 15px">'+u("Demo")+":</label>",'<span class="gdpr-block-for-customization" style="display: block;"><label><input type="checkbox" name="gdpr" id="gdpr-input" required style="width: 15px; height: 15px; margin: 0; margin-right: 10px;"></label><span class="textGDPR display-7">'+e.text+"</span></span>","</div>","</div>"].join("\n"),buttons:[{label:"Save",default:!0,callback:function(t){k(e,w("gdpr"))}}],show:function(t){t.find("#colorText, #colorLink, #underlineLink").on("change",function(){var t=c(".gdpr-block-for-customization").find(".textGDPR"),e=w("gdpr");t.css({color:e.colorText}),t.find("a").css({color:e.colorLink,"text-decoration":"underline"})}),t.find("#textareaGDPR").on("keyup",function(){c(".gdpr-block-for-customization").find(".textGDPR").html(c(this).val()),t.find("#colorText, #colorLink, #underlineLink").trigger("change")}),t.find("#colorText").trigger("change")}})}d.regExtension({name:"cookies-alert",filters:{getPluginResource:function(t,e,n,i,o){var r,a=d.projectSettings.cookiesAlertType;return void 0!==a&&"1"!==a&&d.projectSettings.cookiesAlert&&!d.isAMP()&&(r="","js"===n&&(r=i.includes("cookies-alert")?'<script src="'+i+'"><\/script>\n':'<script type="text/plain" data-src="'+i+'"><\/script>\n',o?t.js_head=r:t.js=r),"css"===n)&&"3"===a&&(t.css='<link rel="stylesheet" data-href="'+i+'">\n'),t}},events:{load:function(){d.addFilter("sidebarProjectSettings",function(t){var e=d.projectSettings.customCookies||d.projectSettings.cookiesAlert||"",n=d.projectSettings.gdpr||"",e={title:u("Cookies Alert"),name:"cookies-alert",html:'<div class="form-group col-md-12"><div class="row" style="margin-bottom:1rem;"><label for="cookiesAlertSwitcher" class="col control-label">'+u("Enable")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" name="cookiesAlert" id="cookiesAlertSwitcher" '+(""!==e?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" style="display:'+(""!==e?"block":"none")+'"><div class="row"><div class="col-md-12 customCookiesAlert"><button class="btn btn-primary pull-right" id="customCookiesButton" type="button">'+u("Edit")+"</button></div></div></div>"},n={title:u("GDPR Compliance"),name:"gdpr-compliance",html:'<div class="form-group col-md-12"><div class="row"><label for="gdprSwitcher" class="col control-label">'+u("Enable")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" name="gdpr" id="gdprSwitcher" '+(""!==n?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" style="display:'+(""!==n?"block":"none")+'"><div class="row"><div class="col-md-12 customGdpr"><button class="btn btn-primary pull-right" id="customGdprButton" type="button">'+u("Edit")+"</button></div></div></div>"};return t.push(e),t.push(n),t}),d.addFilter("publishHTML",function(t){var e,n,i,o=d.projectSettings.cookiesAlert||"",r=d.projectSettings.cookiesAlertType||"";return t=o?d.isAMP()?(e=o.customDialogSelector?'<amp-user-notification style="height: 100vh; padding-top: 40vh; background: none;" id="amp-cookies-notification" layout="nodisplay"><div style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(o.opacityOverlay?.01*o.opacityOverlay:".8")+'; z-index: 999;"></div><div class="cookie-wrapper" style="position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); z-index: 1000; color:'+o.colorText+"; background:"+x(o.colorBg)+';"><span class="mbr-text display-7">'+o.text.replace(/<a/gi,"<a style='color: "+o.colorLink+"; text-decoration: "+(o.underlineLink?"underline":"none")+";'")+'</span><span class="mbr-section-btn" style="display:block"><button class="btn btn-sm btn-primary display-7" on="tap:amp-cookies-notification.dismiss,amp-cookies-notification.hide" style="display: block; margin-top: 10px; margin-right: auto; margin-left: auto; cursor: pointer;'+(o.colorButton?" background-color:"+o.colorButton+"; border-color:"+o.colorButton+";":"")+'">'+(o.textButton||u("GOT IT"))+"</button></span></div></amp-user-notification>":'<amp-user-notification class="display-7" id="amp-cookies-notification" style="color:'+o.colorText+"; background:"+x(o.colorBg)+'; padding: 10px 5%; display:inline-block;text-align: center;" layout="nodisplay"><span class="display-7">'+o.text.replace(/<a/gi,"<a style='color: "+o.colorLink+"; text-decoration: "+(o.underlineLink?"underline":"none")+";'")+'</span><span class="mbr-section-btn"><button class="btn btn-sm btn-primary display-7" on="tap:amp-cookies-notification.dismiss,amp-cookies-notification.hide" style="display: inline-block; cursor: pointer; margin-left: 10px;'+(o.colorButton?" background-color:"+o.colorButton+"; border-color:"+o.colorButton+";":"")+'">'+(o.textButton||u("GOT IT"))+"</button></span></amp-user-notification>",(t=/<script.*?(?=amp-user-notification-\d\.\d\.js).*?>/.test(t)?t:t.replace("</head>",'  <script async custom-element="amp-user-notification" src="https://cdn.ampproject.org/v0/amp-user-notification-0.1.js"><\/script>\n  </head>')).replace("</body>",e+"\n </body>")):(e=["data-cookie-cookiesAlertType='"+(r||"false")+"'","data-cookie-customDialogSelector='"+(o.customDialogSelector?"#cookie-dialog":"null")+"'","data-cookie-colorText='"+o.colorText+"'","data-cookie-colorBg='"+x(o.colorBg)+"'","data-cookie-opacityOverlay='"+o.opacityOverlay+"'","data-cookie-bgOpacity='"+o.bgOpacity+"'","data-cookie-textButton='"+(o.textButton||u("GOT IT"))+"'","data-cookie-rejectText='"+(o.rejectText||u("REJECT"))+"'","data-cookie-colorButton='"+(o.colorButton||"")+"'","data-cookie-rejectColor='"+(o.rejectColor||"")+"'","data-cookie-colorLink='"+o.colorLink+"'","data-cookie-underlineLink='"+o.underlineLink+"'",'data-cookie-text="'+o.text+'"'],n=x(o.colorBg),i="rgba($2,$3,$4,"+.01*o.bgOpacity+")",n=n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,i),o.customDialogSelector&&(i='<div id="cookie-dialog" style="display: none;"><div id="cookiesdirective" style="background-color:'+n+'"><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(o.opacityOverlay?.01*o.opacityOverlay:".8")+'; z-index: 9999;"></div><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center; z-index: 10000"><div class="cookie-wrapper" style="font-family: sans-serif;position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); color:'+o.colorText+"; background:"+x(o.colorBg)+';"><div class="mbr-text"><p class="display-7 accept-text">'+o.text.replace(/<a/gi,"<a style='color: "+o.colorLink+"; text-decoration: "+(o.underlineLink?"underline":"none")+";'")+"</p></div>"+("2"!==r&&"3"!==r?'<div class="mbr-section-btn"><a class="btn btn-sm btn-primary" style="margin:0;'+(o.colorButton?" background-color:"+o.colorButton+"!important;color:"+y(o.colorButton)+"!important":"")+'" id="impliedsubmit">'+(o.textButton||u("GOT IT"))+"</a></div>":"")+"</div></div></div></div>",t=t.replace("</body>",i+"\n  </body>")),"2"===r&&(t=(t=t.replace(/(<iframe(?![^>]*data-src=")[^>]*)(src=")/g,'$1data-src="')).replace(/<script(.*?)>/gm,function(t,e){return t.includes('type="text/plain"')||t.includes("cookies-alert")?t:'<script type="text/plain"'+e.replace(" src"," data-src")+">"})),(t="3"===r?(t=t.replace(/(<(?:iframe|object|embed|img)(?![^>]*data-src=")[^>]*)(src=")/g,'$1data-src="')).replace(/<script(.*?)>/gm,function(t,e){return t.includes('type="text/plain"')||t.includes("cookies-alert")?t:'<script type="text/plain"'+e.replace(" src"," data-src")+">"}):t).replace("</body>",'<input name="cookieData" type="hidden" '+e.join(" ")+">\n  </body>")):t}),d.Core.addFilter("loadComponentTemplate",function(t,e,n,i){return(e._customHTML&&e._customHTML.indexOf("</form>")||e.form)&&(t=t.replace("</form>",o()+"</form>")),n&&!d.projectSettings.gdpr&&-1!==t.indexOf(o())&&(e=new RegExp(o(),"gi"),t=t.replace(e,"")),t}),d.registerAmpPlugin(["gdpr-plugin"])},shownSidebarProjectSettings:function(t,e){c("#cookiesAlertSwitcher").change(function(){c(this).prop("checked")?(d.projectSettings.cookiesAlert=k({},i),r(),c(".customCookiesAlert").parents(".form-group").show()):(delete d.projectSettings.cookiesAlert,delete d.projectSettings.cookiesAlertType,c(".customCookiesAlert").parents(".form-group").hide())}),c("#customCookiesButton").click(r),c("#gdprSwitcher").change(function(){c(this).prop("checked")?(d.projectSettings.gdpr=k({},n),a(),c(".customGdpr").parents(".form-group").show()):(delete d.projectSettings.gdpr,c(".customGdpr").parents(".form-group").hide())}),c("#customGdprButton").click(a)},loadedProject:function(){var t;if(d.projectSettings.gdpr&&"string"==typeof d.projectSettings.gdpr&&((t=k({},n)).text=d.projectSettings.gdpr,d.projectSettings.gdpr=k({},t)),d.projectSettings.cookiesAlert&&"string"==typeof d.projectSettings.cookiesAlert&&((e=k({},i)).text=d.projectSettings.cookiesAlert,d.projectSettings.cookiesAlert=k({},e)),d.projectSettings.customCookies&&"object"===s(d.projectSettings.customCookies)){if(d.projectSettings.cookiesAlert&&"object"===s(!!d.projectSettings.cookiesAlert))return void(d.projectSettings.cookiesAlert=k(d.projectSettings.cookiesAlert,d.projectSettings.customCookies),delete d.projectSettings.customCookies);var e=k({},i);e=k(e,d.projectSettings.customCookies),d.projectSettings.cookiesAlert=k({},e),delete d.projectSettings.customCookies}d.projectSettings.cookiesAlert&&d.projectSettings.cookiesAlert.colorButton&&!d.projectSettings.cookiesAlert.hasOwnProperty("customDialogSelector")&&"#ffffff"===d.projectSettings.cookiesAlert.colorButton&&delete d.projectSettings.cookiesAlert.colorButton}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-projects-presets",function(l,f,c,d){function s(s,e){return new Promise(function(r,i){var t,a;t=t=(t=(t=e).filter(function(t){return t.themeName===s.name})).map(function(t){return function(t){var e,n,i,o,r=t.presetsList,a=[],s=void 0;for(n in s=t.local?(e=f.getAddonDir(t.themeName),d.path2app(e)):"https://my.mobirise.com/data/upload/thumbs/"+t.themeName,r)r.hasOwnProperty(n)&&a.push((o=r[i=n],'<div class="column column-preset col-sm-4 col-md-4 col-lg-3" data-local=\''+t.local+"' data-theme='"+t.themeName+"' namepreset=\""+i+'" titlepreset="'+o.title+'">\n                                       <div class="column-content">\n                                            <div class="wrapper-img">\n                                                <img src="'+s+"/projects/"+i+'/cover.jpg">\n                                            </div>\n                                            <div class="wrapper-name">\n                                                <span>'+o.title+"</span>\n                                            </div>\n                                       </div>\n                                    </div>"));return a}(t).join("")}),t='<div class="main-wrapper">\n                            <div class="row form-group">\n                                <div class="search-preset-wrap col-xs-4">\n                                    <input class="search-preset-input form-control" type="text" placeholder="'+c("Search")+'" value="">\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="columns">\n                                    <div class="column-options">\n                                        <div class="column column-option plus col-sm-4 col-md-4 col-lg-3">\n                                            <div class="column-content">\n                                                <div class="wrapper-icon">\n                                                    <i class="mbr-icon-file"></i>\n                                                </div>\n                                                <div class="wrapper-name">\n                                                    <span>Add Blank Page</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="columns-presets">\n                                        '+t.join("\n")+"\n                                    </div>\n                                </div>\n                            </div>\n                        </div>",a=f.showDialog({title:c("Choose Template for $nameTheme$ Theme").replace("$nameTheme$",s.title),className:"presets-site-modal",body:t,create:function(t){l(t).find(".columns-presets").on("click",".column-preset",function(){var n,t,e,i,o;"false"===l(this).attr("data-local")?(t=l(this),n=t,t="",e=f.getUserInfo(),i=n.attr("data-theme"),o=n.attr("data-theme"),e&&e.email&&(t=e.email),f.confirmDlg({message:c("The $extension$ theme isn't available for your account").replace("$extension$",o?"<strong>"+o+"</strong>":"")+(t?" "+t+"<br>":".<br>")+c("If the theme is installed, please reinstall it."),buttons:{cancel:{label:c("Cancel"),className:"btn-default"},confirm:{label:c("Upgrade"),className:"btn-primary"}},callback:function(t){var e;t&&((t=f.AddonsRegistry.get(i)).get("downloadURL")&&!t.isExpired()?(e=l(f.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-site-modal"),f.downloadAddon(t.toJSON()).done(function(){n.attr("data-local","true"),n.click()}).fail(function(){f.showError(c("Error add extension")+' "'+o+'"')}).always(function(){e.remove()})):f.goToBuyPremium())}})):(a.modal("hide"),s.titlePreset=l(this).attr("titlepreset"),s.nameSelectPreset=l(this).attr("namepreset"),s.presetSourceTheme=l(this).attr("data-theme"),r(s))}),l(t).find(".column-options").on("click",".column-option",function(){l(this).hasClass("plus")?(a.modal("hide"),r(void 0)):l(this).hasClass("features")&&(f.showAddonsList(),a.modal("hide"),i())});var e=l(t).find(".columns-presets > .column-preset");var n=f.stopIfRepeatDecorator(function(t){var n=t.target.value.toLowerCase();e.each(function(t,e){e=l(e);e.attr("titlepreset").toLowerCase().includes(n)?e.removeClass("hidden"):e.addClass("hidden")})},100);l(t).find(".search-preset-input").on("input",function(t){return n(t)})}}).on("hidden.bs.modal",function(){f.hidePreloader()})})}f.regExtension({name:"app-plugin-projects-presets",global:{},events:{load:function(){var a=this;f.presetsList=[],f.on(["deletedAddon","downloadedAddon","redeemActivated","importedAddon"],function(){f.presetsList=[]}),f.addFilter("promiseChosenTheme",function(t){return t.then(function(r){return new Promise(function(e,n){var i,o=r.name.endsWith("amp"),t=f.presetsList;t.length&&t[0].themeName.endsWith("amp")===o?(t=t.filter(function(t){return void 0!==t}).sort(function(t,e){return t.themeName===r.name||e.themeName!==r.name&&t.local?-1:1}),s(r,t).then(function(t){return e(t||r)},function(){return n()})):(i=l(f.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".create-site-modal"),f.getAddonsEx(function(t){t=t.filter(function(t){return o?t.name.endsWith("amp"):t.name.endsWith("m4")||t.name.endsWith("m5")||t.name===a.DEFAULT_THEME?t.name.endsWith("m4")||t.name.endsWith("m5")||t.name===a.DEFAULT_THEME:void 0}),Promise.all(t.map(function(n){return new Promise(function(e){var t;n.installed&&n.paid&&!n.expired||d.isDev||n.name===f.isBuildInAddon(n.name)?(t=f.getAddonDir(n.name)+"/projects/list.json",d.getLocalJSON(t,function(t){t?e({themeName:n.name,presetsList:t,local:!0}):e()})):fetch("https://my.mobirise.com/data/upload/thumbs/"+n.name+"/projects/list.json").then(function(t){404===t.status?(console.log("No presets in "+n.name+" theme."),e()):t.json().then(function(t){e({themeName:n.name,presetsList:t,local:!1})}).catch(function(t){e()})}).catch(function(t){e()})})})).then(function(t){(t=t.filter(function(t){return void 0!==t}).sort(function(t,e){return t.themeName===r.name||e.themeName!==r.name&&t.local?-1:1})).length?(f.presetsList=t,s(r,t).then(function(t){return e(t||r)},function(){return n()})):e(r)}).finally(function(){i.remove()})},{type:"theme"},{server:!0}))})})}),f.addFilter("promiseDefaultProject",function(t,e,a){return a.nameSelectPreset?t.then(function(r){return new Promise(function(e){var n,i,t,o=f.getAddonDir(a.presetSourceTheme);i=function(t){e(t||r)},t=(n=a).nameSelectPreset,d.loadLocalFile(o+"/projects/"+t+"/project.mobirise",function(t){try{t=l.parseJSON(t)}catch(t){return console.error("File 'project.mobirise' is missing!"),i()}if((t=function(e,t){if(1!==Object.keys(e.pages).length)return new Error("Error! Preset could not be loaded (> 1 page)");var n,i=void 0;for(n in e)if(e.hasOwnProperty(n))if("settings"===n){var o,r=e[n];for(o in r)if(r.hasOwnProperty(o))if("theme"===o){var a,s=r[o];for(a in s)s.hasOwnProperty(a)&&("name"===a?(i=s[a],s[a]=t.name):"title"===a?s[a]=t.title:"styling"!==a&&delete s[a])}else"currentPage"===o?r[o]="index.html":delete r[o]}else if("pages"===n){var l,c,d=e[n];for(l in d)d.hasOwnProperty(l)&&(c=d[l],"index.html"!==l&&(c=d["index.html"]=d[l],delete d[l]),c.settings=h.pages["index.html"].settings)}var u=JSON.stringify(e),p="startm5"!==i?f.getAddonDir(i):"..";u=u.replace(/@THEME_PATH@/g,f.path2core(p)),"startm5"!==f.theme.name&&(u=u.replace(/=\\"..\//g,'=\\"'+p+"/components/"));try{u=JSON.parse(u)}catch(t){console.error(t),u=e}return u}(t,n))instanceof Error)return console.error(t.message),i();i(t)})})}):t})}}});var h={pages:{"index.html":{settings:{main:!0,title:"Home",meta_descr:"",header_custom:"",footer_custom:"",html_before:""},components:[]}}}},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};defineM("app-plugin-page-presets",function(u,p,f,h){function r(n){return n=n.filter(function(t){return t.themeName===p.theme.name}),new Promise(function(d,t){var e=n;e=e=e.map(function(t){return function(t){var e,n,i,o,r=t.presetsList,a=[],s=void 0;for(n in s=t.local?(e=p.getAddonDir(t.themeName),h.path2app(e)):"https://my.mobirise.com/data/upload/thumbs/"+t.themeName,r)r.hasOwnProperty(n)&&a.push((o=r[i=n],'<div class="column column-preset col-sm-4 col-md-4 col-lg-3" data-local=\''+t.local+"' data-theme='"+t.themeName+"' namepreset=\""+i+'" titlepreset="'+o.title+'">\n                                       <div class="column-content">\n                                            <div class="wrapper-img">\n                                                <img src="'+s+"/projects/"+i+'/cover.jpg">\n                                            </div>\n                                            <div class="wrapper-name">\n                                                <span>'+o.title+"</span>\n                                            </div>\n                                       </div>\n                                    </div>"));return a}(t).join("")}),e='<div class="main-wrapper">\n                            <div class="row form-group">\n                                <div class="search-preset-wrap col-xs-4">\n                                    <input class="search-preset-input form-control" type="text" placeholder="'+f("Search")+'" value="">\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="columns">\n                                    <div class="column-options">\n                                        <div class="column column-option plus col-sm-4 col-md-4 col-lg-3">\n                                            <div class="column-content">\n                                                <div class="wrapper-icon">\n                                                    <i class="mbr-icon-file"></i>\n                                                </div>\n                                                <div class="wrapper-name">\n                                                    <span>Add Blank Page</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="columns-presets">\n                                        '+e.join("\n")+"\n                                    </div>\n                                </div>\n                            </div>\n                        </div>",p.showDialog({title:f("Choose Template for Page"),className:"presets-page-modal",body:e,create:function(c){u(c).find(".columns-presets").on("click",".column-preset",function(){var n,t,i,o,r,e,a,s,l;"false"===u(this).attr("data-local")?(t=u(this),n=t,t="",e=p.getUserInfo(),i=n.attr("data-theme"),o=n.attr("data-theme"),e&&e.email&&(t=e.email),p.confirmDlg({message:f("The $extension$ theme isn't installed or isn't available for your account").replace("$extension$",o?"<strong>"+o+"</strong>":"")+(t?" "+t+"<br>":".<br>")+f("If the theme is installed, please reinstall it."),buttons:{cancel:{label:f("Cancel"),className:"btn-default"},confirm:{label:f("Install $theme title$").replace("$theme title$",o),className:"btn-primary"}},callback:function(t){var e;t&&((t=p.AddonsRegistry.get(i)).get("downloadURL")&&!t.isExpired()?(e=u(p.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-page-modal"),p.downloadAddon(t.toJSON()).done(function(){n.attr("data-local","true"),n.click()}).fail(function(){p.showError(f("Error add extension")+' "'+o+'"')}).always(function(){e.remove()})):p.openUrl("https://mobirise.com/extensions/kit/"))}})):(r=u(p.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-page-modal"),e=u(this).attr("data-theme"),a=u(this).attr("namepreset"),s=p.getAddonDir(e),l=s+"/projects/"+a+"/assets",p.theme.name===e?h.dirList(l,function(t){h.dirList(p.projectPath+"/assets",function(e){var n=t.filter(function(t){return!e.includes(t)}),i=0;n.length?n.forEach(function(t){h.copyLocal(l+"/"+t,p.projectPath+"/assets/"+t,function(t){++i===n.length&&m(s,a,function(t){d(t),r.remove(),u(c).modal("hide")})})}):m(s,a,function(t){d(t),r.remove(),u(c).modal("hide")})})}):h.copyLocal(l,p.projectPath+"/assets",function(){m(s,a,function(t){d(t),r.remove(),u(c).modal("hide")})}))}),u(c).find(".column-options").on("click",".column-option",function(){u(this).hasClass("plus")?(u(c).modal("hide"),d(void 0)):u(this).hasClass("features")&&(p.showAddonsList(),u(c).modal("hide"),t())});var e=u(c).find(".columns-presets > .column-preset");var n=p.stopIfRepeatDecorator(function(t){var n=t.target.value.toLowerCase();e.each(function(t,e){e=u(e);e.attr("titlepreset").toLowerCase().includes(n)?e.removeClass("hidden"):e.addClass("hidden")})},100);u(c).find(".search-preset-input").on("input",function(t){return n(t)})}})})}function m(t,e,n){h.loadLocalFile(t+"/projects/"+e+"/project.mobirise",function(t){try{t=u.parseJSON(t)}catch(t){return console.error("File 'project.mobirise' is missing!"),n()}if((t=function(t){if(1!==Object.keys(t.pages).length)return new Error("Error! Preset could not be loaded (> 1 page)");var e,n=t.pages,i=void 0;for(e in n){i=n[e].components;break}if(!i)return new Error("Error! Empty page found.");var o=JSON.stringify(i),r="mobirise5"!==(a=t.settings.theme.name)&&"startm5"!==a?p.getAddonDir(a):"..",a=(o=(o=o.replace(/@THEME_PATH@/g,p.path2core(r))).replace(/\@PROJECT_PATH\@(\/project\.mobirise)+/g,"@PROJECT_PATH@"),p.path2core(p.getAddonDir(a)+"/projects/"+t.name));o=o.replace(/\@PROJECT_PATH\@/g,a),"mobirise5"!==p.theme.name&&"startm5"!==p.theme.name&&(o=o.replace(/=\\"..\//g,'=\\"'+r+"/components/"));try{o=JSON.parse(o)}catch(t){console.error(t),o=i}return o}(i(t,{name:e})))instanceof Error)return console.error(t.message),n();n(t)})}p.regExtension({name:"app-plugin-page-presets",global:{},events:{load:function(){p.addFilter("getPagePreset",function(t){return t.then(function(){return new Promise(function(e,n){var i,o=p.theme.name.endsWith("amp"),t=p.presetsList;t.length&&t[0].themeName.endsWith("amp")===o?r(t=t.filter(function(t){return void 0!==t}).sort(function(t,e){return t.themeName===p.theme.name||e.themeName!==p.theme.name&&t.local?-1:1})).then(function(t){return e(t)},function(){return n()}):(i=u(p.preloaderHTML).css({opacity:"0.8",transition:"0.2s"}).appendTo("body"),p.getAddonsEx(function(t){t=t.filter(function(t){return o?t.name.endsWith("amp"):t.name.endsWith("m4")||t.name.endsWith("m5")||"mobirise5"===t.name?t.name.endsWith("m4")||t.name.endsWith("m5")||"mobirise5"===t.name:void 0}),Promise.all(t.map(function(n){return new Promise(function(e){var t;n.installed&&n.paid&&!n.expired||h.isDev||p.isBuildInAddon(n.name)?(t=p.getAddonDir(n.name)+"/projects/list.json",h.getLocalJSON(t,function(t){t?e({themeName:n.name,presetsList:t,local:!0}):e()})):fetch("https://my.mobirise.com/data/upload/thumbs/"+n.name+"/projects/list.json").then(function(t){404===t.status?(console.log("No presets in "+n.name+" theme."),e()):t.json().then(function(t){e({themeName:n.name,presetsList:t,local:!1})}).catch(function(t){e()})}).catch(function(t){e()})})})).then(function(t){(t=t.filter(function(t){return void 0!==t}).sort(function(t,e){return t.themeName===p.theme.name||e.themeName!==p.theme.name&&t.local?-1:1})).length?r(p.presetsList=t).then(function(t){return e(t)},function(){return n()}):e()}).finally(function(){i.remove()})},{type:"theme"},{server:!0}))})})})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var n=n(99),l=(n=n)&&n.__esModule?n:{default:n};function c(t){return function(){var s=t.apply(this,arguments);return new Promise(function(r,a){return function e(t,n){try{var i=s[t](n),o=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});r(o)}("next")})}}defineM("app-plugin-mobirise-ai",function(r,a,s){var e='<div class="col-xs-12">\n            <div class="app-new-mobirise-ai project-element-panel">\n                <div class="project-img">\n                    <svg style="height:64px; width:64px; position:absolute; top: calc(50% - 32px); left: calc(50% - 32px);" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" style="enable-background:new 0 0 256 256" xml:space="preserve"><style>.st1{stroke-width:19}.st1,.st2{fill:none;stroke-miterlimit:10}</style><path class="st1" d="M218 11.08V64.3M244.61 37.69h-53.22"/><path d="M118.66 255.72C101.97 165.09 90.91 154.03.28 137.34v-18.69C90.91 101.97 101.97 90.91 118.66.28h18.69c16.68 90.63 27.75 101.69 118.38 118.38v18.69c-90.63 16.68-101.69 27.75-118.38 118.38h-18.69zM46.64 128c23.95 6.52 41.18 14.56 53.99 27.37 12.81 12.81 20.85 30.04 27.37 53.99 6.52-23.95 14.56-41.18 27.37-53.99 12.81-12.81 30.04-20.85 53.99-27.37-23.95-6.52-41.18-14.56-53.99-27.37-12.81-12.81-20.85-30.04-27.37-53.99-6.52 23.95-14.56 41.18-27.37 53.99S70.59 121.48 46.64 128z"/></svg>\n                </div>\n                <div class="project-body app-mobirise-ai" style="height:70px;text-align:center;">\n                    <h3 style="margin-top:15px; margin-bottom:15px;" class="app-mobirise-ai-label">'+s("Create with Mobirise AI")+"</h3>\n                </div>\n            </div>\n        </div>";a.regExtension({name:"plugin-mobirise-ai",global:{newAiProject:function(){var o=a.showDialog({title:s("Create with Mobirise AI"),className:"create-site-modal presets-site-project modal-fs",body:['<div class="row justify-content-center">','<form class="project-create-ai-form col-md-6 col-md-offset-3">','<div class="form-group row clearfix">','<label style="font-size:1.8rem;" class="control-label" for="mobirise-ai-prompt">'+s("Describe in detail what your site will be about, what it will offer, who is behind it, your benefits and specialties. You can write in any language.")+"</label>",'<textarea style="font-size:1.8rem;" id="mobirise-ai-prompt" placeholder="'+s("We are Craft22, a team of skilled artisans from Brooklyn, NY.  We offer a wide range of handmade crafts, from custom jewelry to home decor.")+'" class="form-control"></textarea>','<small class="text-warning" style="display:none;">'+s("Minimum 32 characters")+"</small>","</div>",'<div style="margin-bottom:0;" class="form-group row clearfix">','<button style="margin-left:auto" class="btn btn-primary" type="submit" id="mobirise-ai-generate" disabled>'+s("Generate")+"</button>","</div>","</form>","</div>"].join("\n")}),t=o.find(".modal-content"),e=o.find(".modal-body"),n=o.find(".bootbox-close-button");n[0].addEventListener("click",function(){}),t.length&&(t[0].style.display="flex",t[0].style.flexDirection="column",t[0].style.height="100%"),e.length&&(e[0].style.display="flex",e[0].style.flexDirection="column",e[0].style.height="100%",e[0].style.justifyContent="center",e[0].style.alignContent="center"),r(o).on("shown.bs.modal",function(n){var e,i=r(n.target).find(".project-create-ai-form"),t=n.target.querySelector("#mobirise-ai-prompt");r(n.target).find(".close").css("position","fixed"),r(n.target).find(".close").css("transform","translateZ(15px)"),r(n.target).find(".close").css("right","25px"),r(n.target).find(".close").css("z-index","10"),r(n.target).find("small").hide(),t.addEventListener("keyup",function(t){0!=t.target.value.length?i.find("button").removeAttr("disabled"):i.find("button").attr("disabled","disabled")}),i.submit((e=c(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.stopPropagation(),e.preventDefault(),e.target[0].value.length<=32)return r(n.target).find("small").text(s("Your prompt is too short, add more details.")),r(n.target).find("small").show(),setTimeout(function(){r(n.target).find("small").hide()},5e3),t.abrupt("return");t.next=9;break;case 9:if(1e3<=e.target[0].value.length)return r(n.target).find("small").text(s("Your prompt is too long, shorten it.")),r(n.target).find("small").show(),setTimeout(function(){r(n.target).find("small").hide()},5e3),t.abrupt("return");t.next=14;break;case 14:l.default.generator.start({mode:"onClient",clientPrompt:e.target[0].value}).catch(function(t){a.alertDlg(t.message||"Server Error")}).finally(function(){return r(o).remove()});case 15:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)}))})}},events:{showedProjectsList:function(t){t.on("click",".app-new-mobirise-ai",function(t){t.preventDefault(),a.newAiProject()})}},filters:{showProjectsListStart:function(t){return t+e}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=n(99),M=(n=n)&&n.__esModule?n:{default:n};defineM(function(d,u,p,s,n){var l="mbrsite",t="mobirisesite.com",c="r."+t,o="en",e=new RegExp("^(.+?)\\."+t.replace(/\./g,"\\.")+"$"),f={};function i(){var e=d.Deferred();return v.Api.get("sites").then(function(t){e.resolve(t)},function(t){e.reject("Error getting list of online sites. "+t)}),e.promise()}function h(t){t.stopPropagation();var e=d(t.target).closest(".project-element"),t=e.find(".project-domain").text();u.confirmDlg(p("There is no local copy of the site, do you want to download it from $url$?").replace("$url$",'<a href="#" class="mbrsite-delete-link">'+t+"</a>"),function(t){var o;t&&(o=d(u.preloaderHTML).appendTo(".show-site-list-modal").on("click",function(t){t.stopPropagation()}),s.initProject(function(t,r){var a,n,i;!t&&r&&r.path?(a=e.attr("site-id"),n=e.attr("site-domain"),i=r.path+"/project.mobirise",v.Api.get("sites/"+a+"/files/").then(function(t){t&&t.contents&&t.contents.length?(t=t.contents.filter(function(t){return t.startsWith("assets/images/")||"project.mobirise"===t}),d.when.apply(d,t.map(function(t){return n=t,i=d.Deferred(),o="https://"+c+"/"+a+"/"+n,s.download3(o,{callback:function(t){var e;t&&"Incorrect status code"!==t?(e=r.path+"/"+n,s.moveLocal(t,e,function(t){t?i.resolve():i.reject("error getting file: "+o)})):i.reject("error getting file: "+o)}}),i.promise();var n,i,o})).then(function(){return s.getLocalJSON(i)},function(t){console.error(t)}).then(function(e){var t;e?(t=new v({id:a,domain:n,protocol:l}),e.settings[l]=t.toString(),delete e.settings.screenshot,u.runSaveProject(function(t){t||console.error("Error: unable to save current project"),u.loadProject(i,e,{onError:function(t){u.showError(p("Error loading project")+": "+t),o.remove()},onDone:function(){u.closeSidebar(),o.remove()}})},!1)):o.remove()},function(t){u.showError(p("Error loading project")+": "+t),o.remove()})):(u.showError(p("Can't download the site because it was published incorrectly.")),o.remove())})):(u.showError(p("Unable to init project")),o.remove())}))}).find(".mbrsite-delete-link").click(function(t){t=t.target.textContent;u.openUrl(t)})}function m(t){t.stopPropagation();var e=d(u.preloaderHTML).on("click",function(t){t.stopPropagation()}),n=d(t.target).closest(".project-element"),i=n.attr("site-id"),t=n.attr("site-domain"),o=new v({id:i,domain:t,protocol:l});(t=u.confirmDlg({message:p("Do you want to remove the domain $domain$? Your site will be completely removed from the Web.").replace("$domain$",'<a href="#" class="mbrsite-delete-link">'+u.escapeHtml(o.get("domain"))+"</a>").replace("?","?<br>"),callback:function(t){t&&(e.appendTo(".show-site-list-modal"),o.delete().then(function(){n.remove();for(var t=0;t<f.items.length;t++)if(f.items[t].id===parseInt(i)){f.items.splice(t,1),--f.count;break}},function(t){u.showError(p("Error removing site")+": "+t)}).always(function(){e.remove()}))},buttons:{cancel:{label:p("Cancel")},confirm:{label:p("Remove")}}})).find(".modal-footer .btn-primary").removeClass("btn-primary").addClass("btn-danger"),t.find(".mbrsite-delete-link").click(function(){u.openUrl(o.getUrl())})}a.size=function(t){var e=t.content.length;return 0==t.encoding.indexOf("base64")?!e||e%4?0:3*(e/4-1)+atob(t.content.substr(-4)).length:"utf8"==t.encoding?e+(encodeURIComponent(t.content).match(/%[89ABab]/g)||[]).length:e};var r=a;function a(t){this.content=(t=t||{}).content||"",this.encoding=t.encoding||"utf8",this.sourcePath=t.sourcePath||null,Object.defineProperty(this,"size",{get:function(){return a.size(this)}})}var g=function(e,n){var t,i=d.Deferred();return(n=n||{}).encoding||(n.encoding="base64"),n.templating?i.resolve(new r({content:s.templating(e),encoding:"utf8",sourcePath:e})):(t="base64"==n.encoding?"loadLocalBase64":"loadLocalFile",s[t](e,function(t){i.resolve(new r({content:t,encoding:n.encoding,sourcePath:e}))})),i.promise()},v=(b.parseString=function(t){t=t.match(/^([-a-z0-9]+):\/\/(.*)$/i);return t?d.extend(decodeURIComponent(t[2]),{protocol:t[1]}):{}},b.Api={_request:function(e,i){return M.default.fetchAccessToken().then(null,function(t,e){return u.handleServerError(t,e),d.Deferred().reject(new Error(t)).promise()}).then(function(t){var n=d.Deferred();if((e="string"==typeof(e=e||{})?{path:e}:e).headers=d.extend({"X-App":s.appName+"/"+s.version,Authorization:"Bearer "+t,"Accept-Language":o},e.headers||{}),e.dataType){t=String(e.dataType);if("json"!==t.toLowerCase())return n.reject(new Error('Unknown dataType: "'+t+'".')).promise();e.data=JSON.stringify(e.data),e.headers["Content-Type"]="application/json"}return i&&d.extend(!0,e,i),s._REST("https://api.mobirisesite.com/v1/"+(e.path||""),{method:e.method||"GET",timeout:e.timeout||3e4,data:e.data||"",success:function(e,t){try{e=JSON.parse(e),400<=t.statusCode?n.reject(d.extend(new Error(e.message),{code:t.statusCode})):n.resolve(e)}catch(t){n.reject(new Error(p("Incorrect server response."))),console.log("Incorrect server response:",e)}},error:function(t){n.reject(new Error(t))}}),n.promise()})},request:function(t){return this._request(t)},get:function(t){return this._request(t,{method:"GET"})},post:function(t){return this._request(t,{method:"POST"})},put:function(t){return this._request(t,{method:"PUT"})},delete:function(t){return this._request(t,{method:"DELETE"})}},b.prototype.set=function(t,e){if("object"==(void 0===t?"undefined":I(t))){var n=t;for(t in n)this.set(t,n[t])}else this.attrs[t]=e,"id"===t&&(this.id=e);return this},b.prototype.get=function(t){return this.attrs[t]},b.prototype.getUrl=function(){return u.domainManager&&u.domainManager.siteId===this.id&&u.domainManager.isConnected&&u.domainManager.isReady?"https://"+u.domainManager.getCustomDomainInfo().name:"https://"+this.attrs.domain},b.prototype.toString=function(){return this.attrs.protocol+"://"+encodeURIComponent(JSON.stringify(this))},b.prototype.toJSON=function(){return{id:this.id,domain:this.attrs.domain}},b.prototype.save=function(t){return t=d.extend(this.toJSON(),t||{}),u.getSubdomain(t.domain)?(this.id?b.Api.put({path:"sites/"+this.id,data:t,dataType:"json"}):b.Api.post({path:"sites",data:t,dataType:"json"})).then(this.set.bind(this)):d.Deferred().reject(new Error(p("Incorrect domain name."))).promise()},b.prototype.delete=function(){return b.Api.delete({path:"sites/"+this.id}).then(function(){this.set("id",null)}.bind(this))},b.prototype.isAvailableFeature=function(e){return t=this.id,n.get("sites/"+t+"/licenses").then(function(t){for(var e={},n=0;n<t.length;n++)t[n].isExpired||t[n].plan.features.forEach(function(t){return e[t]=1});return Object.keys(e)},function(t){return console.error(t),d.when([])}).then(function(t){return t.includes(e)});var t},b);function b(t){t="string"==typeof t?b.parseString(t):t||{},this.fs=new y({site:this}),this.id=null,this.attrs={},this.set(d.extend({protocol:"site"},t))}w.prototype.deleteFile=function(t){return this.site.id?v.Api.delete("sites/"+this.site.id+"/files/"+t):d.Deferred().reject(new Error("Unable to delete file.")).promise()},w.prototype.uploadFile=function(t,e){var n;return this.site.id?6e6<e.size?d.Deferred().reject(new Error(p("File too large")+": "+t)).promise():(n={},"utf8"!=e.encoding&&(n["X-Payload-Encoding"]=e.encoding),v.Api.post({path:"sites/"+this.site.id+"/files/"+t,data:e.content,headers:n})):d.Deferred().reject(new Error("Unable to upload file.")).promise()};var y=w;function w(t){d.extend(this,t||{})}function x(l){(l=l||{}).pipes||(l.pipes=[]),i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";var i,c=function(){for(var t=Math.floor((new Date).getTime()/1e3),e=i.length,n="";0<t;)n=i.charAt(t%e)+n,t=(t-t%e)/e;return n};return function(t,e,n){if(0==t.indexOf(l.name+"://")){n.onStart(e.length);for(var i=new v(t),o=new x.Stream(e),r={ver:c(),site:i,stream:o},a=0;a<l.pipes.length;a++){var s=l.pipes[a];o.pipe(s.bind(r))}return o.pipe(function(t){return n.onFile(t.destPath),i.fs.uploadFile(t.destPath,t).then(function(){n.onUploaded(t.destPath)})}).done(function(){bootbox.dialog({className:"mbrsite",message:'<div class="congrats-modal text-center">\n                                <br>\n                                <h3 class="title">\n                                    <span><b>'+p("Congratulations!")+"</b></span>\n                                </h3>\n                                <br>\n                                <div>"+p("Your site is published and live online:")+'</div>\n                                <span><a class="congrats-site-link" href="'+i.getUrl()+'" target="_blank">'+i.getUrl()+'</a></span>\n                                <button class="btn btn-primary" id="viewSite">View Site</button>\n                                <br>\n                                '+(u.domainManager&&!0===u.domainManager.isConnected?"":'<div class="separator">\n                                            <h3>'+p("Next:")+"</h3>\n                                            <div>"+p("Edit your site online:")+'</div>\n                                            <span><a href="'+i.getUrl()+'/edit/" target="_blank">'+i.getUrl()+'/edit/</a></span>\n                                            <button class="btn btn-primary" id="editSite">Edit Site</button>\n                                        </div>\n                                        <div class="item mbrsite-domain-control">\n                                            <span>'+p("Connect your own domain")+"</span>\n                                            <br>\n                                            <span>"+p("https://")+'</span>\n                                            <input id="custom-domain" type="text" placeholder="yourdomain.com" class="form-control">\n                                            <button class="btn btn-primary" id="connect-custom-btn">Connect</button>\n                                        </div>')+"\n                            </div>",buttons:{cancel:{label:p("ok"),className:"btn-primary"}}}).on("hidden.bs.modal",function(){n.onClose()}).on("click","#viewSite",function(){n.onClose(i.getUrl())}).on("click","#editSite",function(){n.onClose(i.getUrl()+"/edit/")}).on("click","#connect-custom-btn",function(t){n.onClose()}),u.fire("endUploader")}).fail(function(t){n.onError(t.message)}),d.extend(o.control(),{exit:function(){o.pause(),n.onClose()}})}}}function _(t){d.extend(this,{_pos:0,_list:t||[],_funcs:{pipe:[],done:[],fail:[this.pause.bind(this)]},_timeout:setTimeout(this.resume.bind(this),0),_isPaused:!0})}x.Stream=(_.isBinaryFile=function(t){return 1==t.length&&!t[0].filter&&!/\.(html|xml|css|map|less|js|json|mobirise)$/.test(t[0].src)},_.prototype._next=function(){var e,n,t;this._pos>=this._list.length?this._funcs.done.forEach(function(t){t()}):(t=(e=this._list[this._pos++]).srcList,n=_.isBinaryFile(t),t=d.when.apply(d,t.map(function(t){return g(t.src,{encoding:n?null:"utf8",templating:t.filter})})).then(function(){var t=[].slice.call(arguments),t=t.length<2?t[0]:new r({content:t.map(function(t){return t.content}).join(""),encoding:"utf8"});return t.destPath=e.dest,t}),t=this._funcs.pipe.reduce(function(t,e){return t.then(e)},t).then(function(){this.isPaused()||this._next()}.bind(this)),this._funcs.fail.reduce(function(t,e){return t.fail(e)},t))},_.prototype.isPaused=function(){return this._isPaused},_.prototype.pause=function(){return clearTimeout(this._timeout),this._isPaused=!0,this},_.prototype.resume=function(){return this.isPaused()&&(this._isPaused=!1,this._next()),this},_.prototype.pipe=function(t){return this._funcs.pipe.push(t),this},_.prototype.done=function(t){return this._funcs.done.push(t),this},_.prototype.fail=function(t){return this._funcs.fail.push(t),this},_.prototype.repeat=function(){return 0<this._pos&&this._pos--,this.resume()},_.prototype.control=function(){return{pause:this.pause.bind(this),resume:this.resume.bind(this),repeat:this.repeat.bind(this)}},_);function k(t){var o=this;switch(t.destPath.split(".").pop()){case"html":t.content=t.content.replace(P,function(t,e,n){var i=O(n)?"?v="+o.ver:"";return e+'="https://'+c+"/"+o.site.id+"/"+n+i+'"'}).replace(T,function(t,e,n){var i=O(n)?"?v="+o.ver:"";return e+'=\\"https://'+c+"/"+o.site.id+"/"+n+i+'\\"'}).replace(C,function(t,e,n){return"url("+e+"https://"+c+"/"+o.site.id+"/"+n+"?v="+o.ver+e+")"}).replace(L,function(t,e,n){var i=O(n)?"?v="+o.ver:"";return e+(n="https://"+c+"/"+o.site.id+"/"+n+i)+"']"}).replace(A,function(t,e,n){var n=JSON.parse(decodeURIComponent(n)),i=O(n.images)?"?v="+o.ver:"";return n.images="https://"+c+"/"+o.site.id+"/"+n.images+i,e+encodeURIComponent(JSON.stringify(n))+'"'}),t.content=t.content.replace(E,function(t,e,n){return e+'="https://'+c+"/"+o.site.id+"/"+n+'"'});break;case"css":t.content=t.content.replace(j,function(t,e,n){var i;return i=n,"."==(n=(/^(\.|https?:|data:)/.test(i)?"":"./")+i).charAt(0)&&O(n)&&(n+="?v="+o.ver),"url("+e+n+e+")"})}switch(t.destPath){case"manifest.json":t.content=t.content.replace("assets/icons/512x512.png","https://"+c+"/"+o.site.id+"/assets/icons/512x512.png");break;case"sw.js":t.content=t.content.replace("importScripts('assets/sw-toolbox.js')","importScripts('https://"+c+"/"+o.site.id+"/assets/sw-toolbox.js');")}return t}var S,C,P,T,j,E,A,L;S=/(\.png|\.jpe?g|\.gif|\/mbr-additional\.css)$/,C=/url\((["']?)(?:\.\.\/)*(assets\/.+?)\1\)/g,P=/(href|src)="(?:\.\.\/)*(assets\/.+?)"/g,T=/(href|src)=\\"(?:\.\.\/)*(assets\/.+?)\\"/g,j=/url\((["']?)(.+?)\1\)/g,E=/(content)="(?:\.\.\/)*(assets\/.+?)"/g,A=/(href="data:application\/json,)(.*?)(?=")/g,L=/(tap:.+'images':\[')(.+?)']/g;function O(t){return S.test(t)}function $(e){return"utf8"==e.encoding&&6e6<e.size?s.gzipBase64(e.content).then(function(t){return e.content=t,e.encoding="base64-gzip",e}):e}function D(t){return u.applyFilter(l+"UploadFile",d.when(t))}var F=d('<h3 class="project-label project-domain text-primary"></h3>');u.regExtension({name:l,global:{getSubdomain:function(t){return"string"!=typeof t?null:(t=e.exec(t))&&t[1]},isAvailableFeature:function(t){return t=t,!!(e=u.projectSettings||(u.projectSettings={}))[l]&&new v(e[l]).isAvailableFeature(t);var e}},events:{createPublishModal:function(t){var e=u.projectSettings&&u.projectSettings[l];t.find('input[name="mbrsiteDomain"]').val(e?u.getSubdomain(v.parseString(e).domain):u.getUID(10).toLowerCase()),u.domainManager&&u.domainManager.checkPublishTemplate(t)},loaded:function(){u.addFilter("getPublishUrl",function(t,e,n){var i;return e===l?(u.projectSettings||(u.projectSettings={}),i=d(u.preloaderHTML).css({opacity:.8,borderRadius:"8px"}),n.find(".modal-content").before(i),e=d("[name=mbrsiteDomain]"),u.changeUsrDomain(e.val()).then(function(t){return u.projectSettings.domains[0]=t,u.projectSettings.publicUrl="https://"+t.name+"/",u.runSaveProject(),i.remove(),n.modal("hide"),!0}).catch(function(t){throw console.log(t),i.remove(),n.find(".mbrsite-publish-settings").addClass("mbrsite-domain-error").end(),n.find(".mbrsite-input-status").html(t.message),t})):t})},load:function(){u.addFilter("removeProject",function(t,e){return t.then(function(){return s.getLocalJSON(e+"/project.mobirise")}).then(function(t){var r,a,s=d.Deferred(),t=t&&t.settings&&t.settings[l];return t?(r=new v(t),a=r.id,(t=u.confirmDlg({message:p("Do you want to remove the domain $domain$? Your site will be completely removed from the Web.").replace("$domain$",'<a href="#" class="mbrsite-delete-link">'+u.escapeHtml(r.get("domain"))+"</a>").replace("?","?<br>"),callback:function(t){var e,n,i,o;t?(e=d(u.preloaderHTML).appendTo(".show-site-list-modal").on("click",function(t){t.stopPropagation()}),r.delete().then(function(){for(var t=0;t<f.items.length;t++)if(f.items[t].id===parseInt(a)){f.items.splice(t,1),--f.count;break}},function(t){u.showError(p("Error removing site")+": "+t)}).always(function(){e.remove(),s.resolve()})):(n=(t=u.$body.find(".show-site-list-modal .site-list .project-element").eq(0)).clone(),i=r.getUrl(),o=r.get("domain"),n.attr({"site-id":a,"site-domain":o}).find(".project-element-panel").removeClass("active").addClass("project-remote").find(".project-img").addClass("project-img-icon").html('<i class="mbr-icon-globe-with-americas-shown"></i>').end().find(".project-name").text(u.getSubdomain(o)).end().find(".btn-group > .btn:not(.app-project-remove)").remove(),n.find(".project-domain").length?n.find(".project-domain").text(i):((o=F.clone()).text(i),n.find(".project-name").after(o)),t.after(n),n.find(".project-domain").on("click",function(t){t.stopPropagation();t=t.target.textContent;u.openUrl(t)}),n.find(".project-remote").on("click",h),n.find(".app-project-remove").on("click",m).tooltipster({content:p("Remove Site"),delay:0,speed:100,position:"bottom"}),s.resolve())},show:function(e){e.one("keypress",function(t){t.code,e.find("[data-bb-handler='confirm']").click()})},buttons:{cancel:{label:p("Cancel")},confirm:{label:p("Remove")}}})).find(".modal-footer .btn-primary").removeClass("btn-primary").addClass("btn-danger"),t.find(".mbrsite-delete-link").click(function(){u.openUrl(r.getUrl())})):s.resolve(),s.promise()})}),u.addFilter("projectHashesUrl",function(t){var e;return t&&0==t.indexOf(l+"://")?(e=v.parseString(t)).protocol+"://"+encodeURIComponent(JSON.stringify({id:e.id})):t}),u.addFilter("publishProjectSettings",function(t,e){return e&&delete t[l],t}),s.getSettings("language",function(t){t&&(o=t)}),s.fileManagerAddUploader(new x({name:l,pipes:[k,D,$]})),u.addFilter("showProjectsListEach",function(t,e,n){var i,o;return n[l]?(i=d(t),n=new v(n[l]),(o=F.clone()).text(n.getUrl()),i.find(".project-element-panel").find(".project-name").after(o),i[0].outerHTML):t}),this.$body.on("click",".mbrsite-open",function(){var t=u.projectSettings&&u.projectSettings[l];t&&(t=new v(t),u.openUrl(t.getUrl()))}),this.$body.on("click",".mbrsite-delete",function(){var i,o=d(".app-layer-common"),t=(d(".mbrsite-domain-control"),u.projectSettings&&u.projectSettings[l]);if(t)return i=new v(t),(t=u.confirmDlg(p("Do you want to remove the domain $domain$? Your site will be completely removed from the Web.").replace("$domain$",'<a href="#" class="mbrsite-delete-link">'+u.escapeHtml(i.get("domain"))+"</a>").replace("?","?<br>"),function(t){var e,n;t&&(e=d(u.preloaderHTML).css("opacity",.8),o.find(".app-layer-cont").before(e),n=i.id,i.delete().then(null,function(t){return(404===t.code?d.Deferred().resolve():d.Deferred().reject(t)).promise()}).then(function(){for(var t=0;t<f.items.length;t++)if(f.items[t].id===n){f.items.splice(t,1),--f.count;break}return d.Deferred(function(e){delete u.projectSettings[l],u.runSaveProject(function(t){e.resolve(),u.fire("mbrsiteDeleted")},!0)}).promise()}).always(function(){e.remove()}))})).find(".modal-footer .btn-primary").removeClass("btn-primary").addClass("btn-danger"),t.find(".mbrsite-delete-link").click(function(){u.openUrl(i.getUrl())}),!1}).end(),u.addFilter("publishFiles",function(t,e){return"mbrsite"===u.projectSettings.publishType&&t.push({dest:"edit/index.html",srcList:[{src:"edit/index.html",filter:"template"}]}),t}),u.addFilter("publishTemplating",function(t,e){return"mbrsite"===u.projectSettings.publishType&&"edit/index.html"==e?'<!DOCTYPE html>\n                                <html lang="en">\n                                    <head>\n                                        <meta charset="UTF-8">\n                                        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                                        <title>CMS</title>\n                                    </head>\n                                    <body>\n                                        <script src="https://c.ybnz.com/creator.js"><\/script>\n                                    </body>\n                                </html>':t})},showedProjectsList:function(r){var e=d(u.preloaderHTML).appendTo(".show-site-list-modal").on("click",function(t){t.stopPropagation()});d.when.apply(d,r.find(".site-list .project-element").toArray().map(function(t){return t=t,n=d.Deferred(),(i=d(t)).find(".project-domain").length?n.resolve():(t=i.attr("data-url"),s.getLocalJSON(t).then(function(t){var e,t=t&&t.settings&&t.settings[l];t&&(t=new v(t),(e=F.clone()).text(t.getUrl()),i.find(".project-element-panel").find(".project-name").after(e)),n.resolve()}).catch(function(t){console.log(t),n.resolve()})),n.promise();var n,i})).then(function(){f.count?i().then(function(t){(f=t).items.forEach(function(t){var e,n,i="https://"+t.domain,o=!1;u.domainManager&&u.domainManager.siteId===t.id&&u.domainManager.isConnected&&u.domainManager.isReady&&(i="https://"+u.domainManager.getCustomDomainInfo().name),r.find(".site-list .project-element .project-domain").each(function(t,e){e=e.textContent;if(i===e)return!(o=!0)}),o||((n=(e=r.find(".site-list .project-element").eq(0)).clone()).attr({"site-id":t.id,"site-domain":t.domain}).find(".project-element-panel").removeClass("active").addClass("project-remote").find(".project-img").addClass("project-img-icon").html('<i class="mbr-icon-globe-with-americas-shown"></i>').end().find(".project-name").text(u.getSubdomain(t.domain)).end().find(".btn-group > .btn:not(.app-project-remove)").remove(),n.find(".project-domain").length?n.find(".project-domain").text(i):((t=F.clone()).text(i),n.find(".project-name").after(t)),e.after(n))}),r.find(".site-list .project-element > .project-element-panel.project-remote").on("click",h),r.find(".site-list .project-element .project-domain").on("click",function(t){t.stopPropagation();t=t.target.textContent;u.openUrl(t)}),r.find(".site-list .project-element > .project-element-panel.project-remote .app-project-remove").on("click",m).tooltipster({content:p("Remove Site"),delay:0,speed:100,position:"bottom"}),e.remove()},function(t){e.remove(),console.error(t)}):e.remove()},function(t){console.error(t),e.remove()})},cancelProjectRemove:function(r,a){s.getLocalJSON(r).then(function(n){var i,o,t=n&&n.settings&&n.settings[l];t&&(i=new v(t),o=i.id,(t=u.confirmDlg({message:p("Do you want to remove the domain $domain$? Your site will be completely removed from the Web.").replace("$domain$",'<a href="#" class="mbrsite-delete-link">'+u.escapeHtml(i.get("domain"))+"</a>").replace("?","?<br>"),callback:function(t){var e;t&&(e=d(u.preloaderHTML).appendTo(".show-site-list-modal").on("click",function(t){t.stopPropagation()}),i.delete().then(function(){var t=r.substring(0,r.lastIndexOf("/"));s.changeRecentSettings(t,{mbrsite:""},function(t){delete n.settings[l],s.saveLocalFile(r,JSON.stringify(n),function(t){for(var e=0;e<f.items.length;e++)if(f.items[e].id===parseInt(o)){f.items.splice(e,1),--f.count;break}d(a.target).closest(".project-element").find(".project-domain").remove(),u.updateProjectName()})})},function(t){u.showError(p("Error removing the domain")+": "+t)}).always(function(){e.remove()}))},buttons:{cancel:{label:p("Cancel")},confirm:{label:p("Remove")}}})).find(".modal-footer .btn-primary").removeClass("btn-primary").addClass("btn-danger"),t.find(".mbrsite-delete-link").click(function(){u.openUrl(i.getUrl())}))})},loadedProject:function(){u.updateProjectName()},savedProject:function(){u.updateProjectName()},changedProjectSettings:function(){u.updateProjectName()},domainManagerLoaded:function(){var t=u.projectSettings&&u.projectSettings[l];if(t){var t=new v(t),o=d(".app-layer-common"),r=d(".mbrsite-domain-control"),a=o.find(".mbrsite-change-domain-btn");try{var e=d(".app-layer-common").find(".mbrsite-change-domain-btn"),n=u.domainManager.data?u.getSubdomain(u.domainManager.getDomainInfo().name):t.attrs?u.getSubdomain(t.attrs.domain):"";d(".app-layer-common").find("#site-settings-domain").attr("value",n).on("focus",function(){e.css("visibility","visible")}).on("blur",function(t){t=t.relatedTarget;t&&d(t).hasClass("mbrsite-change-domain-btn")||e.css("visibility","hidden")}).end()}catch(t){console.error(t)}a.on("click",function(){var t,e,n,i=u.projectSettings||(u.projectSettings={});i[l]&&(t=new v(i[l]),(e=u.withSubdomain(o.find("input.mbrsite-domain").val().trim()))===t.get("domain")?a.css("visibility","hidden"):(n=d(u.preloaderHTML).css("opacity",.8).appendTo(o),r.removeClass("mbrsite-domain-error"),t.save({domain:e}).then(function(){i[l]=t.toString()},function(t){return(404===t.code?(delete i[l],d.Deferred().resolve()):(r.addClass("mbrsite-domain-error").find(".mbrsite-input-status").html(t.message),n.remove(),d.Deferred().reject(t))).promise()}).always(function(){a.css("visibility","hidden"),u.domainManager&&u.domainManager.syncDomainData(),n.remove()})))}),u.updateProjectName()}},accountInited:function(){i().then(function(t){f=t},function(t){console.error(t)})},signedin:function(){i().then(function(t){f=t},function(t){console.error(t)})}}})},["jQuery","mbrApp","TR()","Bridge","mbrServer"])},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(143),n(144),t.exports=n(356)}]);
